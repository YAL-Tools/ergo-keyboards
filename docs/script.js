// Generated by Haxe 4.3.3
(function ($global) { "use strict";
var $estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var ColStagBoards = function() { };
ColStagBoards.__name__ = true;
ColStagBoards.init = function(keyboards) {
	var add = function(kb) {
		if(kb.stagger == null) {
			kb.stagger = [type_StaggerType.Column];
		}
		kb.shape = kb.shape != null ? kb.shape : type_ValList.fromValue(type_Shape.Split);
		keyboards.push(kb);
		return kb;
	};
	var kb = ColStagKeyboard._new("Corne/crkbd");
	var corne = kb;
	ColStagKeyboard.setMatrix(kb,[{ min : 36, max : 42}],{ min : 5, max : 6},type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc]);
	kb.connection = [type_Connection.Wired,type_Connection.Wireless];
	kb.displays = type_NumRange.fromArray([0,2]);
	kb.caseType = [type_CaseType.ThirdParty];
	kb.lighting = [type_Lighting.None,type_Lighting.RGB];
	kb.source = type_ValList.fromValue("https://github.com/foostan/crkbd");
	kb.buildGuide = ["[US] https://github.com/foostan/crkbd/blob/main/docs/corne-cherry/v4/buildguide_en.md","[JP] https://github.com/foostan/crkbd/blob/main/docs/corne-cherry/v4/buildguide_jp.md"];
	kb.kit = ["https://splitkb.com/collections/keyboard-kits/products/aurora-corne","https://holykeebs.com","[v:MX] https://new.boardsource.xyz/products/Corne","[v:Choc] https://new.boardsource.xyz/products/Corne_LP","[v:MX] https://nextkeyboard.club/product-tag/corne-v3-0-1-mx/","[v:MX] https://customkbd.com/collections/split-keyboards/products/corne-classic-kit","[v:Choc] https://42keebs.eu/shop/kits/pro-micro-based/corne-chocolate-low-profile-hotswap-split-ergo-40-kit/","[v:MX] https://www.diykeyboards.com/keyboards/keyboard-kits/product/corne-keyboard-kit","[v:MX] https://keebd.com/products/corne-cherry-v3-rgb-keyboard-kit","[v:Choc] https://keebd.com/products/corne-choc-low-profile-rgb-keyboard-kit","[v:MX] https://keyhive.xyz/shop/corne-v3","https://mechboards.co.uk/collections/kits/products/helidox-corne-kit","[v:Choc] https://shop.yushakobo.jp/en/products/corne-chocolate","https://www.littlekeyboards.com/collections/corne-pcb-kits","https://keebmaker.com/collections/kits","[v:MX] https://shop.beekeeb.com/product/corne-cherry-v3-0-1-crkbd-hotswap-split-keyboard-pcb-set/","[v:Choc] https://shop.beekeeb.com/product/crkbd-v3-corne-keyboard-choc-chocolate-low-profile-lp-pcb-kit/","[US] [n:WeirdLittleKeebs] https://www.etsy.com/listing/1113750577/corne-light-v2-pcb @ https://www.etsy.com/shop/WeirdLittleKeebs","https://keycapsss.com/keyboard-parts/pcbs/53/crkbd-split-keyboard-pcb-corne-helidox","[v:v3 MX] https://falbatech.click/products/Pre-soldered-Corne-p613836639","[v:v3 MX mini] https://falbatech.click/products/Pre-soldered-Corne-mini-p613854160","[v:v3 MX BT] https://falbatech.click/products/Pre-soldered-Corne-Wireless-p613843630","[v:v3 MX BT] https://falbatech.click/products/Pre-soldered-Corne-mini-Wireless-p613843878"];
	kb.prebuilt = ["https://customkbd.com/collections/split-keyboards/products/corne-classic-kit","[v:BT MX] https://shop.beekeeb.com/product/pre-soldered-wireless-corne-mx-keyboard/","[v:BT Choc] https://shop.beekeeb.com/product/presoldered-wireless-corne-keyboard/","[v:v3 MX] https://shop.beekeeb.com/product/pre-soldered-crkbd-v3-mx-corne-keyboard/","[v:v3 Choc] https://shop.beekeeb.com/product/pre-soldered-crkbd-v3-choc-corne-keyboard-low-profile/","[v:BT Choc] https://keyclicks.ca/products/choc-corne","[v:BT MX] https://keyclicks.ca/products/w-corne-40-2-4g-wireless-split-keyboard","[v:MX] https://falbatech.click/products/Corne-Fully-Assembled-Custom-Mechanical-Keyboard-p630685502","[v:MX mini] https://falbatech.click/products/Corne-mini-Fully-Assembled-Custom-Mechanical-Keyboard-p630813323","[v:MX mini] https://falbatech.click/products/Corne-Mini-Ergonomic-Dark-Bamboo-Keyboard-shipping-in-24h-p613843609","[v:MX mini] https://falbatech.click/products/Corne-Mini-Ergonomic-Natural-Bamboo-Keyboard-with-Tilt-Tent-Set-in-shipping-24h-p613843369","[v:MX BT] https://falbatech.click/products/Corne-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p630685504","[v:MX BT mini] https://falbatech.click/products/Corne-mini-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p631346754"];
	kb.extras = ["[v:Aluminium case] https://keyhive.xyz/shop/aluminum-corne-helidox-case","[v:Unibody case] https://www.thingiverse.com/thing:6455098","[v:Unibody tray] https://www.thingiverse.com/thing:4897653","[v:Trackpad module] https://www.thingiverse.com/thing:5425081","[v:Case] https://www.printables.com/model/763144-nusumu-corne-keyboard-case","[v:LP Case] https://www.thingiverse.com/thing:4549765 @ https://kbd.news/Corne-LP-case-810.html","[v:Case] https://github.com/kisonecat/corne-case","[v:Tented case] https://www.thingiverse.com/thing:4705667","[v:Magnetic case] https://github.com/Runningtarrens/Mcorne"];
	kb.img = type_ValList.fromValue("crkbd.jpg");
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = ColStagKeyboard._new("Unicorne",corne);
	kb.trackpoints = type_NumRange.fromArray([0,2]);
	kb.kit = ["[v:MX] https://new.boardsource.xyz/products/unicorne","[v:Choc] https://new.boardsource.xyz/products/unicorne-LP"];
	kb.buildGuide = type_ValList.fromValue("https://new.boardsource.xyz/docs/build_guides-unicorne");
	var sofleShared = function() {
		kb.notes = ["The difference between Sofle V1 and Sofle V2 is in bottom row layout and pinky column stagger.","Sofle Choc uses Sofle V2-like bottom row layout but V1-like pinky column stagger."];
		kb.web = type_ValList.fromValue("https://josefadamcik.github.io/SofleKeyboard/");
		kb.source = type_ValList.fromValue("https://github.com/josefadamcik/SofleKeyboard");
		kb.buildGuide = type_ValList.fromValue("https://josefadamcik.github.io/SofleKeyboard/");
	};
	kb = ColStagKeyboard._new("Sofle V1");
	kb.img = type_ValList.fromValue("sofle.jpg");
	sofleShared();
	kb.keys = [type_NumRange.fromValue(58)];
	kb.rows = type_NumRange.fromValue(4);
	kb.cols = type_NumRange.fromValue(6);
	kb.thumbKeys = type_NumRange.fromValue(5);
	kb.pinkyStagger = 0.2;
	kb.hotswap = [type_HotSwap.Yes];
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc];
	kb.keySpacing = [type_KeySpacing.MX];
	kb.encoders = type_NumRange.fromValue(2);
	kb.encoderType = type_ValList.fromValue(type_EncoderType.Knob);
	kb.displays = type_NumRange.fromArray([0,2]);
	kb.assembly = [type_Assembly.PCB,type_Assembly.Reversible];
	kb.caseType = [type_CaseType.Included,type_CaseType.ThirdParty];
	kb.lighting = [type_Lighting.None];
	ColStagKeyboard.setQMK(kb,[type_Software.VIA,type_Software.Vial]);
	kb.kit = ["[v:MX, Choc] https://mechboards.co.uk/collections/kits/products/sofle-kit","[v:MX only?] https://customkbd.com/collections/split-keyboards","[v:Choc] https://keebd.com/en-gb/products/sofle-v2-1-choc-keyboard-kit"];
	kb.prebuilt = ["[v:MX only?] https://customkbd.com/collections/split-keyboards"];
	var sofleV1 = add(kb);
	kb = ColStagKeyboard._new("Sofle V2",sofleV1);
	kb.img = type_ValList.fromValue("sofle-rgb.webp");
	sofleShared();
	kb.notes.push("Separate unlit and RGB versions exist.");
	kb.notes.push("Non-hotswap version is unlit.");
	kb.switchProfile = [type_SwitchProfile.MX];
	kb.hotswap = [type_HotSwap.Yes,type_HotSwap.No];
	kb.lighting = [type_Lighting.None,type_Lighting.RGB];
	kb.pinkyStagger = 0.4;
	kb.kit = ["[v:Unlit] https://keebd.com/en-us/products/sofle-v2-keyboard-kit","[v:RGB] https://keebd.com/en-gb/products/sofle-v2-1-rgb-keyboard-kit","[v:Unlit?] https://mechboards.co.uk/collections/kits/products/sofle-kit","[v:Unlit] https://customkbd.com/collections/split-keyboards/products/sofle-v2-keyboard-kit","[v:RGB] https://customkbd.com/collections/split-keyboards/products/sofle-keyboard-kit-v2-1-rgb","[v:Unlit?] https://42keebs.eu/shop/kits/pro-micro-based/sofle-v2-hotswap-split-ergo-50-kit-black/","[v:RGB] https://keebd.com/products/sofle-v2-1-rgb-keyboard-kit","[v:RGB] https://www.littlekeyboards.com/products/sofle-rgb-pcb-kit","[v:RGB] https://keebmaker.com/collections/kits/products/sofle-rgb-kit","[v:Unlit] https://shop.beekeeb.com/product/sofle-v2-soflekeyboard-v2-0-1-split-ergonomic-diy-mechanical-keyboard-pcb-kit/"];
	kb.prebuilt = ["[v:RGB] https://keebmaker.com/collections/custom-keyboards/products/sofle-rgb","[v:RGB] https://shop.beekeeb.com/product/pre-soldered-sofle-rgb-mx/","[v:Unlit] https://shop.beekeeb.com/product/pre-soldered-sofle-v2/","[v:RGB] https://shop.beekeeb.com/product/pre-soldered-sofle-rgb-mx/","[v:Unlit] https://customkbd.com/collections/split-keyboards/products/sofle-v2-assembled","[v:RGB] https://customkbd.com/collections/split-keyboards/products/sofle-keyboard-rgb-assembled","[v:Unlit, RGB] https://ergomech.store/shop?search=&order=&attrib=&attrib=&attrib=&attrib=&attrib=11-22&attrib=","[v:RGB] https://xcmkb.com/products/soflev2"];
	kb.extras = ["[v:v2 tented case] https://shop.beekeeb.com/product/sofle-2-tented-case/","[v:v2 printable case] https://github.com/kb-elmo/SofleCase"];
	var sofleV2 = add(kb);
	kb = ColStagKeyboard._new("Sofle Choc",sofleV1);
	kb.img = type_ValList.fromValue("sofle-choc.jpg");
	sofleShared();
	kb.notes.push("Sometimes also called \"Sofle RGB Choc 2.1\" by vendors.");
	kb.switchProfile = [type_SwitchProfile.Choc];
	kb.keySpacing = [type_KeySpacing.MX];
	kb.kit = ["https://keebmaker.com/collections/kits/products/sofle-low-profile-kit","https://shop.beekeeb.com/product/sofle-rgb-choc-chocolate-v2-1-low-profile-soflekeyboard-split-ergonomic-diy-pcb-kit/","https://customkbd.com/collections/split-keyboards/products/sofle-choc-keyboard","https://42keebs.eu/shop/kits/pro-micro-based/sofle-choc-hotswap-split-ergo-50-kit-black/","https://www.littlekeyboards.com/products/sofle-choc-pcb-kit"];
	kb.prebuilt = ["https://keebmaker.com/products/sofle-low-profile","https://shop.beekeeb.com/product/presoldered-sofle-rgb-choc-v2-1/"];
	var sofleChoc = add(kb);
	kb = ColStagKeyboard._new("Aurora Sofle V2",sofleV2);
	kb.img = type_ValList.fromValue("aurora-sofle-v2.webp");
	kb.connection = [type_Connection.Wired,type_Connection.Wireless];
	kb.notes = ["Differences from Sofle V2:","- Supports Choc switches","- Supports a pair of additional encoders in place of thumb/top corner keys.","- Supports underglow","- Supports SplitKB tenting pucks","- Supports wireless/ZMK"];
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc];
	kb.hotswap = [type_HotSwap.Yes,type_HotSwap.No];
	kb.lighting = [type_Lighting.None,type_Lighting.RGB,type_Lighting.Underglow];
	kb.tenting = [type_Tenting.Mount];
	kb.firmware = [type_Firmware.QMK,type_Firmware.ZMK];
	kb.kit = type_ValList.fromValue("https://splitkb.com/collections/keyboard-kits/products/aurora-sofle-v2");
	kb.prebuilt = [];
	kb.buildGuide = type_ValList.fromValue("https://splitkb.com/aurora-build");
	add(kb);
	kb = ColStagKeyboard._new("Sofle FT",sofleV2);
	kb.img = type_ValList.fromValue("sofle-ft-wireless.webp");
	kb.notes = ["Differences from Sofle V2:"];
	kb.notes = kb.notes.concat(["- Key switches can take place of rotary encoders","- Wired/wireless","- Wooden cases with optional tenting legs","- No lighting"]);
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.keys = type_NumRangeList.either(58,60);
	kb.encoders = type_NumRange.fromArray([0,2]);
	kb.displays = type_NumRange.fromArray([0,2]);
	kb.tenting = [type_Tenting.None,type_Tenting.Legs];
	kb.lighting = [type_Lighting.None];
	ColStagKeyboard.setQMK(kb,[type_Software.VIA]);
	kb.kit = ["[v:Wired] https://falbatech.click/products/Pre-soldered-Sofle-p613836129","[v:Wireless] https://falbatech.click/products/Pre-soldered-Sofle-Wireless-p613834138"];
	kb.prebuilt = ["[v:Wired] https://falbatech.click/products/Sofle-Fully-Assembled-Custom-Mechanical-Keyboard-p631773372","[v:Wireless] https://falbatech.click/products/Sofle-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p631781585"];
	add(kb);
	kb = ColStagKeyboard._new("Sofle FT LP",sofleChoc);
	kb.img = type_ValList.fromValue("sofle-ft-lp.webp");
	kb.notes = ["Differences from Sofle Choc:"];
	kb.notes = kb.notes.concat(["- Key switches can take place of rotary encoders","- Wired/wireless","- Wooden cases with optional tenting legs","- No lighting"]);
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.keys = type_NumRangeList.either(58,60);
	kb.encoders = type_NumRange.fromArray([0,2]);
	kb.displays = type_NumRange.fromArray([0,2]);
	kb.tenting = [type_Tenting.None,type_Tenting.Legs];
	kb.lighting = [type_Lighting.None];
	ColStagKeyboard.setQMK(kb,[type_Software.VIA]);
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.kit = ["[v:Wired] https://falbatech.click/products/Pre-soldered-Sofle-low-profile-p613843876","[v:Wireless] https://falbatech.click/products/Pre-soldered-Sofle-Low-Profile-Wireless-p613870266"];
	kb.prebuilt = ["[v:Wired] https://falbatech.click/products/Sofle-Low-profile-Fully-Assembled-Custom-Mechanical-Keyboard-p631773376","[v:Wireless] https://falbatech.click/products/Sofle-Low-profile-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p631799062"];
	add(kb);
	kb = ColStagKeyboard._new("XCMKB SoflePLUS2",sofleV2);
	kb.img = type_ValList.fromValue("xcmkb-sofle-plus2.webp");
	kb.notes = ["Differences from Sofle V2:","- MX/Choc hotswap","- Trackpad instead of one encoder","- Spinning disk with a 4-way switch or roller wheel instead of other encoder (optional)"];
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.lighting = [type_Lighting.RGB];
	kb.encoders = type_NumRange.fromArray([1,2]);
	kb.encoderType = [type_EncoderType.Knob,type_EncoderType.Wheel];
	kb.dpads = type_NumRange.fromArray([0,1]);
	kb.trackpads = type_NumRange.fromArray([0,1]);
	kb.web = type_ValList.fromValue("https://xcmkb.com/pages/plus2");
	kb.prebuilt = type_ValList.fromValue("https://xcmkb.com/products/sofleplus2");
	add(kb);
	kb = { name : "Soufflé", pinkyStagger : 0.7, encoders : type_NumRange.fromArray([1,2]), source : type_ValList.fromValue("https://github.com/climent/SouffleKeyboard"), img : type_ValList.fromValue("Soufflé.jpg")};
	kb.notes = ["A mix of Sofle V1/V2 with corner keys"];
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([58,60]),type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(1));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.encoders = type_NumRange.fromArray([0,2]);
	kb.encoderType = [type_EncoderType.Knob];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setQMK(kb,[type_Software.VIA,type_Software.Vial]);
	add(kb);
	kb = { name : "Lily58", source : type_ValList.fromValue("https://github.com/kata0510/Lily58"), kit : ["!https://shop.yushakobo.jp/products/lily58-pro/","https://mechboards.co.uk/collections/kits/products/lily58-kit","https://splitkb.com/collections/keyboard-kits/products/aurora-lily58","https://holykeebs.com/products/trackball-lily58-low-profile","https://new.boardsource.xyz/products/lulu","https://new.boardsource.xyz/products/lily58","https://42keebs.eu/shop/kits/pro-micro-based/lily58-pro-hotswap-split-ergo-50-kit-black-white/","https://customkbd.com/collections/split-keyboards/products/lily-58-pro-keyboard-kit","https://keebd.com/products/lily58-pro-keyboard-kit","https://www.littlekeyboards.com/collections/lily58-pcb-kits","https://keyhive.xyz/shop/lily58","https://kriscables.com/lily58/","https://keycapsss.com/keyboard-parts/pcbs/71/lily58l-split-keyboard-pcb","[US] https://capsuledeluxe.com/tag/manta58/"], prebuilt : ["https://customkbd.com/collections/split-keyboards/products/lily-58-pro-keyboard-kit","https://ergomech.store/shop/sofle-v2-sandwich-style-12","https://ergomech.store/shop/lily58-enclose-case-15","https://kriscables.com/lily58/","https://new.boardsource.xyz/products/lily58"], extras : ["[US][v:Case files] https://capsuledeluxe.com/tag/manta58/","[v:Case with palmrest] https://github.com/AgentCosmic/lily58_case"], img : type_ValList.fromValue("lily58.jpg")};
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(58)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(1),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc],type_KeySpacing.MX);
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = ColStagKeyboard._new("Kyria");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(48)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc]);
	kb.encoders = type_NumRange.fromValue(2);
	kb.pinkyStagger = 0.6;
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.source = type_ValList.fromValue("https://github.com/splitkb/kyria");
	kb.kit = type_ValList.fromValue("!https://splitkb.com/products/kyria-rev3-pcb-kit");
	kb.img = type_ValList.fromValue("Kyria.jpg");
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	var addEgg = function(kb) {
		ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(58)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
		kb.thumbKeys = type_NumRange.fromValue(4);
		kb.cornerKeys = type_NumRange.fromValue(4);
		kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
		kb.caseType = type_ValList.fromValue(type_CaseType.Included);
		add(kb);
	};
	addEgg({ name : "Egg58", switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), connection : type_ValList.fromValue(type_Connection.Wired), firmware : type_ValList.fromValue(type_Firmware.QMK), software : type_ValList.fromValue(type_Software.VIA), source : type_ValList.fromValue("https://github.com/eggsworks/egg58"), kit : type_ValList.fromValue("!https://eggs.works/products/egg58-diy-kit"), prebuilt : type_ValList.fromValue("!https://eggs.works/products/egg58"), img : type_ValList.fromValue("egg58.jpg")});
	addEgg({ name : "Egg58bt", switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), connection : type_ValList.fromValue(type_Connection.Bluetooth), firmware : type_ValList.fromValue(type_Firmware.ZMK), source : type_ValList.fromValue("https://github.com/eggsworks/egg58/blob/master/egg58bt"), img : type_ValList.fromValue("egg58bt.jpg")});
	kb = { name : "Eskarp", assembly : type_ValList.fromValue(type_Assembly.Handwired), switchProfile : type_ValList.fromValue(type_SwitchProfile.MX), firmware : type_ValList.fromValue(type_Firmware.Custom), trackpads : type_NumRange.fromArray([0,1]), source : type_ValList.fromValue("https://github.com/rwalkr/eskarp"), img : type_ValList.fromValue("eskarp.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(5));
	add(kb);
	kb = { name : "Pangaea", assembly : [type_Assembly.PCB,type_Assembly.Adjustable], encoders : type_NumRange.fromArray([0,2]), source : type_ValList.fromValue("https://github.com/e3w2q/Pangaea-keyboard"), img : type_ValList.fromValue("Pangaea.jpg"), notes : type_ValList.fromValue("Pinky columns and thumb row can be moved and rotated.")};
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	kb.splay = type_SplayBase.Optional;
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([58,60]),type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5));
	add(kb);
	kb = { name : "Mask", thumbKeys : type_NumRange.fromValue(6), switchProfile : type_ValList.fromValue(type_SwitchProfile.CherryULP), source : type_ValList.fromValue("https://github.com/marcoster/mask"), img : type_ValList.fromValue("mask-ulp.webp")};
	kb.caseType = type_ValList.fromValue(type_CaseType.None);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	add(kb);
	kb = { name : "Dao Choc BLE", thumbKeys : type_NumRange.fromArray([2,3]), connection : [type_Connection.Wired,type_Connection.Bluetooth], source : type_ValList.fromValue("https://github.com/yumagulovrn/dao-choc-ble"), prebuilt : type_ValList.fromValue("https://shop.beekeeb.com/product/pre-soldered-wireless-dao-choc-ble-keyboard/"), img : type_ValList.fromValue("dao-choc-ble.jfif")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([42,44]),type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	add(kb);
	kb = { name : "Cantaloupe", thumbKeys : type_NumRange.fromValue(3), cornerKeys : type_NumRange.fromValue(3), encoders : type_NumRange.fromValue(2), source : type_ValList.fromValue("https://github.com/Ariamelon/Cantaloupe"), img : type_ValList.fromValue("Cantaloupe.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setQMK(kb);
	add(kb);
	kb = { name : "Untitled keyboard", thumbKeys : type_NumRange.fromValue(5), connection : [type_Connection.Wired,type_Connection.Bluetooth], source : type_ValList.fromValue("https://github.com/AnthonyAmanse/untitled-keyboard/"), firmware : type_ValList.fromValue(type_Firmware.ZMK), img : type_ValList.fromValue("AnthonyAmanse-untitled.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.None);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(58)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	add(kb);
	kb = { name : "Pinky4", thumbKeys : type_NumRange.fromValue(4), source : type_ValList.fromValue("https://github.com/tamanishi/Pinky4"), img : type_ValList.fromValue("Pinky4.jpg"), kit : type_ValList.fromValue("https://www.littlekeyboards.com/products/pinky4-keyboard-kit"), extras : type_ValList.fromValue("[v:Cases] https://www.littlekeyboards.com/collections/pinky4-cases"), notes : type_ValList.fromValue("Uses Choc switches for thumb keys")};
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.innerKeys = type_NumRange.fromValue(4);
	kb.caseType = [type_CaseType.Included];
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	add(kb);
	kb = ColStagKeyboard._new("Pinky3","Pinky4");
	kb.img = type_ValList.fromValue("Pinky3.jpg");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(50)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	kb.innerKeys = type_NumRange.fromValue(3);
	kb.source = type_ValList.fromValue("https://github.com/tamanishi/Pinky3");
	kb.kit = type_ValList.fromValue("https://www.littlekeyboards.com/products/pinky3-keyboard-kit");
	add(kb);
	var addAvalanche = function(kb) {
		kb.outerKeys = type_NumRange.fromArray([0,1]);
		kb.thumbKeys = type_NumRange.fromArray([6,7]);
		kb.encoders = type_NumRange.fromArray([0,2]);
		kb.source = type_ValList.fromValue("https://github.com/vlkv/avalanche");
		kb.img = type_ValList.fromValue("avalanche_v4-1.jpg");
		kb.displays = type_NumRange.fromValue(2);
		kb.splay = type_SplayBase.PinkyOnly;
		kb.caseType = type_ValList.fromValue(type_CaseType.Included);
		ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
		ColStagKeyboard.setQMK(kb);
		kb.layoutRef = type_ValList.fromValue("https://github.com/vlkv/avalanche/tree/master/layout_tester/pdf");
		add(kb);
	};
	addAvalanche({ name : "Avalanche 40%", keys : type_NumRangeList.fromSimpleArray([48,52]), rows : type_NumRange.fromValue(3), cols : type_NumRange.fromValue(6)});
	addAvalanche({ name : "Avalanche 60%", keys : type_NumRangeList.fromSimpleArray([60,64]), rows : type_NumRange.fromValue(4), cols : type_NumRange.fromValue(6), prebuilt : ["[n:xcmkb] https://github.com/superxc3/xcmkb/tree/main/list%20of%20items/list%20of%20keyboards/60percent/avalanche/v4 @ https://github.com/superxc3/xcmkb","https://shop.beekeeb.com/product/pre-soldered-avalanche-v4/"]});
	kb = ColStagKeyboard._new("Redox");
	var redox = kb;
	kb.img = type_ValList.fromValue("redox-1.jpg");
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(70)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(2),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.firmware = [type_Firmware.QMK,type_Firmware.ZMK];
	kb.software = [type_Software.VIA];
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.assembly = [type_Assembly.PCB,type_Assembly.Handwired];
	kb.source = type_ValList.fromValue("https://github.com/mattdibi/redox-keyboard");
	kb.extras = ["[v:Case] https://github.com/Pastitas/Redox-neo-Case/"];
	kb.kit = ["https://shop.beekeeb.com/product/redox-wireless-hotswap-keyboard-kit/","https://falbatech.click/products/Redox-Partially-assembled-with-electronics-cables-One-Hand-p613839989","https://falbatech.click/products/REDOX-Wireless-PCB-Electrical-Boards-Set-of-2-receiver-PCB-p613839986","https://falbatech.click/products/REDOX-PCB-Electrical-Boards-Set-of-2-p613836203"];
	kb.prebuilt = ["[v:Wired] https://falbatech.click/products/ReDOX-Fully-Assembled-Custom-Mechanical-Keyboard-p633260018","[v:Wired] https://falbatech.click/products/Redox-Mechanical-Keyboard-in-Bamboo-Casing-with-Stone-Effect-Elegance-and-Style-for-Enthusiasts-free-Shipping-p613843863","[v:BT] https://falbatech.click/products/ReDOX-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p633260056","https://shop.beekeeb.com/product/redox-fully-assembled/"];
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = ColStagKeyboard._new("Redox FT",redox);
	kb.img = type_ValList.fromValue("redox-ft.webp");
	kb.assembly = [type_Assembly.PCB];
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.lighting = [type_Lighting.None];
	kb.tenting = [type_Tenting.None,type_Tenting.Legs];
	kb.kit = ["[v:Partial?] https://falbatech.click/products/Redox-Partially-assembled-with-electronics-cables-p613843963","[v:Wired] https://falbatech.click/products/Pre-soldered-REDOX-Wired-p613836642","[v:BT] https://falbatech.click/products/Pre-soldered-REDOX_FT-Wireless-p646459789","[v:Gaming?] https://falbatech.click/products/Pre-soldered-REDOX-Gaming-Version-One-Hand-p613853136"];
	kb.prebuilt = ["[v:wired] https://falbatech.click/products/ReDOX-Fully-Assembled-Custom-Mechanical-Keyboard-p633260018","[v:wired] https://falbatech.click/products/Complete-Redox-Wired-Bamboo-Black-version-with-usb-c-Shipping-in-24-hours-p613836397","[v:wired] https://falbatech.click/products/Redox-Mechanical-Keyboard-in-Bamboo-Casing-with-Stone-Effect-Elegance-and-Style-for-Enthusiasts-free-Shipping-p613843863","[v:BT] https://falbatech.click/products/Pre-soldered-REDOX-Wireless-p613836477","[v:BT] https://falbatech.click/products/ReDOX-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p633260056","[v:BT] https://falbatech.click/products/ReDOX_FT-Wireless-Fully-Assembled-Custom-Mechanical-Keyboard-p648828330"];
	kb = ColStagKeyboard._new("Redox FT LP",add(kb));
	kb.img = type_ValList.fromValue("redox-ft-lp.webp");
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.kit = ["[v:wired] https://falbatech.click/products/Pre-soldered-REDOX_FT-Wired-Low-Profile-p646462293","[v:BT] https://falbatech.click/products/Pre-soldered-REDOX_FT-Wireless-Low-Profile-p646460072"];
	kb.prebuilt = ["[v:wired] https://falbatech.click/products/ReDOX_FT-Low-Profile-Fully-Assembled-Custom-Mechanical-Keyboard-p645216766","[v:BT] https://falbatech.click/products/ReDOX_FT-Wireless-Low-Profile-Fully-Assembled-Custom-Mechanical-Keyboard-p645216841"];
	add(kb);
	kb = ColStagKeyboard._new("NeoDox",redox);
	kb.connection = [type_Connection.Wired];
	kb.assembly = [type_Assembly.PCB];
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.encoders = type_NumRange.fromArray([0,2]);
	kb.prebuilt = ["https://ergomech.store/shop/neodox-52","https://ergomech.store/shop/neodox-sandwich-style-exclusive-418"];
	kb.img = type_ValList.fromValue("NeoDox.jpg");
	kb.notes = type_ValList.fromValue("Like Redox, but with 1u edge keys and optional rotary encoders");
	add(kb);
	kb = ColStagKeyboard._new("Redox Manuform",redox);
	kb.shape = [type_Shape.Split,type_Shape.Keywell];
	kb.assembly = [type_Assembly.Handwired];
	kb.notes = ["A Redox / Dactyl Manuform mix"];
	kb.img = type_ValList.fromValue("redox-manuform.webp");
	kb.source = type_ValList.fromValue("https://www.thingiverse.com/thing:3503380");
	add(kb);
	kb = ColStagKeyboard._new("ErgoDash");
	var ergodash = kb;
	kb.source = type_ValList.fromValue("https://github.com/omkbd/ErgoDash");
	kb.img = type_ValList.fromValue("Ergodash.jpg");
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Alps],type_KeySpacing.MX);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(70)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromArray([2,4]),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.kit = ["https://keebd.com/products/ergodash-keyboard-kit","https://shop.yushakobo.jp/en/products/ergodash","https://keycapsss.com/keyboard-parts/pcbs/63/ergodash-split-keyboard-pcb"];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = ColStagKeyboard._new("ErgoDash LP",ergodash);
	kb.source = type_ValList.fromValue("https://keypcb.xyz/ErgoDash-LP");
	kb.img = type_ValList.fromValue("ErgoDashLP.jpg");
	kb.switchProfile = type_ValList.fromValue(type_SwitchProfile.Choc);
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.Choc],type_KeySpacing.MX);
	add(kb);
	kb = ColStagKeyboard._new("ErgoDash_FT",ergodash);
	kb.img = type_ValList.fromValue("ergodash-ft.webp");
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	kb.lighting = [type_Lighting.Simple];
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.kit = ["[v:wired] https://falbatech.click/products/Pre-soldered-ErgoDash-p613842367","[v:wireless] https://falbatech.click/products/Pre-soldered-ErgoDash-Wireless-p613839936"];
	kb.prebuilt = ["https://falbatech.click/products/ErgoDash-Fully-Assembled-Custom-Mechanical-Keyboard-p630613785"];
	add(kb);
	kb = ColStagKeyboard._new("ErgoDash_FT Blue",ergodash);
	kb.img = type_ValList.fromValue("ergodash-ft.webp");
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.MX],type_KeySpacing.MX);
	kb.lighting = [type_Lighting.Simple];
	kb.prebuilt = type_ValList.fromValue("https://falbatech.click/products/ErgoDash-Blue-backlite-Shipping-in-24-hours-p613853121");
	add(kb);
	kb = { name : "ErgoMax", source : type_ValList.fromValue("https://github.com/LouWii/ErgoMax"), img : type_ValList.fromValue("ergomax.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(88)],type_NumRange.fromValue(6),type_NumRange.fromValue(5));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6),type_NumRange.fromValue(4),type_NumRange.fromValue(-1),type_NumRange.fromValue(5));
	ColStagKeyboard.setQMK(kb);
	add(kb);
	kb = { name : "Penguin", source : type_ValList.fromValue("https://github.com/gorbit99/penguin"), img : type_ValList.fromValue("penguin.jpg")};
	ColStagKeyboard.setNotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(70)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(2),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setQMK(kb);
	kb.caseType = [type_CaseType.None];
	add(kb);
	kb = { name : "Taira", source : type_ValList.fromValue("https://github.com/strayer/taira-keyboard"), connection : [type_Connection.Wired,type_Connection.Bluetooth], firmware : type_ValList.fromValue(type_Firmware.ZMK), img : type_ValList.fromValue("taira-1.0.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.MX);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(66)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromArray([5,6]),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromArray([3,4]));
	add(kb);
	kb = { name : "Breeze", navCluster : type_ValList.fromValue(type_NavCluster.Full), thumbKeys : type_NumRange.fromValue(4), web : type_ValList.fromValue("https://www.afternoonlabs.com/breeze/"), source : type_ValList.fromValue("https://github.com/afternoonlabs/BreezeKeyboard"), kit : type_ValList.fromValue("!https://keeb.io/products/afternoon-labs-breeze-keyboard-kit/?afmc=yal"), img : type_ValList.fromValue("breeze.avif")};
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(66)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.rcols = type_NumRange.fromValue(9);
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.caseType = [type_CaseType.Included];
	kb.extras = type_ValList.fromValue("[v:Case] https://github.com/afternoonlabs/breeze-contribs/tree/main/CAD");
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.VIA));
	add(kb);
	kb = { name : "ErgoNICE", navCluster : type_ValList.fromValue(type_NavCluster.Arrows), thumbKeys : type_NumRange.fromValue(4), encoders : type_NumRange.fromValue(1), firmware : type_ValList.fromValue(type_Firmware.Custom), web : type_ValList.fromValue("https://val.packett.cool/blog/ergonice/"), source : type_ValList.fromValue("https://codeberg.org/valpackett/ergonice"), img : type_ValList.fromValue("ergoNICE.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(69)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.rcols = type_NumRange.fromValue(7);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	add(kb);
	kb = { name : "Willow64", thumbKeys : type_NumRange.fromValue(5), source : type_ValList.fromValue("https://github.com/hanachi-ap/willow64-doc"), img : type_ValList.fromValue("Willow64.jpg")};
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	kb.rcols = type_NumRange.fromValue(8);
	kb.splay = type_SplayBase.Yes;
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.VIA));
	add(kb);
	kb = { name : "Chunky", encoders : type_NumRange.fromValue(2), hotswap : [type_HotSwap.Yes], trackballs : type_NumRange.fromArray([0,2]), trackpads : type_NumRange.fromArray([0,2]), trackpadSize : 40, source : type_ValList.fromValue("https://github.com/freznel10/ChunkyV2"), img : type_ValList.fromValue("chunky-v2.jpg"), notes : type_ValList.fromValue("TODO: Author has a bunch of revisions of this keyboard - figure out if this entry needs to be split up.")};
	kb.pointingDevices = type_NumRange.fromValue(2);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(66)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(7),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	kb.caseType = [type_CaseType.Included];
	add(kb);
	kb = { name : "JiaEX", source : type_ValList.fromValue("https://github.com/osenchenko/jiaex"), img : type_ValList.fromValue("jiaex.jpg"), notes : type_ValList.fromValue("This keyboard is hard to classify due to its uncommon key placement")};
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.MX]);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.wristPads = type_ValList.fromValue(type_WristPads.Integrated);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(68)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(3),type_NumRange.fromValue(1),type_NumRange.fromValue(3));
	ColStagKeyboard.setQMK(kb);
	add(kb);
	kb = { name : "supersplit", pinkyStagger : 1, switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), web : type_ValList.fromValue("https://tarneo.fr/posts/split_keyboard"), source : type_ValList.fromValue("https://github.com/tarneaux/supersplit"), img : type_ValList.fromValue("supersplit.webp")};
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(68)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(9));
	kb.hotswap = [type_HotSwap.No];
	kb.caseType = [type_CaseType.None];
	add(kb);
	kb = { name : "Ergoinu", pinkyStagger : 0.1, source : type_ValList.fromValue("https://github.com/hsgw/ergoinu"), kit : type_ValList.fromValue("!https://dm9.thebase.in/items/13093286"), img : type_ValList.fromValue("Ergoinu.jfif")};
	kb.switchProfile = [type_SwitchProfile.MX];
	kb.hotswap = [type_HotSwap.No];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5));
	ColStagKeyboard.setQMK(kb);
	add(kb);
	kb = { name : "interphase", source : type_ValList.fromValue("https://github.com/Durburz/interphase"), img : type_ValList.fromValue("interphase.jpg")};
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.MX]);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(66)],type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(2),type_NumRange.fromValue(0),type_NumRange.fromValue(-1),type_NumRange.fromValue(4));
	kb.caseType = [type_CaseType.None];
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = { name : "Djinn", source : type_ValList.fromValue("https://github.com/tzarc/djinn"), dpads : type_NumRange.fromValue(2), displays : type_NumRange.fromValue(2), img : type_ValList.fromValue("djinn.jfif")};
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4));
	kb.caseType = [type_CaseType.Included];
	ColStagKeyboard.setQMK(kb);
	add(kb);
	kb = { name : "Kapl", source : type_ValList.fromValue("https://github.com/keyzog/kapl"), encoders : type_NumRange.fromArray([0,1]), img : type_ValList.fromValue("Kapl.jpg")};
	kb.switchProfile = [type_SwitchProfile.MX];
	kb.hotswap = [type_HotSwap.No];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([69,70]),type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setQMK(kb);
	add(kb);
	var addHillside = function(kb,is56) {
		if(is56 == null) {
			is56 = false;
		}
		kb.splay = type_SplayBase.Optional;
		ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
		ColStagKeyboard.setQMK(kb);
		kb.pinkyStagger = 0.8;
		kb.caseType = [type_CaseType.None];
		kb.source = type_ValList.fromValue("https://github.com/mmccoyd/hillside");
		kb.kit = type_ValList.fromValue("https://shop.beekeeb.com/product/hillside-keyboard-kit/");
		if(!is56) {
			kb.prebuilt = type_ValList.fromValue("https://shop.beekeeb.com/product/pre-soldered-hillside-keyboard/");
		}
		add(kb);
	};
	kb = ColStagKeyboard._new("Hillside 52");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(44,52),type_NumRange.fromArray([5,6]),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(3));
	kb.splay = type_SplayBase.Yes;
	kb.navCluster = [type_NavCluster.Arrows,type_NavCluster.Duo];
	kb.img = type_ValList.fromValue("Hillside-52.webp");
	addHillside(kb);
	kb = ColStagKeyboard._new("Hillside 56");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(48,56),type_NumRange.fromArray([5,6]),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.navCluster = [type_NavCluster.Arrows,type_NavCluster.Duo];
	kb.img = type_ValList.fromValue("Hillside-56.jpg");
	addHillside(kb,true);
	kb = ColStagKeyboard._new("Hillside 46");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(40,46),type_NumRange.fromArray([5,6]),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	kb.img = type_ValList.fromValue("Hillside-46.jpg");
	addHillside(kb);
	kb = ColStagKeyboard._new("Hillside 48");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(42,48),type_NumRange.fromArray([5,6]),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(1));
	kb.img = type_ValList.fromValue("Hillside-48.jpg");
	addHillside(kb);
	kb = { name : "Drift", web : type_ValList.fromValue("https://github.com/Timception/Drift/"), prebuilt : type_ValList.fromValue("![th] https://solo.to/timception"), encoderType : type_ValList.fromValue(type_EncoderType.Wheel), encoders : type_NumRange.fromValue(2), displays : type_NumRange.fromValue(2), img : type_ValList.fromValue("Drift.jpg")};
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(68)],type_NumRange.fromValue(8),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(-1),type_NumRange.fromValue(0));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Vial));
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	add(kb);
	kb = { name : "Fortitude60", thumbKeys : type_NumRange.fromValue(6), switchProfile : type_ValList.fromValue(type_SwitchProfile.MX), source : type_ValList.fromValue("https://github.com/Pekaso/fortitude60"), kit : type_ValList.fromValue("https://shop.yushakobo.jp/en/products/fortitude60"), img : type_ValList.fromValue("Fortitude60.jfif")};
	kb.hotswap = [type_HotSwap.No];
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	add(kb);
	var addDilemma = function(kb) {
		kb.trackpads = type_NumRange.fromValue(1);
		kb.encoders = type_NumRange.fromArray([0,2]);
		kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
		kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc];
		ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.VIA));
		kb.caseType = [type_CaseType.Included,type_CaseType.ThirdParty];
		add(kb);
	};
	addDilemma({ name : "Dilemma", keys : type_NumRangeList.fromSimpleArray([34,36]), cols : type_NumRange.fromValue(5), rows : type_NumRange.fromValue(3), thumbKeys : type_NumRange.fromArray([2,3]), source : type_ValList.fromValue("https://github.com/Bastardkb/Dilemma"), kit : type_ValList.fromValue("!https://bastardkb.com/product/dilemma/"), prebuilt : type_ValList.fromValue("!https://bastardkb.com/product/dilemma-prebuilt-preorder/"), img : type_ValList.fromValue("Dilemma.jpg")});
	addDilemma({ name : "Dilemma Max", keys : type_NumRangeList.fromSimpleArray([54,56]), cols : type_NumRange.fromValue(6), rows : type_NumRange.fromValue(4), thumbKeys : type_NumRange.fromArray([3,4]), source : type_ValList.fromValue("https://github.com/Bastardkb/Dilemma"), kit : type_ValList.fromValue("!https://bastardkb.com/product/dilemma-max/"), prebuilt : type_ValList.fromValue("!https://bastardkb.com/product/dilemma-max-prebuilt-preorder/"), img : type_ValList.fromValue("Dilemma-Max.jpg")});
	kb = { name : "Ursa Minor", img : type_ValList.fromValue("ursa-minor.webp"), thumbKeys : type_NumRange.fromValue(3), switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), keySpacing : [type_KeySpacing.MX], assembly : [type_Assembly.Handwired,type_Assembly.PCB], source : type_ValList.fromValue("https://github.com/markstory/ursa-minor-keyboard/")};
	kb.caseType = [type_CaseType.Included];
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(54)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	add(kb);
	kb = { name : "articulation80", thumbKeys : type_NumRange.fromValue(4), source : type_ValList.fromValue("https://github.com/mylestunglee/articulation80"), img : type_ValList.fromValue("articulation80.jpg"), notes : type_ValList.fromValue("Numpad/navigation blocks and the top row can be broken off.")};
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.Choc],type_KeySpacing.Choc);
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(44,48,56,68,80),type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.rcols = type_NumRange.fromArray([6,9]);
	kb.lcols = type_NumRange.fromArray([6,9]);
	kb.splay = type_SplayBase.Yes;
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.navCluster = [type_NavCluster.None,type_NavCluster.Full];
	kb.numpad = [type_Numpad.None,type_Numpad.Mini];
	add(kb);
	add({ name : "3w6", keys : type_NumRangeList.fromSimpleArray([35,36]), cols : type_NumRange.fromValue(5), rows : type_NumRange.fromValue(3), thumbKeys : type_NumRange.fromValue(3), trackballs : type_NumRange.fromArray([0,1]), trackballSize : 4.4, hotswap : [type_HotSwap.No], switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), keySpacing : type_ValList.fromValue(type_KeySpacing.Choc), caseType : type_ValList.fromValue(type_CaseType.Included), source : type_ValList.fromValue("https://github.com/weteor/3W6"), kit : ["https://keycapsss.com/diy-kits/191/3w6-rp2040-split-keyboard-kit"], prebuilt : ["https://shop.beekeeb.com/product/pre-soldered-3w6-keyboard/"], img : type_ValList.fromValue("3w6_rev2.jpg")});
	add({ name : "CozyKeys Bloomer", keys : [type_NumRange.fromValue(87)], cols : type_NumRange.fromValue(6), rows : type_NumRange.fromValue(5), thumbKeys : type_NumRange.fromValue(5), cornerKeys : type_NumRange.fromValue(6), navCluster : type_ValList.fromValue(type_NavCluster.Full), hotswap : [type_HotSwap.No], switchProfile : type_ValList.fromValue(type_SwitchProfile.MX), shape : type_ValList.fromValue(type_Shape.Unibody), caseType : type_ValList.fromValue(type_CaseType.Included), source : type_ValList.fromValue("https://github.com/cozykeys/Bloomer"), img : type_ValList.fromValue("Bloomer.jfif")});
	add({ name : "Ergolite", keys : [type_NumRange.fromValue(66)], cols : type_NumRange.fromValue(7), rows : type_NumRange.fromValue(4), thumbKeys : type_NumRange.fromValue(5), hotswap : [type_HotSwap.Yes], switchProfile : [type_SwitchProfile.MX,type_SwitchProfile.GateronLP], connection : [type_Connection.Wireless], firmware : type_ValList.fromValue(type_Firmware.QMK), software : type_ValList.fromValue(type_Software.Vial), caseType : type_ValList.fromValue(type_CaseType.Included), prebuilt : ["https://www.ergokbd.com/products/if-ergolite-wireless2-4g-hotswap-split-mechanical-keyboard-low-profile-pre-soldered-acrylic-vial-programmable-ergodox-ergodone-if-ergo"], img : type_ValList.fromValue("W-Ergolite.webp")});
	kb = { name : "Tern", shape : type_ValList.fromValue(type_Shape.Unibody), keys : [type_NumRange.fromValue(30)], cols : type_NumRange.fromValue(5), rows : type_NumRange.fromValue(3), innerKeys : type_NumRange.fromValue(-1), outerKeys : type_NumRange.fromValue(-1), thumbKeys : type_NumRange.fromValue(2), hotswap : [type_HotSwap.Yes], switchProfile : type_ValList.fromValue(type_SwitchProfile.Choc), keySpacing : type_ValList.fromValue(type_KeySpacing.CFX), caseType : type_ValList.fromValue(type_CaseType.Included), source : type_ValList.fromValue("https://github.com/rschenk/tern"), img : type_ValList.fromValue("tern.jpeg")};
	kb.splay = type_SplayBase.Yes;
	add(kb);
	kb = { name : "Rolio", encoders : type_NumRange.fromValue(2), thumbKeys : type_NumRange.fromValue(5), connection : [type_Connection.Wired,type_Connection.Bluetooth], firmware : type_ValList.fromValue(type_Firmware.ZMK), pinkyStagger : 0.25, caseType : type_ValList.fromValue(type_CaseType.Included), source : type_ValList.fromValue("https://github.com/MickiusMousius/RolioKeyboard"), kit : type_ValList.fromValue("!https://keydio.io/"), img : type_ValList.fromValue("Rolio.jpg")};
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.Choc]);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(46)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	add(kb);
	kb = ColStagKeyboard._new("Chrumm 1.0");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([64,70]),type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	kb.rcols = type_NumRange.fromValue(7);
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
	kb.switchProfile = type_ValList.fromValue(type_SwitchProfile.MX);
	kb.firmware = type_ValList.fromValue(type_Firmware.Custom);
	kb.thumbKeys = type_NumRange.fromValue(4);
	kb.navCluster = type_ValList.fromValue(type_NavCluster.Arrows);
	kb.cornerKeys = type_NumRange.fromValue(1);
	kb.encoders = type_NumRange.fromValue(1);
	kb.wristPads = type_ValList.fromValue(type_WristPads.Detachable);
	kb.tenting = [type_Tenting.Fixed];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.source = type_ValList.fromValue("https://github.com/sevmeyer/chrumm-keyboard/");
	kb.img = type_ValList.fromValue("Chrumm.jpg");
	add(kb);
	kb = ColStagKeyboard._new("Alien Invader");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(36)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	kb.thumbKeys = type_NumRange.fromValue(3);
	kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
	kb.switchProfile = type_ValList.fromValue(type_SwitchProfile.MX);
	kb.shape = type_ValList.fromValue(type_Shape.Monoblock);
	kb.assembly = [type_Assembly.Handwired];
	kb.caseType = [type_CaseType.Included];
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.VIA));
	kb.source = type_ValList.fromValue("https://github.com/protieusz/ScottoFly/blob/main/ScottoInvader/Alien%20Invader%20Integrated%20PCB%20from%20Scotto%20Invader/README.md");
	kb.img = type_ValList.fromValue("alien-invader.jpg");
	add(kb);
	kb = ColStagKeyboard._new("Buzzard");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(40)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(-1),type_NumRange.fromValue(0));
	kb.pinkyStagger = 1;
	kb.splay = type_SplayBase.Yes;
	kb.displays = type_NumRange.fromValue(2);
	kb.trackpoints = type_NumRange.fromValue(1);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	kb.hotswap = [type_HotSwap.Yes,type_HotSwap.Special];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.source = type_ValList.fromValue("https://github.com/crehmann/Buzzard");
	kb.img = type_ValList.fromValue("buzzard.webp");
	kb.notes = ["Hotswap sockets cannot be used next to the trackpoint(s)"];
	add(kb);
	kb = ColStagKeyboard._new("Reviung41");
	kb.img = type_ValList.fromValue("REVIUNG41.jpg");
	kb.source = type_ValList.fromValue("https://github.com/gtips/reviung");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(41)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3));
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.kit = ["https://keebd.com/en-us/products/reviung-41-keyboard-kit","https://customkbd.com/collections/split-keyboards/products/reviung-41","https://www.littlekeyboards.com/products/reviung41-analyst-keyboard-kit","https://shop.beekeeb.com/product/reviung41-hotswap-diy-mechanical-keyboard-pcb-set-kit/","https://keycapsss.com/diy-kits/140/reviung41-keyboard-kit","https://new.boardsource.xyz/products/Reviung41"];
	kb.prebuilt = ["https://shop.beekeeb.com/product/pre-soldered-reviung41/","https://new.boardsource.xyz/products/Reviung41","https://customkbd.com/collections/split-keyboards/products/reviung-41"];
	ColStagKeyboard.addSKBC(kb);
	kb = ColStagKeyboard._new("Reviung41 with trackball",add(kb));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc));
	kb.trackballSize = 4.4;
	kb.trackballs = type_NumRange.fromValue(1);
	kb.source = type_ValList.fromValue("https://github.com/idank/keyboards/tree/main/reviung");
	kb.prebuilt = type_ValList.fromValue("!https://holykeebs.com/products/trackball-reviung41-low-profile");
	kb.img = type_ValList.fromValue("reviung-trackball.jpg");
	add(kb);
	kb = ColStagKeyboard._new("Fisk");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(54)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6),type_NumRange.fromValue(2),type_NumRange.fromValue(1),type_NumRange.fromValue(0));
	ColStagKeyboard.setQMK(kb);
	kb.source = type_ValList.fromValue("https://github.com/vvhg1/fisk");
	kb.img = type_ValList.fromValue("fisk.jpg");
	kb.assembly = [type_Assembly.Handwired];
	kb.displays = type_NumRange.fromValue(2);
	ColStagKeyboard.setNotswap(kb,[type_SwitchProfile.MX]);
	add(kb);
	var addIris = function(kb) {
		ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(56)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
		ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4));
		kb.caseType = type_ValList.fromValue(type_CaseType.Included);
		add(kb);
	};
	kb = ColStagKeyboard._new("Iris");
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Alps,type_SwitchProfile.Choc]);
	kb.hotswap = [type_HotSwap.No,type_HotSwap.Yes];
	kb.keySpacing = [type_KeySpacing.MX];
	kb.img = type_ValList.fromValue("iris.webp");
	kb.kit = ["![v:r7] https://keeb.io/collections/iris-split-ergonomic-keyboard","![v:r5] https://keeb.io/collections/iris-split-ergonomic-keyboard/products/iris-rev-5-keyboard-pcbs-for-split-ergonomic-keyboard","https://mechboards.co.uk/collections/kits/products/iris-kit","https://splitkb.com/collections/keyboard-kits/products/iris-rev-7-0"];
	kb.extras = ["[v:Case with palm rests] https://github.com/elentok/iris-case"];
	kb.prebuilt = ["![v:Multiple revisions] https://keeb.io/collections/iris-split-ergonomic-keyboard"];
	kb.notes = ["NB! Choc/Alps switches are only available in Rev5, which isn't hotswap"];
	ColStagKeyboard.addSKBC(kb);
	addIris(kb);
	kb = ColStagKeyboard._new("Iris CE");
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.Choc]);
	kb.keySpacing = [type_KeySpacing.Choc];
	kb.img = type_ValList.fromValue("iris-ce-left_860x.webp");
	kb.kit = ["!https://keeb.io/collections/iris-split-ergonomic-keyboard/products/iris-ce-low-profile-choc-hotswap-pcbs-for-split-ergonomic-keyboard"];
	kb.prebuilt = [];
	addIris(kb);
	kb = ColStagKeyboard._new("Atreis");
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.assembly = [type_Assembly.PCB,type_Assembly.Handwired];
	kb.source = type_ValList.fromValue("https://github.com/dekonnection/atreis");
	kb.img = type_ValList.fromValue("atreis.jpg");
	kb.firmware = type_ValList.fromValue(type_Firmware.QMK);
	addIris(kb);
	kb = ColStagKeyboard._new("TE Cleave");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(91)],type_NumRange.fromValue(6),type_NumRange.fromValue(5));
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.rcols = type_NumRange.fromValue(7);
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(2),type_NumRange.fromValue(3),type_NumRange.fromValue(2),type_NumRange.fromValue(2));
	kb.navCluster = type_ValList.fromValue(type_NavCluster.Duo);
	kb.switchProfile = type_ValList.fromValue(type_SwitchProfile.Optical);
	kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
	kb.firmware = type_ValList.fromValue(type_Firmware.Custom);
	kb.software = type_ValList.fromValue(type_Software.Custom);
	kb.wristPads = type_ValList.fromValue(type_WristPads.Integrated);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.tilt = type_NumRange.fromValue(2);
	kb.prebuilt = type_ValList.fromValue("![CA] https://trulyergonomic.com/ergonomic-keyboards/mechanical-keyboards/products/cleave-truly-ergonomic-mechanical-switch-keyboard/");
	kb.img = type_ValList.fromValue("Truly-Ergonomic-Cleave-keyboard-1x1-2.jpg");
	kb.notes = type_ValList.fromValue("Flexibility of on-board software is unclear, but it's got a fairly normal keymap");
	add(kb);
	kb = ColStagKeyboard._new("Glove80");
	kb.shape = [type_Shape.Split,type_Shape.Keywell];
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(80)],type_NumRange.fromValue(6),type_NumRange.fromValue(5));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6),type_NumRange.fromValue(-1),type_NumRange.fromValue(0),type_NumRange.fromValue(5));
	kb.hotswap = [type_HotSwap.No,type_HotSwap.Special];
	kb.switchProfile = type_ValList.fromValue(type_SwitchProfile.Choc);
	kb.keySpacing = type_ValList.fromValue(type_KeySpacing.Choc);
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.firmware = type_ValList.fromValue(type_Firmware.ZMK);
	kb.software = type_ValList.fromValue(type_Software.Custom);
	kb.wristPads = type_ValList.fromValue(type_WristPads.Detachable);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.prebuilt = type_ValList.fromValue("!http://www.moergo.com");
	kb.img = type_ValList.fromValue("glove80.jpg");
	kb.notes = ["There is no hot-swap. However, MoErgo offers an unsoldered version that saves one from having to unsolder the built-in switches. Still, one needs to solder the new ones.","Hardware extension support: 6 digital GPIOs (inside the case)"];
	add(kb);
	kb = ColStagKeyboard._new("Ergodox[-like]");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(76)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(6),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(5));
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth,type_Connection.Wireless];
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc];
	kb.tenting = [type_Tenting.Legs];
	kb.hotswap = [type_HotSwap.Yes,type_HotSwap.No];
	ColStagKeyboard.setQMK(kb);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.kit = ["[v:MX] https://drop.com/buy/infinity-ergodox","[v:MX] https://mechanicalkeyboards.com/products/mk-ergodox-pcb-dual-layer-electrical-boards-set-of-2","[v:MX] https://falbatech.click/products/Pre-soldered-ErgoDox_FT-p613836128","[v:MX half] https://falbatech.click/products/Pre-Soldered-ErgoDox_FT-Gaming-p613836460","[v:Choc] https://falbatech.click/products/Pre-soldered-ErgoDox_FT-Low-Profile-p613843614"];
	kb.prebuilt = ["[v:MX, legs, mount] https://ergodox-ez.com/","[v:2.4G] https://www.ergokbd.com/products/if-ergo-wireless2-4g-hotswap-split-mechanical-keyboard-pre-soldered-acrylic-vial-programmable-ergodox-ergodone","[v:2.4G] https://keyclicks.ca/collections/keyboards/products/w-ergo-2-4g-wireless-split-ergonomic-mechanical-keyboard","[v:MX+legs] https://falbatech.click/products/Ergodox_FT-Fully-Assembled-Custom-Mechanical-Keyboard-p630813415","[v:Choc+legs] https://falbatech.click/products/Pre-soldered-ErgoDox_FT-Low-Profile-Gaming-Version-One-Hand-p619550388","[v:MX BT/2.4G] https://www.slicemk.com/products/ergodox-wireless-lite","[v:MX BT/2.4G CNC] https://www.slicemk.com/products/ergodox-wireless-pro","[v:Choc BT/2.4G CNC] https://www.slicemk.com/products/ergodoxlp-wireless","[v:MX] https://www.ergokb.tw/products/phoenix/","[v:MX] https://www.amazon.com/Apos-ErgoDox-Ergonomic-Mechanical-Keyboard/dp/B0CYV3WFTC/","[v:MX] https://apos.audio/products/ergodox-76-hot-dox-v2-mechanical-keyboard"];
	kb.img = type_ValList.fromValue("ergodox-ez.avif");
	kb.notes = ["There are multiple keyboards using an Ergodox[-like] layout"];
	kb = ColStagKeyboard._new("MOMOKA ERGO",add(kb));
	kb.img = type_ValList.fromValue("momoka-ergo.webp");
	kb.notes = type_ValList.fromValue("Few keys less than a regular Ergodox");
	kb.keys = [type_NumRange.fromValue(70)];
	kb.innerKeys = type_NumRange.fromValue(0);
	kb.connection = [type_Connection.Wired];
	kb.switchProfile = [type_SwitchProfile.MX];
	kb.tenting = [];
	kb.hotswap = [type_HotSwap.Yes];
	kb.prebuilt = type_ValList.fromValue("[v:no inner keys] https://momoka.store/collections/keyboards/products/momoka-ergo");
	add(kb);
	kb = ColStagKeyboard._new("Keyboardio Model 100");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.wristPads = type_ValList.fromValue(type_WristPads.Integrated);
	kb.tenting = [type_Tenting.Legs,type_Tenting.Mount];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.prebuilt = type_ValList.fromValue("!https://shop.keyboard.io/products/model-100");
	kb.img = type_ValList.fromValue("keyboardio-m100.webp");
	add(kb);
	kb = ColStagKeyboard._new("ZSA Voyager");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(52)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(2),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.MX);
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Custom));
	kb.tenting = [type_Tenting.None,type_Tenting.Legs,type_Tenting.Mount];
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.prebuilt = type_ValList.fromValue("!https://www.zsa.io/voyager/");
	kb.img = type_ValList.fromValue("zsa-voyager.jpg");
	kb.layoutRef = type_ValList.fromValue("https://www.zsa.io/assets/voyager/1-1.pdf");
	add(kb);
	kb = ColStagKeyboard._new("ZSA Moonlander");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(72)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(5));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Custom));
	kb.wristPads = type_ValList.fromValue(type_WristPads.Detachable);
	kb.tenting = [type_Tenting.None,type_Tenting.Legs,type_Tenting.Mount];
	kb.tilt = type_NumRange.fromArray([-10,0]);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.prebuilt = type_ValList.fromValue("!https://www.zsa.io/moonlander/");
	kb.img = type_ValList.fromValue("zsa-moonlander.avif");
	kb.layoutRef = type_ValList.fromValue("https://www.zsa.io/1-1.pdf");
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	kb = ColStagKeyboard._new("Dygma Defy");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(68)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(7),type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.connection = [type_Connection.Wired,type_Connection.Bluetooth];
	kb.wristPads = type_ValList.fromValue(type_WristPads.Integrated);
	kb.tenting = [type_Tenting.None,type_Tenting.Legs,type_Tenting.Mount];
	kb.tilt = type_NumRange.fromArray([-10,0]);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.prebuilt = type_ValList.fromValue("!https://dygma.com/pages/defy");
	kb.img = type_ValList.fromValue("dygma-defy.webp");
	kb.layoutRef = ["https://support.dygma.com/hc/en-us/articles/15110448574621-How-can-I-visualize-the-Dygma-Defy-or-the-Dygma-Raise-on-my-desk"];
	add(kb);
	kb = ColStagKeyboard._new("Osprey");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(74)],type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(7),type_NumRange.fromValue(3),type_NumRange.fromValue(-1),type_NumRange.fromValue(2));
	kb.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
	kb.switchProfile = [type_SwitchProfile.MX];
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.pinkyStagger = 0.5;
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.source = type_ValList.fromValue("https://github.com/nshie/osprey");
	kb.img = type_ValList.fromValue("osprey.jpg");
	add(kb);
	kb = ColStagKeyboard._new("ErgoTravel");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(54)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromArray([2,3]),type_NumRange.fromValue(2),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Alps,type_SwitchProfile.Choc]);
	kb.caseType = type_ValList.fromValue(type_CaseType.Included);
	kb.source = type_ValList.fromValue("https://github.com/jpconstantineau/ErgoTravel");
	kb.kit = type_ValList.fromValue("https://mechboards.co.uk/products/ergotravel-kit");
	kb.extras = ["![CA][v:Cases] https://store.jpconstantineau.com/#/group/split_boards"];
	kb.img = type_ValList.fromValue("Ergotravel.jpg");
	ColStagKeyboard.addSKBC(kb);
	add(kb);
};
var ColStagKeyboard = {};
ColStagKeyboard._new = function(name,parent) {
	var this1 = { name : name};
	if(parent != null) {
		if(typeof(parent) == "string") {
			this1.parent = parent;
		} else {
			this1.parent = parent.name;
		}
	}
	return this1;
};
ColStagKeyboard.setMatrix = function(this1,keys,cols,rows) {
	this1.keys = keys;
	this1.cols = cols;
	this1.rows = rows;
};
ColStagKeyboard.setExtras = function(this1,thumbKeys,innerKeys,outerKeys,cornerKeys) {
	this1.thumbKeys = thumbKeys;
	this1.innerKeys = innerKeys;
	this1.outerKeys = outerKeys;
	this1.cornerKeys = cornerKeys;
};
ColStagKeyboard.setHotswap = function(this1,profile,spacing) {
	this1.hotswap = type_ValList.fromValue(type_HotSwap.Yes);
	this1.switchProfile = profile;
	if(profile == type_ValList.fromValue(type_SwitchProfile.MX) && spacing == null) {
		spacing = type_KeySpacing.MX;
	}
	this1.keySpacing = type_ValList.fromValue(spacing);
};
ColStagKeyboard.setNotswap = function(this1,profile,spacing) {
	this1.hotswap = type_ValList.fromValue(type_HotSwap.No);
	this1.switchProfile = profile;
	if(profile == type_ValList.fromValue(type_SwitchProfile.MX) && spacing == null) {
		spacing = type_KeySpacing.MX;
	}
	this1.keySpacing = type_ValList.fromValue(spacing);
};
ColStagKeyboard.setQMK = function(this1,sw) {
	this1.firmware = type_ValList.fromValue(type_Firmware.QMK);
	this1.software = sw;
};
ColStagKeyboard.addSKBC = function(this1) {
	if(this1.layoutRef == null) {
		this1.layoutRef = [];
	}
	this1.layoutRef.push("SKBC");
};
var table_FancyTable = function() {
	this.baseURL = "https://yal-tools.github.io/ergo-keyboards/";
	this.canUpdateURL = true;
	this.canUpdateFilters = true;
	this.sortAscending = false;
	this.sortColHead = null;
	this.displayFlags = 0;
	this.outElement = null;
	this.testRow = null;
	this.countElement = null;
	this.rows = [];
	this.header = null;
	this.values = [];
	this.filterOrder = [];
	this.columns = [];
};
table_FancyTable.__name__ = true;
table_FancyTable.prototype = {
	columns: null
	,filterOrder: null
	,values: null
	,header: null
	,rows: null
	,countElement: null
	,testRow: null
	,outElement: null
	,displayFlags: null
	,addColumn: function(col) {
		col.table = this;
		this.columns.push(col);
		this.filterOrder.push(table_FancyTableFilterOrder.Column(col));
		return col;
	}
	,addColumns: function() {
		var $l=arguments.length;
		var cols = new Array($l>0?$l-0:0);
		for(var $i=0;$i<$l;++$i){cols[$i-0]=arguments[$i];}
		var _g_current = 0;
		while(_g_current < cols.length) this.addColumn(cols[_g_current++]);
	}
	,addFilterHeader: function(text) {
		var h = new table_FancyFilterHeader(text);
		this.filterOrder.push(table_FancyTableFilterOrder.Header(h));
		return h;
	}
	,buildFilters: function(out) {
		table_FancyTableFilters.build(this,out);
	}
	,sortBy: function(sortColumn,ascending) {
		var sortRows = this.rows.slice();
		sortRows.sort(function(a,b) {
			return sortColumn.compareValues(a.value,b.value,ascending);
		});
		sortRows.reverse();
		var _g = 0;
		while(_g < sortRows.length) this.header.element.after(sortRows[_g++].element);
	}
	,sortColHead: null
	,sortAscending: null
	,createRow: function(keyboard) {
		var row = new table_FancyRow(keyboard);
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) {
			var column = _g1[_g];
			++_g;
			var cell = new table_FancyTableCell(column);
			var tmp = column.shortName;
			cell.element.setAttribute("data-column",tmp != null ? tmp : column.name);
			tools_HtmlTools.setDisplayFlag(cell.element,column.show);
			column.buildValue(cell.element,keyboard);
			row.cells.push(cell);
			row.element.appendChild(cell.element);
		}
		return row;
	}
	,buildTable: function(out) {
		var _gthis = this;
		this.outElement = out;
		this.header = new table_FancyRow(null);
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) {
			var column = _g1[_g];
			++_g;
			var cell = [new table_FancyTableHeaderCell(column)];
			tools_HtmlTools.setDisplayFlag(cell[0].element,column.show);
			var tmp = column.getId();
			cell[0].element.id = "header-" + tmp;
			if(column.shortName != null) {
				var text = column.shortName;
				cell[0].element.appendChild(window.document.createTextNode(text));
				cell[0].element.title = column.name;
			} else {
				var text1 = column.name;
				cell[0].element.appendChild(window.document.createTextNode(text1));
			}
			if(column.canSort) {
				cell[0].element.classList.add("can-sort");
				if(cell[0].element.title != null) {
					cell[0].element.title += "\n" + "Can sort";
				} else {
					cell[0].element.title = "Can sort";
				}
				cell[0].element.onclick = (function(cell) {
					return function(_) {
						if(_gthis.sortColHead != cell[0]) {
							if(_gthis.sortColHead != null) {
								_gthis.sortColHead.element.classList.remove("sort-column");
								_gthis.sortColHead.element.classList.remove("sort-ascending");
							}
							_gthis.sortAscending = false;
							_gthis.sortColHead = cell[0];
							_gthis.sortColHead.element.classList.add("sort-column");
						} else {
							_gthis.sortAscending = !_gthis.sortAscending;
							tools_HtmlTools.setTokenFlag(_gthis.sortColHead.element.classList,"sort-ascending",_gthis.sortAscending);
						}
						_gthis.sortBy(_gthis.sortColHead.column,_gthis.sortAscending);
						_gthis.updateURL();
					};
				})(cell);
			}
			this.header.cells.push(cell[0]);
			this.header.element.appendChild(cell[0].element);
		}
		out.appendChild(this.header.element);
		var _g = 0;
		var _g1 = this.values;
		while(_g < _g1.length) {
			var row = this.createRow(_g1[_g++]);
			this.rows.push(row);
			out.appendChild(row.element);
		}
		if(this.countElement != null) {
			this.countElement.innerText = "" + this.values.length;
		}
	}
	,canUpdateFilters: null
	,updateFilters: function(_updateURL) {
		if(_updateURL == null) {
			_updateURL = true;
		}
		if(!this.canUpdateFilters) {
			return;
		}
		var found = 0;
		var _g = 0;
		var _g1 = this.rows;
		while(_g < _g1.length) {
			var row = _g1[_g];
			++_g;
			var keyboard = row.value;
			var show = true;
			var _g2 = 0;
			var _g3 = this.columns;
			while(_g2 < _g3.length) {
				var column = _g3[_g2];
				++_g2;
				if(column.wantFilter) {
					if(column.matchesFilter(keyboard)) {
						continue;
					}
					show = false;
					break;
				}
			}
			tools_HtmlTools.setDisplayFlag(row.element,show);
			row.show = show;
			if(show) {
				++found;
			}
		}
		if(this.countElement != null) {
			this.countElement.innerText = "" + found;
		}
		if(_updateURL) {
			this.updateURL();
		}
	}
	,collectFilters: function() {
		var params = { };
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) {
			var column = _g1[_g];
			++_g;
			if(column.wantFilter) {
				column.saveFilterParams(params);
			}
		}
		if(this.sortColHead != null) {
			var id = this.sortColHead.column.getId();
			if(!this.sortAscending) {
				id = "-" + id;
			}
			params["sort"] = id;
		}
		return params;
	}
	,saveFilters: function() {
		var params = this.collectFilters();
		var paramKeys = Reflect.fields(params);
		if(paramKeys.length == 0) {
			return "";
		}
		var paramPairs = [];
		var _g = 0;
		while(_g < paramKeys.length) {
			var key = paramKeys[_g];
			++_g;
			var val = params[key];
			if(val != "") {
				val = window.encodeURIComponent(params[key]);
				paramPairs.push(key + "=" + val);
			} else {
				paramPairs.push(key);
			}
		}
		if(paramPairs.length == 0) {
			return "";
		}
		return "?" + paramPairs.join("&");
	}
	,canUpdateURL: null
	,baseURL: null
	,updateURL: function() {
		if(!this.canUpdateURL) {
			return;
		}
		var search = this.saveFilters();
		var loc = window.document.location;
		var prefix = this.baseURL;
		if(loc.protocol == "file:") {
			prefix = "https://yal-tools.github.io/ergo-keyboards/";
		} else {
			prefix = loc.origin + loc.pathname;
		}
		var url = prefix + search + loc.hash;
		try {
			window.history.replaceState("","",url);
			return;
		} catch( _g ) {
		}
		var fd = window.document.querySelector("#share-field");
		fd.style.display = "inherit";
		fd.value = url;
	}
	,loadFilters: function(search) {
		var params = new URLSearchParams(search);
		var obj = { };
		params.forEach(function(val,key,_) {
			obj[key] = val;
		});
		this.canUpdateFilters = false;
		var wantFilter = false;
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) {
			var column = _g1[_g];
			++_g;
			var filter = column.loadFilterParams(obj);
			if(column.filterCheckbox == null) {
				continue;
			}
			column.filterCheckbox.checked = filter;
			if(filter) {
				tools_HtmlTools.triggerChange(column.filterCheckbox);
				column.showCheckbox.checked = true;
				tools_HtmlTools.triggerChange(column.showCheckbox);
				wantFilter = true;
			}
		}
		this.canUpdateFilters = true;
		var sort = obj["sort"];
		if(sort != null) {
			var desc = sort.charAt(0) == "-";
			if(desc) {
				sort = HxOverrides.substr(sort,1,null);
			}
			var th = window.document.getElementById("header-" + sort);
			if(th != null) {
				th.click();
				if(!desc) {
					th.click();
				}
			}
		}
		if(wantFilter) {
			this.updateFilters(false);
		}
	}
	,loadTest: function(kb) {
		if(this.testRow != null) {
			this.testRow.element.parentElement.removeChild(this.testRow.element);
			HxOverrides.remove(this.values,this.testRow.value);
		}
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) _g1[_g++].load(kb);
		this.testRow = this.createRow(kb);
		this.outElement.appendChild(this.testRow.element);
		this.rows.push(this.testRow);
	}
	,__class__: table_FancyTable
};
var KeyboardTable = function() {
	this.rawKeyboards = [];
	table_FancyTable.call(this);
	var _g = 0;
	var _g1 = this.getInits();
	while(_g < _g1.length) _g1[_g++].fn(null);
	this.initKeyboards();
	this.post();
};
KeyboardTable.__name__ = true;
KeyboardTable.__super__ = table_FancyTable;
KeyboardTable.prototype = $extend(table_FancyTable.prototype,{
	addImagePara: function(notes,filename,width,height,alt) {
		var p = window.document.createElement("p");
		p.classList.add("img");
		var img = window.document.createElement("img");
		img.src = "help/" + filename;
		img.alt = alt;
		img.width = width;
		img.height = height;
		p.appendChild(img);
		p.appendChild(window.document.createElement("br"));
		p.appendChild(window.document.createTextNode(alt));
		notes.appendChild(p);
		return img;
	}
	,resolveParent: function(kb) {
		var parentName = kb.parent;
		if(parentName == null) {
			return;
		}
		kb.parent = null;
		var _g = [];
		var _g1 = 0;
		var _g2 = this.values;
		while(_g1 < _g2.length) {
			var v = _g2[_g1];
			++_g1;
			if(v.name == parentName) {
				_g.push(v);
			}
		}
		var parent = _g[0];
		if(parent == null) {
			$global.console.error("Unknown parent \"" + parentName + "\" in \"" + kb.name + "\"");
			return;
		}
		this.resolveParent(parent);
		var tmp = Reflect.copy(parent);
		var _g = 0;
		var _g1 = this.columns;
		while(_g < _g1.length) {
			var col = _g1[_g];
			++_g;
			if(((col) instanceof table_LinkListColumn)) {
				var llc = col;
				var llCurr = llc.field.access(kb);
				if(llCurr != null && ((llCurr) instanceof Array)) {
					if(HxOverrides.remove(llCurr,"inherit")) {
						var llParent = llc.field.access(tmp);
						var k = llParent.length;
						while(--k >= 0) llCurr.unshift(llParent[k]);
					}
				}
				llc.field.access(tmp,true,null);
			}
		}
		if(kb.img == null && parent.img != null) {
			kb.img = parent.img.slice();
		}
		var _g = 0;
		var _g1 = Object.keys(tmp);
		while(_g < _g1.length) {
			var key = _g1[_g];
			++_g;
			var val = Reflect.field(tmp,key);
			if(val == null) {
				continue;
			}
			if(Reflect.field(kb,key) != null) {
				continue;
			}
			kb[key] = val;
		}
	}
	,initColConnection: function(kb) {
		var conType = new table_tag_TagListColumn("Connection",new table_FancyField("connection",function(q,wantSet,setValue) {
			if(wantSet) {
				q.connection = setValue;
				return null;
			} else {
				return q.connection;
			}
		}),type_Connection);
		conType.shortName = "Con";
		conType.shortLabels.set(type_Connection.Wired,"W");
		conType.shortLabels.set(type_Connection.WiredHalf,"W+BT");
		conType.filterLabels.set(type_Connection.WiredHalf,"Wired+Bluetooth");
		conType.filterNotes.set(type_Connection.WiredHalf,"For ZMK keyboards, one half can be connected to the computer (and communicate over USB) while the other talks to it over air");
		conType.shortLabels.set(type_Connection.Bluetooth,"BT");
		conType.shortLabels.set(type_Connection.Wireless,"P");
		conType.filterLabels.set(type_Connection.Wireless,"Other wireless");
		conType.filterNotes.set(type_Connection.Wireless,"2.4G dongles and alike");
		conType.filterTags = [type_Connection.Bluetooth,type_Connection.Wireless];
		conType.columnCount = 2;
		conType.onNotes = function(div) {
			conType.appendFilterNotes(div);
		};
		this.addColumn(conType);
	}
	,initColNav: function(kb,corner) {
		var navCluster = new table_tag_TagListColumn("Navigation cluster",new table_FancyField("navCluster",function(q,wantSet,setValue) {
			if(wantSet) {
				q.navCluster = setValue;
				return null;
			} else {
				return q.navCluster;
			}
		}),type_NavCluster);
		navCluster.columnCount = 2;
		navCluster.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Arrow keys and such.");
			var ul = tools_HtmlTools.appendElTextNode(div,"ul","");
			var li;
			tools_HtmlTools.appendElTextNode(ul,"li","\"Arrows\" means that there's a standard T-shaped cluster.");
			if(navCluster.usedValues.exists(type_NavCluster.Inline)) {
				li = tools_HtmlTools.appendElTextNode(ul,"li");
				tools_HtmlTools.appendElTextNode(li,"b","Inline");
				li.appendChild(window.document.createTextNode(" means a 65%/75% corner with arrow keys and a column of keys" + " to be used as PgUp/PgDn/Home/End"));
			}
			if(navCluster.usedValues.exists(type_NavCluster.Duo)) {
				li = tools_HtmlTools.appendElTextNode(ul,"li");
				tools_HtmlTools.appendElTextNode(li,"b","Duo");
				li.appendChild(window.document.createTextNode(" means that there are two of those" + " (second commonly being used for Home/End/PgUp/PgDn)"));
			}
			tools_HtmlTools.appendElTextNode(ul,"li","\"Full\" means that there's an arrow cluster" + " with a standard 6/9-key cluster roughly above it.");
			if(corner) {
				tools_HtmlTools.appendParaTextNode(div,"Also see \"corner keys\" for alternative placement ideas");
			}
		};
		navCluster.shortName = "nav";
		navCluster.filterTags = [type_NavCluster.Arrows,type_NavCluster.Inline,type_NavCluster.Duo,type_NavCluster.Full];
		navCluster.shortLabels.set(type_NavCluster.None,"");
		this.addColumn(navCluster);
	}
	,initColNum: function(kb) {
		var numpad = new table_tag_TagListColumn("Numpad",new table_FancyField("numpad",function(q,wantSet,setValue) {
			if(wantSet) {
				q.numpad = setValue;
				return null;
			} else {
				return q.numpad;
			}
		}),type_Numpad);
		numpad.columnCount = 2;
		numpad.onNotes = function(div) {
			var p = tools_HtmlTools.appendParaTextNode(div,"");
			tools_HtmlTools.appendElTextNode(p,"b","Mini");
			p.appendChild(window.document.createTextNode(" means that it has the digit keys, but not a full set."));
		};
		this.addColumn(numpad);
	}
	,colShape: null
	,initGeneral: function(kb) {
		this.addFilterHeader("General");
		var col = new table_NameColumn("Name & photo",new table_FancyField("name",function(q,wantSet,setValue) {
			if(wantSet) {
				q.name = setValue;
				return null;
			} else {
				return q.name;
			}
		}));
		this.addColumn(col);
		col.show = true;
		col = new table_ParentColumn("Parent",new table_FancyField("parent",function(q,wantSet,setValue) {
			if(wantSet) {
				q.parent = setValue;
				return null;
			} else {
				return q.parent;
			}
		}));
		this.addColumn(col);
		col.onEditorNotes = function(out) {
			tools_HtmlTools.appendParaTextNode(out,"Inherits any missing fields (except lists of links) from the specified keyboard.","This primarily exists for distinct variations of the same design","Load the definition of Sofle Choc Wireless for an example.");
		};
		var shape = new table_tag_TagListColumn("Shape",new table_FancyField("shape",function(q,wantSet,setValue) {
			if(wantSet) {
				q.shape = setValue;
				return null;
			} else {
				return q.shape;
			}
		}),type_Shape);
		shape.columnCount = 2;
		shape.shortLabels.set(type_Shape.Monoblock,"Mono");
		shape.shortLabels.set(type_Shape.Unibody,"Uni");
		shape.shortLabels.set(type_Shape.Keywell,"KW");
		shape.shortLabels.set(type_Shape.Half,"½");
		shape.shortLabels.set(type_Shape.Special,"*");
		shape.filterNotes.set(type_Shape.Monoblock,"A single-piece keyboard with no gaps, the usual.\n" + "There are a couple of these here that are interesting in some way.");
		shape.filterNotes.set(type_Shape.Unibody,"A single-piece keyboard with some sort of a gap in the middle.");
		shape.filterNotes.set(type_Shape.Split,"A keyboard consisting of two or more physical pieces " + "that are connected together with a cable or wirelessly.");
		shape.filterNotes.set(type_Shape.Half,"Keypads and alike, some work may be necessary to combine two of these.");
		shape.filterNotes.set(type_Shape.Special,"Something interesting - folding keyboards, layered keyboards, and so on.");
		shape.onNotes = function(div) {
			shape.appendFilterNotes(div);
		};
		this.addColumn(shape);
		this.colShape = shape;
		var staggerType = new table_tag_TagListColumn("Stagger type",new table_FancyField("stagger",function(q,wantSet,setValue) {
			if(wantSet) {
				q.stagger = setValue;
				return null;
			} else {
				return q.stagger;
			}
		}),type_StaggerType);
		staggerType.shortName = "Stag";
		staggerType.columnCount = 2;
		staggerType.filterLabels.set(type_StaggerType.Column,"Columnar");
		staggerType.filterLabels.set(type_StaggerType.Ortho,"Ortholinear");
		staggerType.shortLabels.set(type_StaggerType.Column,"Col");
		staggerType.shortLabels.set(type_StaggerType.Ortho,"OL");
		this.addColumn(staggerType);
	}
	,initClusters: function(kb) {
		this.addFilterHeader("Key clusters and specifics");
	}
	,initSwitch: function(kb) {
		this.addFilterHeader("Switches and keycaps");
		var hotswap = new type_HotSwapColumn("Hot-swappable switches",new table_FancyField("hotswap",function(q,wantSet,setValue) {
			if(wantSet) {
				q.hotswap = setValue;
				return null;
			} else {
				return q.hotswap;
			}
		}),type_HotSwap);
		hotswap.shortName = "hs";
		hotswap.shortLabels.set(type_HotSwap.Unspecified,"");
		hotswap.shortLabels.set(type_HotSwap.Yes,"+");
		hotswap.shortLabels.set(type_HotSwap.No,"-");
		hotswap.columnCount = 2;
		hotswap.filterTags = [type_HotSwap.Yes];
		var switchType = new type_SwitchProfileColumn("Switch profile",new table_FancyField("switchProfile",function(q,wantSet,setValue) {
			if(wantSet) {
				q.switchProfile = setValue;
				return null;
			} else {
				return q.switchProfile;
			}
		}),type_SwitchProfile);
		switchType.shortName = "SwP";
		switchType.filterLabels.set(type_SwitchProfile.AnyHP,"High-profile");
		switchType.filterLabels.set(type_SwitchProfile.AnyLP,"Low-profile");
		switchType.filterLabels.set(type_SwitchProfile.AnyMechanical,"Mechanical");
		switchType.filterLabels.set(type_SwitchProfile.AnySimple,"Non-mechanical");
		switchType.filterLabels.set(type_SwitchProfile.Choc,"Kailh Choc V1");
		switchType.filterLabels.set(type_SwitchProfile.ChocV2,"Kailh Choc V2");
		switchType.filterLabels.set(type_SwitchProfile.ChocMini,"Kailh Choc Mini");
		switchType.filterLabels.set(type_SwitchProfile.KXSwitch,"Kailh X-Switch");
		switchType.filterLabels.set(type_SwitchProfile.GateronLP,"Gateron LP");
		switchType.filterLabels.set(type_SwitchProfile.Topre,"Electrocapacitive");
		switchType.filterLabels.set(type_SwitchProfile.HallEffect,"Hall Effect");
		switchType.shortLabels.set(type_SwitchProfile.Unknown,"");
		switchType.shortLabels.set(type_SwitchProfile.KXSwitch,"KX");
		switchType.shortLabels.set(type_SwitchProfile.ChocMini,"mChoc");
		switchType.shortLabels.set(type_SwitchProfile.GateronLP,"GLP");
		switchType.shortLabels.set(type_SwitchProfile.OutemuLP,"OLP");
		switchType.shortLabels.set(type_SwitchProfile.CherryULP,"CULP");
		switchType.shortLabels.set(type_SwitchProfile.Optical,"Opt");
		switchType.shortLabels.set(type_SwitchProfile.Topre,"EC");
		switchType.shortLabels.set(type_SwitchProfile.HallEffect,"HE");
		switchType.hideInEditor.set(type_SwitchProfile.AnyHP,true);
		switchType.hideInEditor.set(type_SwitchProfile.AnyLP,true);
		switchType.hideInEditor.set(type_SwitchProfile.AnyMechanical,true);
		switchType.hideInEditor.set(type_SwitchProfile.AnySimple,true);
		switchType.columnCount = 2;
		var keySpacing = new table_tag_TagListColumn("Key spacing",new table_FancyField("keySpacing",function(q,wantSet,setValue) {
			if(wantSet) {
				q.keySpacing = setValue;
				return null;
			} else {
				return q.keySpacing;
			}
		}),type_KeySpacing);
		keySpacing.shortName = "kSp";
		keySpacing.filterLabels.set(type_KeySpacing.MX,"MX (19mm x 19mm)");
		keySpacing.filterLabels.set(type_KeySpacing.MinMX,"min. MX (16mm x 16mm)");
		keySpacing.filterLabels.set(type_KeySpacing.Choc,"Choc (18mm x 17mm)");
		keySpacing.filterLabels.set(type_KeySpacing.CFX,"CFX (17mm x 17mm)");
		keySpacing.filterLabels.set(type_KeySpacing.MinChoc,"min. Choc (14.5mm x 14.5mm)");
		keySpacing.shortLabels.set(type_KeySpacing.Unknown,"?");
		keySpacing.shortLabels.set(type_KeySpacing.MinMX,"mMX");
		keySpacing.shortLabels.set(type_KeySpacing.MinChoc,"mChoc");
		var inf = new table_FuncColumn("Switch summary",kb,function(out,item) {
			var short = [];
			var long = [item.name];
			var hs = hotswap.getShortValue(item);
			if(hs != null) {
				short.push(hs);
				long.push(table_tag_TagLikeListColumnTools.getValueTip(hotswap,item,false));
			}
			var swp = item.switchProfile;
			if(swp != null) {
				var more = swp.length > 3;
				if(more) {
					swp = swp.slice(0,3);
				}
				var result = new Array(swp.length);
				var _g = 0;
				var _g1 = swp.length;
				while(_g < _g1) {
					var i = _g++;
					var sp = swp[i];
					var tmp = switchType.shortLabels.get(sp);
					result[i] = tmp != null ? tmp : $hxEnums[sp.__enum__].__constructs__[sp._hx_index]._hx_name;
				}
				if(more) {
					result.push("+");
				}
				short.push(result.join("," + tools_Symbols.hairSpace));
				long.push(table_tag_TagLikeListColumnTools.getValueTip(switchType,item,false));
			}
			if(item.keySpacing != null) {
				long.push(table_tag_TagLikeListColumnTools.getValueTip(keySpacing,item,false));
			}
			return { text : short.join(" "), tip : long.join("\n")};
		});
		inf.showInFilter = true;
		inf.shortName = "Switches";
		inf.show = true;
		this.addColumns(inf,hotswap,switchType,keySpacing);
	}
	,initLinks: function(kb) {
		this.addFilterHeader("Links").editorNotes.push(new table_FancyHeaderNote("Notes on link lists",function(el) {
			var p = tools_HtmlTools.appendParaTextNode(el,"Links can be prefixed with a ");
			tools_HtmlTools.appendElTextNode(p,"code","[country code]");
			p.appendChild(window.document.createTextNode(" to indicate where a keyboard ships from - e.g."));
			tools_HtmlTools.appendElTextNode(el,"pre","[UA] " + "https://yal.cc");
			p = tools_HtmlTools.appendParaTextNode(el,"Would display as ");
			p.innerHTML += table_LinkListColumn.createFlag("UA") + "&#8201;";
			tools_HtmlTools.appendElTextNode(p,"a","https://yal.cc").setAttribute("href","https://yal.cc");
			p.appendChild(window.document.createTextNode("."));
			p = tools_HtmlTools.appendParaTextNode(el,"If a company has multiple regional branches," + " several codes can be appended one after another (e.g. ");
			tools_HtmlTools.appendElTextNode(p,"code","[US][DE] https://...");
			p.appendChild(window.document.createTextNode(")."));
			p = tools_HtmlTools.appendParaTextNode(el,"If the designer/company behind the keyboard" + " sells pre-builts/kits themselves OR endorses a specific vendor" + " on the project's page, such vendor links can be prefixed with a ");
			tools_HtmlTools.appendElTextNode(p,"code","!");
			p.appendChild(window.document.createTextNode(" to mark them accordingly and display them on top of the shuffled list."));
		}));
		var lc = new table_LinkListColumn("Website",new table_FancyField("web",function(q,wantSet,setValue) {
			if(wantSet) {
				q.web = setValue;
				return null;
			} else {
				return q.web;
			}
		}));
		this.addColumn(lc);
		lc.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"If a keyboard has a separate page/website/post explaining the project motivation/etc." + " that's different from the rest of the links, that goes here.");
		};
		lc.shortName = "web";
		lc.canShowSingle = true;
		lc = new table_LinkListColumn("Open-source",new table_FancyField("source",function(q,wantSet,setValue) {
			if(wantSet) {
				q.source = setValue;
				return null;
			} else {
				return q.source;
			}
		}));
		this.addColumn(lc);
		lc.shortName = "OSH";
		lc.canShowSingle = true;
		var source = lc;
		lc = new table_LinkListColumn("Kits",new table_FancyField("kit",function(q,wantSet,setValue) {
			if(wantSet) {
				q.kit = setValue;
				return null;
			} else {
				return q.kit;
			}
		}));
		this.addColumn(lc);
		lc.shortName = "Kit";
		lc.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"A keyboard sold in a state that requires soldering.");
			tools_HtmlTools.appendParaTextNode(div,"A kit typically consists a PCB, case," + " and components (controllers, sockets, switches)" + ", but PCBs are also considered to be kits here");
		};
		var kit = lc;
		lc = new table_LinkListColumn("Pre-built",new table_FancyField("prebuilt",function(q,wantSet,setValue) {
			if(wantSet) {
				q.prebuilt = setValue;
				return null;
			} else {
				return q.prebuilt;
			}
		}));
		this.addColumn(lc);
		lc.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"A keyboard sold in a state that does not require soldering.");
			tools_HtmlTools.appendParaTextNode(div,"This includes pre-soldered keyboards" + " (that you only need to put your switches/keycaps onto)" + " and fully built keyboards.");
		};
		lc.shortName = "PB";
		var prebuilt = lc;
		lc = new table_LinkListColumn("Build guide (WIP)",new table_FancyField("buildGuide",function(q,wantSet,setValue) {
			if(wantSet) {
				q.buildGuide = setValue;
				return null;
			} else {
				return q.buildGuide;
			}
		}));
		this.addColumn(lc);
		lc.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"If the keyboard has a semi-detailed guide for making one yourself from" + " kit or source files, this links to that.");
		};
		lc.shortName = "BG";
		lc.canShowSingle = true;
		var buildGuide = lc;
		lc = new table_LinkListColumn("Layout ref",new table_FancyField("layoutRef",function(q,wantSet,setValue) {
			if(wantSet) {
				q.layoutRef = setValue;
				return null;
			} else {
				return q.layoutRef;
			}
		}));
		this.addColumn(lc);
		lc.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"If there's a PDF/etc. that you can print" + " to check how your fingers would rest on the keyboard," + " this links to that.");
			tools_HtmlTools.appendParaTextNode(div,"For open-source keyboards with PCBs," + " you may also print the .kicad_pcb file from KiCad.");
		};
		lc.shortName = "LR";
		lc.canShowSingle = true;
		var layoutRef = lc;
		var avail_has = function(list) {
			if(list != null) {
				return list.length > 0;
			} else {
				return false;
			}
		};
		var avail = new type_AvailabilityColumn("Availability",new table_FancyField("availability",function(obj,set,val) {
			if(set) {
				return null;
			}
			var result = [];
			if(avail_has(obj.source)) {
				result.push(type_Availability.OpenSource);
			}
			if(avail_has(obj.kit)) {
				result.push(type_Availability.Kit);
			}
			if(avail_has(obj.prebuilt)) {
				result.push(type_Availability.PreBuilt);
			}
			if(avail_has(obj.buildGuide)) {
				result.push(type_Availability.BuildGuide);
			}
			if(avail_has(obj.layoutRef)) {
				result.push(type_Availability.LayoutRef);
			}
			return result;
		}),type_Availability);
		avail.shortName = "Links";
		avail.onBuildValue = function(out,item) {
			var first = true;
			if(avail_has(item.source)) {
				first = false;
				source.buildValueExt(out,item,"Src");
			}
			if(avail_has(item.kit)) {
				if(first) {
					first = false;
				} else {
					out.appendChild(window.document.createTextNode(", "));
				}
				kit.buildValueExt(out,item,"Kit");
			}
			if(avail_has(item.prebuilt)) {
				if(first) {
					first = false;
				} else {
					out.appendChild(window.document.createTextNode(", "));
				}
				prebuilt.buildValueExt(out,item,"PB");
			}
			if(avail_has(item.buildGuide)) {
				if(first) {
					first = false;
				} else {
					out.appendChild(window.document.createTextNode(", "));
				}
				buildGuide.buildValueExt(out,item,"BG");
			}
			if(avail_has(item.layoutRef)) {
				if(!first) {
					out.appendChild(window.document.createTextNode(", "));
				}
				layoutRef.buildValueExt(out,item,"LR");
			}
		};
		avail.show = true;
		avail.filterTags = [type_Availability.Kit,type_Availability.PreBuilt];
		avail.canEdit = false;
		this.addColumn(avail);
	}
	,initInputs: function(kb) {
		var header = this.addFilterHeader("Other input devices");
		var noteTotal = new table_FancyHeaderNote("NB! Counted total rather than per half");
		header.editorNotes.push(noteTotal);
		header.filterNotes.push(noteTotal);
		header.filterNotes.push(new table_FancyHeaderNote("NB! ZMK + Wireless",function(div) {
			tools_HtmlTools.appendParaTextNode(div,"As of Nov 2023, ZMK firmware has limited support for pointing devices," + " therefore wireless keyboards with pointing devices typically only support them" + " in (wired) QMK mode.");
			tools_HtmlTools.appendParaTextNode(div,"Please double-check documentation for keyboards to avoid disappointment.");
		}));
		var irCol = new table_number_IntRangeColumn("Encoders",new table_FancyField("encoders",function(q,wantSet,setValue) {
			if(wantSet) {
				q.encoders = setValue;
				return null;
			} else {
				return q.encoders;
			}
		}));
		this.addColumn(irCol);
		irCol.shortName = "#enc";
		irCol.filterMinDefault = 1;
		var enct = new table_tag_TagListColumn("Encoder type",new table_FancyField("encoderType",function(q,wantSet,setValue) {
			if(wantSet) {
				q.encoderType = setValue;
				return null;
			} else {
				return q.encoderType;
			}
		}),type_EncoderType);
		enct.columnCount = 2;
		enct.shortName = "EncT";
		enct.shortLabels.set(type_EncoderType.Unknown,"");
		enct.shortLabels.set(type_EncoderType.Knob,"K");
		enct.shortLabels.set(type_EncoderType.Wheel,"W");
		this.addColumn(enct);
		var pds = new table_number_IntRangeColumn("Pointing devices",new table_FancyField("pointingDevices",function(kb,set,val) {
			if(set) {
				kb.pointingDevices = val;
				return null;
			}
			var range = kb.pointingDevices;
			if(range != null) {
				return range;
			}
			var add = function(item) {
				if(item == null) {
					return;
				}
				if(range == null) {
					range = { min : item.min, max : item.max};
				} else {
					range.min += item.min;
					range.max += item.max;
				}
			};
			add(kb.trackballs);
			add(kb.trackpads);
			add(kb.trackpoints);
			return range;
		}));
		pds.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"By default, this adds up all pointing device types.");
		};
		pds.shortName = "PDs";
		pds.filterMinDefault = 1;
		this.addColumn(pds);
		irCol = new table_number_IntRangeColumn("Trackballs",new table_FancyField("trackballs",function(q,wantSet,setValue) {
			if(wantSet) {
				q.trackballs = setValue;
				return null;
			} else {
				return q.trackballs;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		var fCol = new table_number_FloatColumn("Trackball size",new table_FancyField("trackballSize",function(q,wantSet,setValue) {
			if(wantSet) {
				q.trackballSize = setValue;
				return null;
			} else {
				return q.trackballSize;
			}
		}));
		this.addColumn(fCol);
		fCol.filterName = fCol.name + " (mm)";
		irCol = new table_number_IntRangeColumn("Touchpads",new table_FancyField("trackpads",function(q,wantSet,setValue) {
			if(wantSet) {
				q.trackpads = setValue;
				return null;
			} else {
				return q.trackpads;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		fCol = new table_number_FloatColumn("Touchpad size",new table_FancyField("trackpadSize",function(q,wantSet,setValue) {
			if(wantSet) {
				q.trackpadSize = setValue;
				return null;
			} else {
				return q.trackpadSize;
			}
		}));
		this.addColumn(fCol);
		fCol.filterName = fCol.name + " (mm)";
		irCol = new table_number_IntRangeColumn("Trackpoints",new table_FancyField("trackpoints",function(q,wantSet,setValue) {
			if(wantSet) {
				q.trackpoints = setValue;
				return null;
			} else {
				return q.trackpoints;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Those little pointing sticks. Usually found somewhere between the keys.");
		};
		irCol = new table_number_IntRangeColumn("Joysticks",new table_FancyField("joysticks",function(q,wantSet,setValue) {
			if(wantSet) {
				q.joysticks = setValue;
				return null;
			} else {
				return q.joysticks;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Like on a game controller!");
		};
		irCol = new table_number_IntRangeColumn("Push-buttons",new table_FancyField("dpads",function(q,wantSet,setValue) {
			if(wantSet) {
				q.dpads = setValue;
				return null;
			} else {
				return q.dpads;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"[Typically] smaller buttons that aren't regular switches.","Generally good for one-off actions and less good for typing.");
		};
		irCol = new table_number_IntRangeColumn("2-way swiches",new table_FancyField("rockerSwitches",function(q,wantSet,setValue) {
			if(wantSet) {
				q.rockerSwitches = setValue;
				return null;
			} else {
				return q.rockerSwitches;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Also called \"rocker switches\"","Usually these can also be pressed down for a third action.");
		};
		irCol = new table_number_IntRangeColumn("4-way switches",new table_FancyField("dpads",function(q,wantSet,setValue) {
			if(wantSet) {
				q.dpads = setValue;
				return null;
			} else {
				return q.dpads;
			}
		}));
		this.addColumn(irCol);
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"D-pads and alike.","Some can also be clicked for a 5th action.","The click usually takes 200-300g force, so don't count on it.");
		};
	}
	,initConveniences: function(kb) {
		this.addFilterHeader("Conveniences");
		var palm = new table_tag_TagListColumn("Palm/wrist pads",new table_FancyField("wristPads",function(q,wantSet,setValue) {
			if(wantSet) {
				q.wristPads = setValue;
				return null;
			} else {
				return q.wristPads;
			}
		}),type_WristPads);
		palm.shortName = "Pads";
		palm.shortLabels.set(type_WristPads.None,"");
		palm.shortLabels.set(type_WristPads.Integrated,"+");
		palm.shortLabels.set(type_WristPads.Detachable,"±");
		palm.columnCount = 2;
		palm.filterTags = [type_WristPads.Integrated,type_WristPads.Detachable];
		palm.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Palm/wrist pads aren't very common on custom keyboards, but you can always buy them" + " separately, or use any other semi-soft object of your choice" + " (such as a folded little towel or a Purple Squishy)","Some people argue that making your own palm rest is often preferable as you can" + " pick the height/firmness.");
		};
		this.addColumn(palm);
		var tkCol = new table_tag_TagListColumn("Tenting",new table_FancyField("tenting",function(q,wantSet,setValue) {
			if(wantSet) {
				q.tenting = setValue;
				return null;
			} else {
				return q.tenting;
			}
		}),type_Tenting);
		tkCol.columnCount = 2;
		this.addColumn(tkCol);
		var ctCol = new table_tag_TagListColumn("Case",new table_FancyField("caseType",function(q,wantSet,setValue) {
			if(wantSet) {
				q.caseType = setValue;
				return null;
			} else {
				return q.caseType;
			}
		}),type_CaseType);
		ctCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"For pre-built/kit keyboards, Included means that it comes with the keyboard.","For open-source keyboards, Included means that case files can be found in the repo.","Third-party means that cases can be found or bought elsewhere.");
		};
		ctCol.shortName = "Case";
		ctCol.shortLabels.set(type_CaseType.Unknown,"");
		ctCol.shortLabels.set(type_CaseType.None,"-");
		ctCol.shortLabels.set(type_CaseType.Included,"+");
		ctCol.shortLabels.set(type_CaseType.ThirdParty,"3p");
		ctCol.filterTags = [type_CaseType.Included,type_CaseType.ThirdParty];
		ctCol.columnCount = 2;
		this.addColumn(ctCol);
		var xCol = new table_LinkListColumn("Extras",new table_FancyField("extras",function(q,wantSet,setValue) {
			if(wantSet) {
				q.extras = setValue;
				return null;
			} else {
				return q.extras;
			}
		}));
		xCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Cases, tenting kits, and so on");
		};
		xCol.shortName = "+";
		this.addColumn(xCol);
	}
	,initCuriosities: function(kb) {
		this.addFilterHeader("Other curiosities");
		this.addColumn(new table_number_IntRangeColumn("Displays",new table_FancyField("displays",function(q,wantSet,setValue) {
			if(wantSet) {
				q.displays = setValue;
				return null;
			} else {
				return q.displays;
			}
		})));
		var light = new table_tag_TagListColumn("Lighting",new table_FancyField("lighting",function(q,wantSet,setValue) {
			if(wantSet) {
				q.lighting = setValue;
				return null;
			} else {
				return q.lighting;
			}
		}),type_Lighting);
		light.shortLabels.set(type_Lighting.Unknown,"");
		light.shortLabels.set(type_Lighting.None,"-");
		light.columnCount = 2;
		this.addColumn(light);
		var fw = new table_tag_TagListColumn("Firmware",new table_FancyField("firmware",function(q,wantSet,setValue) {
			if(wantSet) {
				q.firmware = setValue;
				return null;
			} else {
				return q.firmware;
			}
		}),type_Firmware);
		fw.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Mostly determines your ability to use open-source configurators to customize the keyboard.");
			if(fw.usedValues.exists(type_Firmware.Simple)) {
				var p = tools_HtmlTools.appendParaTextNode(div,"");
				tools_HtmlTools.appendElTextNode(p,"b","Simple");
				p.appendChild(window.document.createTextNode(" means that firmware is non-re-flashable and cannot be configured."));
			}
		};
		fw.shortLabels.set(type_Firmware.Unknown,"");
		fw.shortLabels.set(type_Firmware.Custom,"*");
		fw.columnCount = 2;
		this.addColumn(fw);
		var sw = new table_tag_TagListColumn("Software",new table_FancyField("software",function(q,wantSet,setValue) {
			if(wantSet) {
				q.software = setValue;
				return null;
			} else {
				return q.software;
			}
		}),type_Software);
		sw.columnCount = 2;
		this.addColumn(sw);
		var asm = new table_tag_TagListColumn("Assembly specifics",new table_FancyField("assembly",function(q,wantSet,setValue) {
			if(wantSet) {
				q.assembly = setValue;
				return null;
			} else {
				return q.assembly;
			}
		}),type_Assembly);
		asm.defaultValue = [];
		asm.columnCount = 2;
		asm.filterNotes.set(type_Assembly.PCB,"A little less work to build from scratch," + " but you have to order PCB(s) from somewhere.");
		asm.filterNotes.set(type_Assembly.Handwired,"A little more work to build from scratch," + " but reduces the material list to readily available components and a 3d-printed case." + "\nSome keyboards have separate PCB/handwire versions.");
		asm.filterLabels.set(type_Assembly.Diodeless,"Diodeless (WIP)");
		asm.filterNotes.set(type_Assembly.Diodeless,"Means that the keyboard doesn't use diodes, which is a little less soldering." + "\nRecent split keyboards under 42 keys are typically diodeless.");
		asm.filterLabels.set(type_Assembly.Reversible,"Reversible (WIP)");
		asm.filterNotes.set(type_Assembly.Reversible,"A keyboard consists of two or more identical PCBs/cases." + "\nMinimum order quantity for PCBs is usually 5," + " so this reduces the number of extra boards you end up with.");
		asm.onNotes = function(div) {
			asm.appendFilterNotes(div);
		};
		asm.shortName = "Assembly";
		this.addColumn(asm);
	}
	,initControllers: function(kb) {
		this.addFilterHeader("Controllers");
		var nCol = new table_number_IntRangeColumn("Count",new table_FancyField("ctlCount",function(q,wantSet,setValue) {
			if(wantSet) {
				q.ctlCount = setValue;
				return null;
			} else {
				return q.ctlCount;
			}
		}));
		this.addColumn(nCol);
		var ctlCol = new type_ControllerColumn("Footprint",new table_FancyField("ctlFootprint",function(q,wantSet,setValue) {
			if(wantSet) {
				q.ctlFootprint = setValue;
				return null;
			} else {
				return q.ctlFootprint;
			}
		}),null);
		ctlCol.columnCount = 2;
		this.addColumn(ctlCol);
		nCol = new table_number_IntRangeColumn("Pin Count",new table_FancyField("ctlPinCount",function(q,wantSet,setValue) {
			if(wantSet) {
				q.ctlPinCount = setValue;
				return null;
			} else {
				return q.ctlPinCount;
			}
		}));
		this.addColumn(nCol);
		ctlCol = new type_ControllerColumn("Controller",new table_FancyField("ctlName",function(q,wantSet,setValue) {
			if(wantSet) {
				q.ctlName = setValue;
				return null;
			} else {
				return q.ctlName;
			}
		}),null);
		ctlCol.columnCount = 2;
		this.addColumn(ctlCol);
	}
	,getInits: function() {
		return [new KeyboardTableInit("general",$bind(this,this.initGeneral)),new KeyboardTableInit("clusters",$bind(this,this.initClusters)),new KeyboardTableInit("switch",$bind(this,this.initSwitch)),new KeyboardTableInit("inputs",$bind(this,this.initInputs)),new KeyboardTableInit("curios",$bind(this,this.initCuriosities)),new KeyboardTableInit("controller",$bind(this,this.initControllers)),new KeyboardTableInit("conveniences",$bind(this,this.initConveniences)),new KeyboardTableInit("links",$bind(this,this.initLinks))];
	}
	,resolveParents: function() {
		var _g = 0;
		var _g1 = this.values;
		while(_g < _g1.length) this.resolveParent(_g1[_g++]);
	}
	,initKeyboards: function() {
	}
	,rawKeyboards: null
	,post: function() {
		var _this = this.values;
		var result = new Array(_this.length);
		var _g = 0;
		var _g1 = _this.length;
		while(_g < _g1) {
			var i = _g++;
			result[i] = tools_ValueTools.copy(_this[i]);
		}
		this.rawKeyboards = result;
		this.resolveParents();
		var _g = 0;
		var _g1 = this.values;
		while(_g < _g1.length) {
			var kb = _g1[_g];
			++_g;
			if(kb.assembly == null) {
				kb.assembly = [];
			} else if(typeof(kb.assembly) == "string") {
				kb.assembly = [kb.assembly];
			}
			if(kb.assembly.indexOf(type_Assembly.Handwired) != -1) {
				if(kb.caseType == null) {
					kb.caseType = [type_CaseType.Included];
				}
				if(kb.hotswap == null) {
					kb.hotswap = [type_HotSwap.No];
				}
			} else if(kb.assembly.indexOf(type_Assembly.PCB) == -1) {
				kb.assembly.unshift(type_Assembly.PCB);
			}
			if(kb.hotswap == null && type_ValList.safeContains(kb.switchProfile,type_SwitchProfile.CherryULP)) {
				kb.hotswap = [type_HotSwap.No];
			}
			if(kb.firmware != null && kb.firmware.length == 1 && kb.firmware[0] == type_Firmware.ZMK && kb.shape != null && kb.shape.indexOf(type_Shape.Split) != -1) {
				if(kb.connection == null) {
					kb.connection = [type_Connection.Bluetooth];
				} else {
					HxOverrides.remove(kb.connection,type_Connection.Wired);
					if(kb.connection.indexOf(type_Connection.WiredHalf) == -1) {
						kb.connection.push(type_Connection.WiredHalf);
					}
				}
			}
			if(kb.switchProfile != null && kb.switchProfile.indexOf(type_SwitchProfile.MX) != -1 && (kb.keySpacing == null || kb.keySpacing.length == 0)) {
				kb.keySpacing = [type_KeySpacing.MX];
			}
			if(kb.layoutRef != null) {
				var _this = kb.layoutRef;
				var _g_current = 0;
				while(_g_current < _this.length) if(_this[_g_current++] == "SKBC") {
					kb.layoutRef[_g_current - 1] = "[n:splitKbCompare] https://jhelvy.github.io/splitKbCompare/";
				}
			}
		}
	}
	,loadTest: function(kb) {
		this.resolveParent(kb);
		table_FancyTable.prototype.loadTest.call(this,kb);
	}
	,__class__: KeyboardTable
});
var ColStagTable = function() {
	KeyboardTable.call(this);
};
ColStagTable.__name__ = true;
ColStagTable.__super__ = KeyboardTable;
ColStagTable.prototype = $extend(KeyboardTable.prototype,{
	initGeneral: function(kb) {
		var _gthis = this;
		KeyboardTable.prototype.initGeneral.call(this,kb);
		this.initColConnection(kb);
		var col = new table_number_IntRangeListColumn("Key count",new table_FancyField("keys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.keys = setValue;
				return null;
			} else {
				return q.keys;
			}
		}));
		this.addColumn(col);
		col.shortName = "#keys";
		col.show = true;
		var form = this.addColumn(new table_FuncColumn("Form",kb,function(out,kb) {
			if(kb.cols == null || kb.rows == null || kb.thumbKeys == null) {
				return null;
			}
			var short = "";
			var tCols = type_NumRange.toString(kb.cols);
			var tRows = type_NumRange.toString(kb.rows);
			var tThumb = type_NumRange.toString(kb.thumbKeys);
			short = "" + (tCols + "x" + tRows + "+" + tThumb);
			var shape = kb.shape;
			if(shape != null) {
				var shapes = [];
				if(shape.indexOf(type_Shape.Monoblock) != -1) {
					shapes.push("M");
				}
				if(shape.indexOf(type_Shape.Unibody) != -1) {
					shapes.push("U");
				}
				if(shape.indexOf(type_Shape.Split) != -1) {
					shapes.push("S");
				}
				if(shape.indexOf(type_Shape.Half) != -1) {
					shapes.push("H");
				}
				if(shape.indexOf(type_Shape.Keywell) != -1) {
					shapes.push("W");
				}
				if(shape.indexOf(type_Shape.Special) != -1) {
					shapes.push("*");
				}
				if(shapes.length > 0) {
					short += " " + shapes.join("");
				}
			}
			var long = [kb.name,"Columns: " + tCols,"Rows: " + tRows,"Thumb keys: " + tThumb];
			if(kb.cornerKeys != null) {
				long.push("Corner keys: " + type_NumRange.toString(kb.cornerKeys));
			}
			if(shape != null && shape.length > 0) {
				long.push(table_tag_TagLikeListColumnTools.getValueTip(_gthis.colShape,kb,false));
			}
			return { text : short, tip : long.join("\n")};
		}));
		form.show = true;
		form.showInFilter = true;
		var rowsCol = new table_number_IntRangeColumn("Rows",new table_FancyField("rows",function(q,wantSet,setValue) {
			if(wantSet) {
				q.rows = setValue;
				return null;
			} else {
				return q.rows;
			}
		}));
		this.addColumn(rowsCol);
		rowsCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"The number of rows in a keyboard half's main area," + " not counting the thumb-keys row.");
			_gthis.addImagePara(div,"matrix.png",450,250,"Key matrix on a Redox keyboard");
			tools_HtmlTools.appendParaTextNode(div,"Conventionally, 4th row is typically used for digit keys" + " and 5th row is typically used for F-key," + " but don't let anyone tell you what to do" + " - most of these keyboards are reprogrammable.");
		};
		rowsCol.filterMinDefault = 4;
		rowsCol.filterMaxDefault = 3;
		col = new table_number_IntRangeColumn("Columns",new table_FancyField("cols",function(q,wantSet,setValue) {
			if(wantSet) {
				q.cols = setValue;
				return null;
			} else {
				return q.cols;
			}
		}));
		this.addColumn(col);
		col.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"The number of columns in a keyboard half's main area," + " not counting the extension columns.");
			tools_HtmlTools.appendParaTextNode(div,"To avoid some classification oddities," + " let's assume non-chorded keyboards to intend to have at least 5 columns" + " and evaluate edge columns based on their layout, completeness," + " and suitability for common main-area mappings.");
			tools_HtmlTools.appendParaTextNode(div,"For example:");
			var ul = tools_HtmlTools.appendElTextNode(div,"ul","");
			tools_HtmlTools.appendElTextNode(ul,"li","ErgoDox's inner columns are extension columns since two keys are 1.5u tall.");
			tools_HtmlTools.appendElTextNode(ul,"li","Pinky4's inner columns are extension columns since the bottom keys are rotated.");
			tools_HtmlTools.appendElTextNode(ul,"li","ErgoDash's inner columns are extension columns since they are offset by half a key.");
			tools_HtmlTools.appendElTextNode(ul,"li","Spleeb's and Drift's outer columns aren't extension columns" + " as only a single key is missing.");
			tools_HtmlTools.appendParaTextNode(div,"This system isn't perfect and some keyboards don't fit well at all," + " in which case \"outer keys\" may have to be used to roughly annotate" + " total number of extra/missing keys across multiple columns.");
		};
		col.shortName = "Cols";
		col = new table_number_IntRangeColumn("Right-side columns",new table_FancyField("rcols",function(kb,set,val) {
			if(set) {
				kb.rcols = val;
				return null;
			} else {
				var tmp = kb.rcols;
				if(tmp != null) {
					return tmp;
				} else {
					return kb.cols;
				}
			}
		}));
		col.shortName = "ColsR";
		col.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Sometimes a keyboard has more columns on the right side than on the left. " + "This can be handy to imitate a standard 65%/75% layout better, " + "or to make space for language-specific keys.");
			_gthis.addImagePara(div,"rcols.png",450,150,"Additional columns on Articulation80");
			tools_HtmlTools.appendParaTextNode(div,"Depending on the keyboard, not all of these might be fully filled with keys.");
		};
		this.addColumn(col);
	}
	,initClusters: function(kb) {
		var _gthis = this;
		KeyboardTable.prototype.initClusters.call(this,kb);
		var irCol = new table_number_IntRangeColumn("Thumb keys",new table_FancyField("thumbKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.thumbKeys = setValue;
				return null;
			} else {
				return q.thumbKeys;
			}
		}));
		irCol.shortName = "#thumb";
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Keys below the main area that are (mostly) intended to be pressed with a thumb. " + "Counted per keyboard half.");
			_gthis.addImagePara(div,"thumb-keys.png",450,120,"Thumb keys on a Breeze keyboard");
			tools_HtmlTools.appendParaTextNode(div,"On wider keyboards thumb keys tend to smoothly transition into a key row" + " so we'll assume the keys under the inner-most 4 main area columns to be thumb-accessible:");
			_gthis.addImagePara(div,"thumb-keys-2.png",450,200,"Thumb keys on a Redox keyboard");
		};
		this.addColumn(irCol);
		irCol = new table_number_IntRangeColumn("Inner keys",new table_FancyField("innerKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.innerKeys = setValue;
				return null;
			} else {
				return q.innerKeys;
			}
		}));
		irCol.shortName = "#inner";
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Sometimes keyboards have keys between the two halves that aren't part of the main area, " + "but still convenient enough to access.");
			_gthis.addImagePara(div,"inner-keys.png",450,200,"Inner keys on a Redox keyboard");
			tools_HtmlTools.appendParaTextNode(div,"If the inner row is missing keys (such as on hummingbird-type keyboards)," + " this can be negative.");
		};
		this.addColumn(irCol);
		irCol = new table_number_IntRangeColumn("Outer keys",new table_FancyField("outerKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.outerKeys = setValue;
				return null;
			} else {
				return q.outerKeys;
			}
		}));
		this.addColumn(irCol);
		irCol.shortName = "#outer";
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Sometimes a keyboard has an extra key or two on the outer edges.");
			_gthis.addImagePara(div,"outer-keys.png",450,150,"Outer keys on an Avalanche keyboard");
			tools_HtmlTools.appendParaTextNode(div,"And if it's missing keys on the outer columns, this can be negative.");
			_gthis.addImagePara(div,"outer-keys-2.png",450,150,"A missing outer key on a Drift keyboard");
		};
		irCol = new table_number_IntRangeColumn("Corner keys",new table_FancyField("cornerKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.cornerKeys = setValue;
				return null;
			} else {
				return q.cornerKeys;
			}
		}));
		this.addColumn(irCol);
		irCol.shortName = "#corner";
		irCol.filterMinDefault = 1;
		irCol.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"If a keyboard has keys in bottom-left/bottom-right corners below the main area, " + "this is the number of such keys that are positioned in a convenient row.");
			_gthis.addImagePara(div,"corner-keys.png",450,150,"Corner keys on an ErgoNICE keyboard");
			tools_HtmlTools.appendParaTextNode(div,"Such keys are often used for modifiers (on the left half) or " + "65%-style inline arrow key cluster / arrow key row (on the right half).");
			tools_HtmlTools.appendParaTextNode(div,"If corner keys transition into thumb keys, this is capped at 5.");
			_gthis.addImagePara(div,"corner-keys-2.png",450,200,"A continuous bottom row of keys on a Kapl keyboard");
		};
		this.initColNav(kb,true);
		this.initColNum(kb);
		var pinkyStag = new table_number_FloatColumn("Pinky stagger",new table_FancyField("pinkyStagger",function(q,wantSet,setValue) {
			if(wantSet) {
				q.pinkyStagger = setValue;
				return null;
			} else {
				return q.pinkyStagger;
			}
		}));
		pinkyStag.show = false;
		pinkyStag.shortName = "pkStag";
		pinkyStag.sliderStep = 0.05;
		pinkyStag.filterIncludeNullLabel = "Include keyboards without listed stagger";
		pinkyStag.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Stagger between pinky finger column(s) and the ring finger column, " + "measured in key-size units (0.5 is half a key step down).");
		};
		this.addColumn(pinkyStag);
		var splay = new table_tag_TagColumn("Splay",new table_FancyField("splay",function(q,wantSet,setValue) {
			if(wantSet) {
				q.splay = setValue;
				return null;
			} else {
				return q.splay;
			}
		}),type_SplayBase);
		splay.show = false;
		splay.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Most keyboards have columns of keys parallel to each other, " + "but you can also have them at a slight angle for convenience.");
			tools_HtmlTools.appendParaTextNode(div,"\"Optional\" usually means that there are two versions of the keyboard - " + "one with parallel columns and one with angled columns.");
		};
		splay.filterLabels.set(type_SplayBase.PinkyOnly,"Pinky columns only");
		splay.shortLabels.set(type_SplayBase.No,"-");
		splay.shortLabels.set(type_SplayBase.Yes,"+");
		splay.shortLabels.set(type_SplayBase.Optional,"±");
		splay.shortLabels.set(type_SplayBase.PinkyOnly,"p");
		this.addColumn(splay);
	}
	,initKeyboards: function() {
		ColStagBoards.init(this.values);
		OrthoBoards.init(this.values);
		var kbs = window.keyboardData;
		var _g = 0;
		while(_g < kbs.length) {
			var kb = kbs[_g];
			++_g;
			if(typeof(kb) == "string") {
				window.document.querySelector("#version").innerText = kb;
				continue;
			}
			if(kb == null || !Reflect.isObject(kb)) {
				continue;
			}
			var _g1 = 0;
			var _g2 = this.columns;
			while(_g1 < _g2.length) _g2[_g1++].load(kb);
			this.values.push(kb);
		}
		type_ControllerColumn.initKeyboards(this);
	}
	,post: function() {
		KeyboardTable.prototype.post.call(this);
		var _g = 0;
		var _g1 = this.values;
		while(_g < _g1.length) {
			var kb = _g1[_g];
			++_g;
			if(kb.shape == null) {
				kb.shape = [type_Shape.Split];
			}
			if(kb.stagger == null) {
				kb.stagger = type_ValList.fromValue(type_StaggerType.Column);
			} else if(kb.stagger.indexOf(type_StaggerType.Ortho) != -1) {
				if(kb.pinkyStagger == null) {
					kb.pinkyStagger = 0;
				}
			}
		}
	}
	,__class__: ColStagTable
});
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.dateStr = function(date) {
	var m = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.now = function() {
	return Date.now();
};
var KeyboardPage = function() { };
KeyboardPage.__name__ = true;
KeyboardPage.main = function(kbTable) {
	var divFilters = window.document.querySelector("#filter");
	var tmp = window.document.querySelector("#count");
	kbTable.countElement = tmp;
	kbTable.buildFilters(divFilters);
	kbTable.buildTable(window.document.querySelector("#data"));
	table_FancyTableEditor.build(kbTable,window.document.querySelector("#editor"),window.document.querySelector("#editor-load"),window.document.querySelector("#editor-reset"),window.document.querySelector("#editor-build"),window.document.querySelector("#editor-test"),window.document.querySelector("#editor-output"),window.document.querySelector("#editor-load-json"));
	var loc = window.document.location;
	if(loc.protocol != "file:") {
		kbTable.baseURL = loc.origin + loc.pathname;
	}
	window.document.querySelector("#clear-filters").onclick = function() {
		table_FancyTableControls.clearFilters(kbTable,divFilters);
	};
	var cbAutoUpdateURL = window.document.querySelector("#auto-update-url");
	kbTable.canUpdateURL = cbAutoUpdateURL.checked;
	cbAutoUpdateURL.addEventListener("change",function(_) {
		kbTable.canUpdateURL = cbAutoUpdateURL.checked;
	});
	var btShare = window.document.querySelector("#copy-share-url");
	table_FancyTableControls.createShareButton(kbTable,btShare);
	var shuffler = new table_FancyTableShuffler("");
	if($global.location.hostname == "localhost") {
		window.document.querySelector("#editor-outer").open = true;
	} else {
		kbTable.sortBy(shuffler,false);
	}
	window.document.querySelector("#shuffle").onclick = function() {
		if(kbTable.sortColHead != null) {
			kbTable.sortColHead.element.classList.remove("sort-column");
			kbTable.sortColHead.element.classList.remove("sort-ascending");
			kbTable.sortColHead = null;
		}
		kbTable.sortBy(shuffler,false);
		kbTable.updateURL();
	};
	var displayMode = window.document.querySelector("#display-mode");
	var galleryNote = window.document.querySelector("#gallery-note");
	var displayModeChanged = function() {
		var flags = Std.parseInt(displayMode.value);
		tools_HtmlTools.setDisplayFlag(galleryNote,(flags & 2) != 0);
		table_FancyTableDisplayMode.set(kbTable,flags);
	};
	displayMode.onchange = displayModeChanged;
	window.setTimeout(displayModeChanged);
	window.document.querySelector("#copy-md").onclick = function() {
		var md = table_FancyTableToMD.run(kbTable);
		$global.navigator.clipboard.writeText(md);
	};
	kbTable.loadFilters(window.document.location.search);
	$global.console.log("Hello!");
};
var KeyboardTableInit = function(id,fn) {
	this.id = id;
	this.fn = fn;
};
KeyboardTableInit.__name__ = true;
KeyboardTableInit.prototype = {
	id: null
	,fn: null
	,__class__: KeyboardTableInit
};
var Main = function() { };
Main.__name__ = true;
Main.main = function() {
	table_LinkListColumn.domainCountries = window.domainCountries;
	table_LinkListColumn.countryTags = window.countryTags;
	var kbTable;
	var row = window.document.body.classList.contains("rowstag");
	var forties = window.document.body.classList.contains("forties");
	if(row || forties) {
		kbTable = new RowStagTable(forties);
	} else {
		kbTable = new ColStagTable();
	}
	KeyboardPage.main(kbTable);
	ToDoList.element = window.document.querySelector("#todo");
	var dynWindow = window;
	if(forties) {
		ToDoList.set(dynWindow.fortiesTODOs);
	} else if(row) {
		ToDoList.set(dynWindow.rowStagTODOs);
	} else {
		ToDoList.set(dynWindow.keyboardTODOs);
	}
};
Math.__name__ = true;
var OrthoBoards = function() { };
OrthoBoards.__name__ = true;
OrthoBoards.init = function(keyboards) {
	var add = function(kb) {
		if(kb.stagger == null) {
			kb.stagger = [type_StaggerType.Ortho];
		}
		kb.shape = kb.shape != null ? kb.shape : type_ValList.fromValue(type_Shape.Split);
		keyboards.push(kb);
	};
	var kb = { name : "simplyKeeb 60K", source : type_ValList.fromValue("https://github.com/geaz/simplyKeeb-60K"), assembly : [type_Assembly.PCB,type_Assembly.Handwired], img : type_ValList.fromValue("simplyKeeb-60K.jpg")};
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(3));
	kb.caseType = [type_CaseType.Included];
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Vial));
	add(kb);
	kb = ColStagKeyboard._new("Skywatch");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(36)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX]);
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.pinkyStagger = 0.3;
	kb.trackballSize = 4.4;
	kb.trackballs = type_NumRange.fromArray([0,1]);
	kb.caseType = [type_CaseType.Included];
	kb.source = type_ValList.fromValue("https://github.com/ozkan/skywatch");
	kb.img = type_ValList.fromValue("Skywatch.jpg");
	add(kb);
	kb = ColStagKeyboard._new("Bancouver40");
	kb.shape = type_ValList.fromValue(type_Shape.Monoblock);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(40)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.CFX);
	kb.caseType = [type_CaseType.Included];
	kb.source = type_ValList.fromValue("https://github.com/ChrisChrisLoLo/bancouver40");
	kb.img = type_ValList.fromValue("Bancouver40.jpeg");
	add(kb);
	kb = ColStagKeyboard._new("minipeg48");
	kb.shape = type_ValList.fromValue(type_Shape.Monoblock);
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(48)],type_NumRange.fromValue(6),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.CFX);
	kb.caseType = [type_CaseType.Included];
	kb.source = type_ValList.fromValue("https://github.com/ChrisChrisLoLo/bancouver40");
	kb.img = type_ValList.fromValue("minipeg48.jpg");
	add(kb);
	kb = ColStagKeyboard._new("ChocV");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(36)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	kb.splay = type_SplayBase.PinkyOnly;
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.source = type_ValList.fromValue("https://github.com/brickbots/chocV");
	kb.caseType = [type_CaseType.None];
	kb.img = type_ValList.fromValue("ChocV.jpg");
	add(kb);
	kb = ColStagKeyboard._new("ChonkV");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(58)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(5));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.Choc),type_KeySpacing.Choc);
	kb.splay = type_SplayBase.PinkyOnly;
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.source = type_ValList.fromValue("https://github.com/ImStuBTW/chonkv");
	kb.caseType = [type_CaseType.Included];
	kb.img = type_ValList.fromValue("ChonkV.jpg");
	add(kb);
	kb = ColStagKeyboard._new("BFO-9000 (" + 4 + "x#)");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(56,64,72),type_NumRange.fromArray([7,9]),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc,type_SwitchProfile.Alps];
	kb.hotswap = [type_HotSwap.No];
	kb.shape = type_ValList.fromValue(type_Shape.Split);
	kb.caseType = [type_CaseType.None];
	kb.extras = ["[v:Case] https://www.thingiverse.com/thing:3089077","![v:Plates] https://keeb.io/products/bfo-9000-case-plates"];
	kb.kit = type_ValList.fromValue("!https://keeb.io/collections/split-keyboard-parts/products/bfo-9000-keyboard-customizable-full-size-split-ortholinear");
	kb.img = type_ValList.fromValue("bfo-9000.jpg");
	kb.notes = ["Uses breakaway rows and columns to allow matrices from 7x4 to 9x6"];
	add(kb);
	kb = ColStagKeyboard._new("BFO-9000 (" + 5 + "x#)");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(70,80,90),type_NumRange.fromArray([7,9]),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc,type_SwitchProfile.Alps];
	kb.hotswap = [type_HotSwap.No];
	kb.shape = type_ValList.fromValue(type_Shape.Split);
	kb.caseType = [type_CaseType.None];
	kb.extras = ["[v:Case] https://www.thingiverse.com/thing:3089077","![v:Plates] https://keeb.io/products/bfo-9000-case-plates"];
	kb.kit = type_ValList.fromValue("!https://keeb.io/collections/split-keyboard-parts/products/bfo-9000-keyboard-customizable-full-size-split-ortholinear");
	kb.img = type_ValList.fromValue("bfo-9000.jpg");
	kb.notes = ["Uses breakaway rows and columns to allow matrices from 7x4 to 9x6"];
	add(kb);
	kb = ColStagKeyboard._new("BFO-9000 (" + 6 + "x#)");
	ColStagKeyboard.setMatrix(kb,type_NumRangeList.either(84,96,108),type_NumRange.fromArray([7,9]),type_NumRange.fromValue(5));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc,type_SwitchProfile.Alps];
	kb.hotswap = [type_HotSwap.No];
	kb.shape = type_ValList.fromValue(type_Shape.Split);
	kb.caseType = [type_CaseType.None];
	kb.extras = ["[v:Case] https://www.thingiverse.com/thing:3089077","![v:Plates] https://keeb.io/products/bfo-9000-case-plates"];
	kb.kit = type_ValList.fromValue("!https://keeb.io/collections/split-keyboard-parts/products/bfo-9000-keyboard-customizable-full-size-split-ortholinear");
	kb.img = type_ValList.fromValue("bfo-9000.jpg");
	kb.notes = ["Uses breakaway rows and columns to allow matrices from 7x4 to 9x6"];
	add(kb);
	kb = ColStagKeyboard._new("Ergo42");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(56)],type_NumRange.fromValue(7),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setQMK(kb);
	kb.switchProfile = [type_SwitchProfile.MX,type_SwitchProfile.Choc];
	kb.hotswap = [type_HotSwap.No];
	kb.source = type_ValList.fromValue("https://github.com/Biacco42/Ergo42");
	kb.caseType = [type_CaseType.Included];
	kb.img = type_ValList.fromValue("ergo42.jpg");
	add(kb);
	kb = ColStagKeyboard._new("ChonkyKong");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(60)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc],type_KeySpacing.MX);
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.mcols = type_NumRange.fromValue(3);
	kb.numpad = [type_Numpad.Mini];
	ColStagKeyboard.setExtras(kb,type_NumRange.fromArray([3,4]),type_NumRange.fromArray([2,4]),type_NumRange.fromValue(0),type_NumRange.fromValue(3));
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Vial));
	kb.caseType = [type_CaseType.Included];
	kb.source = type_ValList.fromValue("https://github.com/weteor/ChonkyKong");
	kb.img = type_ValList.fromValue("chonkyKong.jpg");
	kb.notes = type_ValList.fromValue("Some pairs of keys can be swapped for 2us");
	add(kb);
	kb = ColStagKeyboard._new("Buran");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(39)],type_NumRange.fromValue(5),type_NumRange.fromValue(3));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(3));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc]);
	ColStagKeyboard.setQMK(kb,type_ValList.fromValue(type_Software.Vial));
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.encoders = type_NumRange.fromArray([1,2]);
	kb.caseType = [type_CaseType.Included];
	kb.source = type_ValList.fromValue("https://github.com/ScatteredDrifter/Buran-Ortho");
	kb.img = type_ValList.fromValue("buran-no-acryl-isp.jpg");
	add(kb);
	kb = ColStagKeyboard._new("Helix");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(64)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(1),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc]);
	kb.source = type_ValList.fromValue("https://github.com/MakotoKurauchi/helix");
	kb.kit = ["!https://shop.yushakobo.jp/en/products/2143","https://mechboards.co.uk/products/helix-kit","https://customkbd.com/collections/split-keyboards/products/helix-kit","https://keyhive.xyz/shop/helix-kit","https://www.switchtop.com/product/helix-keyboard-kit","https://www.littlekeyboards.com/collections/helix-pcb-kits","https://splitkb.com/collections/keyboard-kits/products/aurora-helix"];
	kb.caseType = [type_CaseType.Included];
	kb.img = type_ValList.fromValue("helix.webp");
	add(kb);
	kb = ColStagKeyboard._new("Viterbi");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(70)],type_NumRange.fromValue(7),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromValue(4));
	ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Alps]);
	kb.kit = type_ValList.fromValue("!https://keeb.io/products/viterbi-keyboard-pcbs-5x7-70-split-ortholinear");
	kb.caseType = [type_CaseType.Included];
	kb.img = type_ValList.fromValue("viterbi.webp");
	ColStagKeyboard.addSKBC(kb);
	add(kb);
	var addRebound = function(kb) {
		ColStagKeyboard.setMatrix(kb,type_NumRangeList.fromSimpleArray([47,50]),type_NumRange.fromValue(6),type_NumRange.fromValue(3));
		ColStagKeyboard.setExtras(kb,type_NumRange.fromArray([2,4]),type_NumRange.fromValue(0),type_NumRange.fromValue(0),type_NumRange.fromArray([1,4]));
		ColStagKeyboard.setHotswap(kb,[type_SwitchProfile.MX,type_SwitchProfile.Choc]);
		kb.caseType = type_ValList.fromValue(type_CaseType.Included);
		kb.encoders = type_NumRange.fromValue(1);
		kb.notes = type_ValList.fromValue("Pairs of 1.5u keys can be 1us instead; one or two keys in the middle");
		add(kb);
	};
	kb = ColStagKeyboard._new("Rebound");
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.kit = type_ValList.fromValue("!https://store.montsinger.net/products/rebound");
	kb.img = type_ValList.fromValue("rebound.webp");
	addRebound(kb);
	kb = ColStagKeyboard._new("Rebound-S");
	kb.stagger = type_ValList.fromValue(type_StaggerType.Column);
	kb.shape = type_ValList.fromValue(type_Shape.Unibody);
	kb.kit = type_ValList.fromValue("!https://store.montsinger.net/products/rebound-s");
	kb.img = type_ValList.fromValue("rebound-s.webp");
	addRebound(kb);
	kb = ColStagKeyboard._new("Sol 3");
	ColStagKeyboard.setMatrix(kb,[type_NumRange.fromValue(66)],type_NumRange.fromValue(6),type_NumRange.fromValue(4));
	ColStagKeyboard.setExtras(kb,type_NumRange.fromValue(3),type_NumRange.fromValue(4),type_NumRange.fromValue(0),type_NumRange.fromValue(5));
	ColStagKeyboard.setHotswap(kb,type_ValList.fromValue(type_SwitchProfile.MX));
	kb.caseType = [type_CaseType.Included];
	kb.kit = type_ValList.fromValue("https://www.rgbkb.net/collections/sol-3");
	kb.prebuilt = type_ValList.fromValue("https://www.rgbkb.net/collections/sol-3/products/sol-3-keyboard-prebuilt");
	kb.img = type_ValList.fromValue("sol3.webp");
	add(kb);
};
var Reflect = function() { };
Reflect.__name__ = true;
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( _g ) {
		return null;
	}
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.compare = function(a,b) {
	if(a == b) {
		return 0;
	} else if(a > b) {
		return 1;
	} else {
		return -1;
	}
};
Reflect.isObject = function(v) {
	if(v == null) {
		return false;
	}
	var t = typeof(v);
	if(!(t == "string" || t == "object" && v.__enum__ == null)) {
		if(t == "function") {
			return (v.__name__ || v.__ename__) != null;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
Reflect.isEnumValue = function(v) {
	if(v != null) {
		return v.__enum__ != null;
	} else {
		return false;
	}
};
Reflect.copy = function(o) {
	if(o == null) {
		return null;
	}
	var o2 = { };
	var _g = 0;
	var _g1 = Reflect.fields(o);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		o2[f] = Reflect.field(o,f);
	}
	return o2;
};
var RowStagTable = function(isForties) {
	this.isForties = isForties;
	KeyboardTable.call(this);
};
RowStagTable.__name__ = true;
RowStagTable.__super__ = KeyboardTable;
RowStagTable.prototype = $extend(KeyboardTable.prototype,{
	isForties: null
	,collectFilters: function() {
		var result = KeyboardTable.prototype.collectFilters.call(this);
		result["row"] = "";
		return result;
	}
	,initGeneral: function(kb) {
		var _gthis = this;
		KeyboardTable.prototype.initGeneral.call(this,kb);
		this.initColConnection(kb);
		var col = new table_number_IntRangeListColumn("Key count",new table_FancyField("keys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.keys = setValue;
				return null;
			} else {
				return q.keys;
			}
		}));
		this.addColumn(col);
		col.show = true;
		col.shortName = "#keys";
		col.onEditorNotes = function(div) {
			var extra = tools_HtmlTools.appendElTextNode(div,"input");
			extra.placeholder = "extra";
			var btn = tools_HtmlTools.appendElTextNode(tools_HtmlTools.appendParaTextNode(div,""),"input");
			btn.type = "button";
			btn.value = "Calculate";
			var ul = tools_HtmlTools.appendElTextNode(div,"ul");
			btn.onclick = function() {
				var findInput = function(id) {
					return window.document.querySelector("#editor .item[data-id=\"" + id + "\"] .filters input");
				};
				var findValue = function(id) {
					var tmp = Std.parseInt(findInput(id).value);
					if(tmp != null) {
						return tmp;
					} else {
						return 0;
					}
				};
				var rows = findValue("rows");
				var dCols = findValue("dCols");
				var qCols = findValue("qCols");
				var aCols = findValue("aCols");
				var zCols = findValue("zCols");
				var log = [];
				var out = 0;
				var addFor = function(n,name) {
					if(n == 0) {
						return;
					}
					out += n;
					log.push("+" + n + " for " + name);
				};
				if(rows >= 5) {
					addFor(13,"Esc and F-row");
				}
				if(rows >= 4) {
					addFor(14 + dCols,"Num row (tilde to Bksp)");
				}
				if(rows >= 3) {
					addFor(14 + qCols,"Q-row (Tab to \\|)");
				}
				if(rows >= 2) {
					addFor(13 + aCols,"A-row (Caps to Enter)");
				}
				if(rows >= 1) {
					addFor(12 + zCols,"Z-row (Shift to Shift)");
				}
				var xv = extra.value;
				var xi = 0;
				var rx = new RegExp("^(.+?)\\s*([+\\-])\\s*(\\d+)\\s*$");
				var _g = 0;
				while(_g < 16) {
					++_g;
					var mt = rx.exec(xv);
					if(mt == null) {
						break;
					}
					var tmp = Std.parseInt(mt[3]);
					xi += (tmp != null ? tmp : 0) * (mt[2] == "-" ? -1 : 1);
					xv = mt[1];
				}
				var tmp = Std.parseInt(xv);
				addFor((tmp != null ? tmp : 0) + xi,"User-defined");
				log.push("" + out + " total");
				ul.innerHTML = "";
				var _g = 0;
				while(_g < log.length) tools_HtmlTools.appendElTextNode(ul,"li",log[_g++]);
				findInput("keys").value = "" + out;
			};
		};
		var rows = new table_number_IntRangeColumn("Rows",new table_FancyField("rows",function(q,wantSet,setValue) {
			if(wantSet) {
				q.rows = setValue;
				return null;
			} else {
				return q.rows;
			}
		}));
		this.addColumn(rows);
		rows.show = true;
		rows.filterMinDefault = 4;
		rows.filterMaxDefault = 3;
		rows.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"(not counting the modifier row)");
		};
		var addColCountCol = function(row,letter,f,k1,k2) {
			col = new table_number_IntRangeColumn("Columns Δ " + row + " (\"" + letter + "\")",f);
			col.shortName = "Δ" + letter;
			col.onNotes = function(div) {
				if(row == 0) {
					tools_HtmlTools.appendParaTextNode(div,"Number of columns in digit row " + " (if keyboard has one)" + " relative to a standard keyboard layout.");
				} else {
					tools_HtmlTools.appendParaTextNode(div,"Number of columns in alpha row " + row + " (starting with " + letter + " on QWERTY)" + " relative to a standard keyboard layout.");
				}
				var p = tools_HtmlTools.appendParaTextNode(div,"So 0 means that everything is as usual," + " -1 means that it's missing the key that would be ");
				tools_HtmlTools.appendElTextNode(p,"code",k2);
				p.appendChild(window.document.createTextNode(" on en-US layout, -2 means that it's missing "));
				tools_HtmlTools.appendElTextNode(p,"code",k1);
				p.appendChild(window.document.createTextNode(" and "));
				tools_HtmlTools.appendElTextNode(p,"code",k2);
				p.appendChild(window.document.createTextNode(", and so on."));
			};
			_gthis.addColumn(col);
		};
		addColCountCol(0,"1",new table_FancyField("dCols",function(q,wantSet,setValue) {
			if(wantSet) {
				q.dCols = setValue;
				return null;
			} else {
				return q.dCols;
			}
		}),"-_","=+");
		addColCountCol(1,"Q",new table_FancyField("qCols",function(q,wantSet,setValue) {
			if(wantSet) {
				q.qCols = setValue;
				return null;
			} else {
				return q.qCols;
			}
		}),"[{","]}");
		addColCountCol(2,"A",new table_FancyField("aCols",function(q,wantSet,setValue) {
			if(wantSet) {
				q.aCols = setValue;
				return null;
			} else {
				return q.aCols;
			}
		}),";:","'\"");
		addColCountCol(3,"Z",new table_FancyField("zCols",function(q,wantSet,setValue) {
			if(wantSet) {
				q.zCols = setValue;
				return null;
			} else {
				return q.zCols;
			}
		}),".>","/?");
	}
	,initClusters: function(kb) {
		var _gthis = this;
		KeyboardTable.prototype.initClusters.call(this,kb);
		var addHidden = function(col) {
			_gthis.addColumn(col);
		};
		var lshift = new table_tag_TagListColumn("LShift",new table_FancyField("lshift",function(q,wantSet,setValue) {
			if(wantSet) {
				q.lshift = setValue;
				return null;
			} else {
				return q.lshift;
			}
		}),type_row_LShiftShape);
		lshift.columnCount = 2;
		addHidden(lshift);
		var rshift = new table_tag_TagListColumn("RShift",new table_FancyField("rshift",function(q,wantSet,setValue) {
			if(wantSet) {
				q.rshift = setValue;
				return null;
			} else {
				return q.rshift;
			}
		}),type_row_RShiftShape);
		rshift.columnCount = 2;
		addHidden(rshift);
		var enter = new table_tag_TagListColumn("Enter",new table_FancyField("enter",function(q,wantSet,setValue) {
			if(wantSet) {
				q.enter = setValue;
				return null;
			} else {
				return q.enter;
			}
		}),type_row_EnterShape);
		enter.columnCount = 2;
		addHidden(enter);
		var space = new table_tag_TagListColumn("Space",new table_FancyField("space",function(q,wantSet,setValue) {
			if(wantSet) {
				q.space = setValue;
				return null;
			} else {
				return q.space;
			}
		}),type_row_SpaceShape);
		space.columnCount = 2;
		space.onNotes = function(div) {
			var ul = tools_HtmlTools.appendElTextNode(div,"ul");
			var li = tools_HtmlTools.appendElTextNode(ul,"li");
			tools_HtmlTools.appendElTextNode(li,"b","SplitDistinct");
			li.appendChild(window.document.createTextNode(" means that the two halves of the spacebar " + "emit different key codes or can be configured"));
			li = tools_HtmlTools.appendElTextNode(ul,"li");
			tools_HtmlTools.appendElTextNode(li,"b","SplitDistinctFn");
			li.appendChild(window.document.createTextNode(" means same as above, " + "but also that there's an extra 1u key on one of them"));
			li = tools_HtmlTools.appendElTextNode(ul,"li");
			tools_HtmlTools.appendElTextNode(li,"b","Multi");
			li.appendChild(window.document.createTextNode(" means that both spacebars are split into two or more keys" + " (see Thumb Keys)"));
		};
		addHidden(space);
		var bksp = new table_tag_TagListColumn("Backspace",new table_FancyField("backspace",function(q,wantSet,setValue) {
			if(wantSet) {
				q.backspace = setValue;
				return null;
			} else {
				return q.backspace;
			}
		}),type_row_BkspShape);
		bksp.columnCount = 2;
		bksp.shortName = "Bksp";
		bksp.onNotes = function(div) {
			var ul = tools_HtmlTools.appendElTextNode(div,"ul");
			tools_HtmlTools.appendExplainer(ul,"Wide","is the standard size, usually 2u");
			tools_HtmlTools.appendExplainer(ul,"Split","is two (usually 1u) keys, commonly seen in CJK keyboards");
			tools_HtmlTools.appendExplainer(ul,"Short","is a shorter (1.5u or less) key without another key to keep it company");
		};
		addHidden(bksp);
		var mkeys = new table_tag_TagListColumn("Extra keys in the middle",new table_FancyField("extraRowKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.extraRowKeys = setValue;
				return null;
			} else {
				return q.extraRowKeys;
			}
		}),type_row_ExtraRowKeys);
		mkeys.columnCount = 2;
		mkeys.shortLabels.set(type_row_ExtraRowKeys.ExtraB,"B");
		mkeys.shortLabels.set(type_row_ExtraRowKeys.ExtraY,"Y");
		mkeys.shortLabels.set(type_row_ExtraRowKeys.Other,"+");
		mkeys.filterLabels.set(type_row_ExtraRowKeys.ExtraB,"Second B");
		mkeys.filterLabels.set(type_row_ExtraRowKeys.ExtraY,"Second Y");
		mkeys.filterLabels.set(type_row_ExtraRowKeys.Other,"Other");
		addHidden(mkeys);
		var thumbKeys = new table_number_IntRangeColumn("Thumb keys",new table_FancyField("thumbKeys",function(q,wantSet,setValue) {
			if(wantSet) {
				q.thumbKeys = setValue;
				return null;
			} else {
				return q.thumbKeys;
			}
		}));
		thumbKeys.defaultValue = type_NumRange.fromValue(1);
		addHidden(thumbKeys);
		var fnPos = new table_tag_TagColumn("Fn position",new table_FancyField("fnPos",function(q,wantSet,setValue) {
			if(wantSet) {
				q.fnPos = setValue;
				return null;
			} else {
				return q.fnPos;
			}
		}),type_row_FnPos);
		fnPos.shortName = "@Fn";
		fnPos.shortLabels.set(type_row_FnPos.LeftMost,"Left");
		fnPos.shortLabels.set(type_row_FnPos.AfterLCtl,"LCtl Fn");
		fnPos.shortLabels.set(type_row_FnPos.AfterLGui,"LGui Fn");
		fnPos.shortLabels.set(type_row_FnPos.ReplaceLGui,"-LGui");
		fnPos.shortLabels.set(type_row_FnPos.AfterLAlt,"LAlt Fn");
		fnPos.shortLabels.set(type_row_FnPos.BeforeRCtl,"Fn RCtl");
		fnPos.shortLabels.set(type_row_FnPos.BeforeRGui,"Fn RGui");
		fnPos.shortLabels.set(type_row_FnPos.ReplaceLGui,"-RGui");
		fnPos.shortLabels.set(type_row_FnPos.BeforeRAlt,"Fn RAlt");
		fnPos.shortLabels.set(type_row_FnPos.BeforeMenu,"Fn Menu");
		fnPos.shortLabels.set(type_row_FnPos.RightMost,"Right");
		fnPos.filterLabels.set(type_row_FnPos.AfterLCtl,"After Left Control");
		fnPos.filterLabels.set(type_row_FnPos.AfterLGui,"After Left Gui (Win/Cmd/Meta)");
		fnPos.filterLabels.set(type_row_FnPos.ReplaceLGui,"Replaces Left Gui (Win/Cmd/Meta)");
		fnPos.filterLabels.set(type_row_FnPos.AfterLAlt,"After Left Alt");
		fnPos.filterLabels.set(type_row_FnPos.BeforeRAlt,"Before Right Alt");
		fnPos.filterLabels.set(type_row_FnPos.BeforeMenu,"Before Menu");
		fnPos.filterLabels.set(type_row_FnPos.ReplaceRGui,"Replaces Right Gui (Win/Cmd/Meta)");
		fnPos.filterLabels.set(type_row_FnPos.BeforeRGui,"Before Right Gui (Win/Cmd/Meta)");
		fnPos.filterLabels.set(type_row_FnPos.BeforeRCtl,"Before Right Control");
		fnPos.onNotes = function(div) {
			var p = tools_HtmlTools.appendParaTextNode(div,"If a keyboard has a ");
			tools_HtmlTools.appendElTextNode(p,"i","non-remappable");
			p.appendChild(window.document.createTextNode(" Fn key, this indicates where's that"));
		};
		addHidden(fnPos);
		var leftMods = new table_number_IntRangeColumn("Left-side mods",new table_FancyField("leftMods",function(q,wantSet,setValue) {
			if(wantSet) {
				q.leftMods = setValue;
				return null;
			} else {
				return q.leftMods;
			}
		}));
		leftMods.shortName = "#lm";
		addHidden(leftMods);
		var rightMods = new table_number_IntRangeColumn("Right-side mods",new table_FancyField("rightMods",function(q,wantSet,setValue) {
			if(wantSet) {
				q.rightMods = setValue;
				return null;
			} else {
				return q.rightMods;
			}
		}));
		leftMods.shortName = "#rm";
		addHidden(rightMods);
		this.initColNav(kb,false);
		this.initColNum(kb);
	}
	,initInputs: function(kb) {
		KeyboardTable.prototype.initInputs.call(this,kb);
		var mw = new table_tag_TagListColumn("Mouse wheel",new table_FancyField("mouseWheel",function(q,wantSet,setValue) {
			if(wantSet) {
				q.mouseWheel = setValue;
				return null;
			} else {
				return q.mouseWheel;
			}
		}),type_row_MouseWheel);
		mw.onNotes = function(div) {
			tools_HtmlTools.appendParaTextNode(div,"Just a mouse wheel, not remappable.");
		};
		mw.shortName = "wheel";
		this.addColumn(mw);
	}
	,initKeyboards: function() {
		var dynWindow = window;
		var kbs;
		if(this.isForties) {
			kbs = dynWindow.fortiesData;
		} else {
			kbs = dynWindow.rowStagData;
		}
		var _g = 0;
		while(_g < kbs.length) {
			var kb = kbs[_g];
			++_g;
			if(typeof(kb) == "string") {
				window.document.querySelector("#version").innerText = kb;
				continue;
			}
			if(kb == null || !Reflect.isObject(kb)) {
				continue;
			}
			var _g1 = 0;
			var _g2 = this.columns;
			while(_g1 < _g2.length) _g2[_g1++].load(kb);
			this.values.push(kb);
		}
	}
	,post: function() {
		KeyboardTable.prototype.post.call(this);
		var _g = 0;
		var _g1 = this.values;
		while(_g < _g1.length) {
			var kb = _g1[_g];
			++_g;
			if(kb.stagger == null) {
				kb.stagger = [type_StaggerType.Row];
			}
		}
	}
	,__class__: RowStagTable
});
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x);
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringBuf = function() {
	this.b = "";
};
StringBuf.__name__ = true;
StringBuf.prototype = {
	b: null
	,__class__: StringBuf
};
var StringTools = function() { };
StringTools.__name__ = true;
StringTools.htmlEscape = function(s,quotes) {
	var buf_b = "";
	var _g_offset = 0;
	var _g_s = s;
	while(_g_offset < _g_s.length) {
		var s = _g_s;
		var index = _g_offset++;
		var c = s.charCodeAt(index);
		if(c >= 55296 && c <= 56319) {
			c = c - 55232 << 10 | s.charCodeAt(index + 1) & 1023;
		}
		var c1 = c;
		if(c1 >= 65536) {
			++_g_offset;
		}
		var code = c1;
		switch(code) {
		case 34:
			if(quotes) {
				buf_b += "&quot;";
			} else {
				buf_b += String.fromCodePoint(code);
			}
			break;
		case 38:
			buf_b += "&amp;";
			break;
		case 39:
			if(quotes) {
				buf_b += "&#039;";
			} else {
				buf_b += String.fromCodePoint(code);
			}
			break;
		case 60:
			buf_b += "&lt;";
			break;
		case 62:
			buf_b += "&gt;";
			break;
		default:
			buf_b += String.fromCodePoint(code);
		}
	}
	return buf_b;
};
StringTools.htmlUnescape = function(s) {
	return s.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join("\"").split("&#039;").join("'").split("&amp;").join("&");
};
StringTools.startsWith = function(s,start) {
	if(s.length >= start.length) {
		return s.lastIndexOf(start,0) == 0;
	} else {
		return false;
	}
};
StringTools.endsWith = function(s,end) {
	var elen = end.length;
	var slen = s.length;
	if(slen >= elen) {
		return s.indexOf(end,slen - elen) == slen - elen;
	} else {
		return false;
	}
};
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
StringTools.replace = function(s,sub,by) {
	return s.split(sub).join(by);
};
var ToDoList = function() { };
ToDoList.__name__ = true;
ToDoList.set = function(text) {
	text = StringTools.trim(text);
	var rxKeyCount = new RegExp("^(\\d+)(%)?([usm])?\\s+(.*)");
	var rxAfterText = new RegExp("^(.+?)\\s*(https?://.*)");
	var rxURL = new RegExp("^(https?://\\S+)\\s*(.*)");
	var rxLinkSuffix = new RegExp("^.+/(.+?)(?:/)?(?:\\?.*)?$");
	var rxKbdNews = new RegExp("^https://kbd.news/(.+)-\\d+.html");
	var rxEraseEnd = new RegExp("^(.+)[-_](?:keyboard|kbd|kit|pcb)$","i");
	ToDoList.element.innerHTML = "";
	var _g = 0;
	var _g1 = text.split("\n");
	while(_g < _g1.length) {
		var line = _g1[_g];
		++_g;
		line = StringTools.trim(line);
		if(line == "") {
			continue;
		}
		var formFactor = null;
		var mt = rxKeyCount.exec(line);
		if(mt != null) {
			formFactor = mt[1];
			if(mt[2] == null) {
				formFactor += "-key";
			} else {
				formFactor += "%";
			}
			if(mt[3] != null) {
				var formFactor1;
				switch(mt[3]) {
				case "m":
					formFactor1 = "monoblock";
					break;
				case "s":
					formFactor1 = "split";
					break;
				case "u":
					formFactor1 = "unibody";
					break;
				default:
					formFactor1 = "?";
				}
				formFactor += " " + formFactor1;
			}
			line = mt[4];
		}
		var smt;
		var label = null;
		mt = rxURL.exec(line);
		if(mt == null) {
			mt = rxAfterText.exec(line);
			if(mt == null) {
				label = line;
			} else {
				label = mt[1];
				line = mt[2];
				mt = rxURL.exec(line);
			}
		} else {
			var isKbdNews = false;
			smt = rxKbdNews.exec(mt[1]);
			if(smt != null) {
				isKbdNews = true;
				label = smt[1];
			} else {
				smt = rxLinkSuffix.exec(mt[1]);
				if(smt != null) {
					label = smt[1];
				} else {
					continue;
				}
			}
			var _g2 = 0;
			while(_g2 < 16) {
				++_g2;
				smt = rxEraseEnd.exec(label);
				if(smt == null) {
					break;
				}
				label = smt[1];
			}
			if(isKbdNews) {
				label = StringTools.replace(label,"-"," ");
			}
		}
		var li = window.document.createElement("li");
		if(formFactor != null) {
			li.appendChild(window.document.createTextNode("[" + formFactor + "] "));
		}
		if(mt != null) {
			var a = window.document.createElement("a");
			a.appendChild(window.document.createTextNode(label));
			a.href = mt[1];
			li.appendChild(a);
			line = mt[2];
			var _g3 = 2;
			while(_g3 < 16) {
				var i = _g3++;
				mt = rxURL.exec(line);
				if(mt == null) {
					break;
				}
				a = window.document.createElement("a");
				a.href = mt[1];
				line = mt[2];
				li.appendChild(window.document.createTextNode(" · "));
				a.appendChild(window.document.createTextNode("link " + i));
				li.appendChild(a);
			}
		} else {
			li.appendChild(window.document.createTextNode(label));
		}
		ToDoList.element.appendChild(li);
	}
};
var ValueType = $hxEnums["ValueType"] = { __ename__:true,__constructs__:null
	,TNull: {_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:$estr}
	,TInt: {_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:$estr}
	,TFloat: {_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:$estr}
	,TBool: {_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:$estr}
	,TObject: {_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:$estr}
	,TFunction: {_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:$estr}
	,TClass: ($_=function(c) { return {_hx_index:6,c:c,__enum__:"ValueType",toString:$estr}; },$_._hx_name="TClass",$_.__params__ = ["c"],$_)
	,TEnum: ($_=function(e) { return {_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}; },$_._hx_name="TEnum",$_.__params__ = ["e"],$_)
	,TUnknown: {_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:$estr}
};
ValueType.__constructs__ = [ValueType.TNull,ValueType.TInt,ValueType.TFloat,ValueType.TBool,ValueType.TObject,ValueType.TFunction,ValueType.TClass,ValueType.TEnum,ValueType.TUnknown];
var Type = function() { };
Type.__name__ = true;
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw haxe_Exception.thrown("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw haxe_Exception.thrown("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw haxe_Exception.thrown("Constructor " + constr + " does not need parameters");
	}
	return f;
};
Type.createEnumIndex = function(e,index,params) {
	var c;
	var _g = e.__constructs__[index];
	if(_g == null) {
		c = null;
	} else {
		var ctor = _g;
		c = ctor._hx_name;
	}
	if(c == null) {
		throw haxe_Exception.thrown(index + " is not a valid enum constructor index");
	}
	return Type.createEnum(e,c,params);
};
Type.getInstanceFields = function(c) {
	var a = [];
	for(var i in c.prototype) a.push(i);
	HxOverrides.remove(a,"__class__");
	HxOverrides.remove(a,"__properties__");
	return a;
};
Type.typeof = function(v) {
	switch(typeof(v)) {
	case "boolean":
		return ValueType.TBool;
	case "function":
		if(v.__name__ || v.__ename__) {
			return ValueType.TObject;
		}
		return ValueType.TFunction;
	case "number":
		if(Math.ceil(v) == v % 2147483648.0) {
			return ValueType.TInt;
		}
		return ValueType.TFloat;
	case "object":
		if(v == null) {
			return ValueType.TNull;
		}
		var e = v.__enum__;
		if(e != null) {
			return ValueType.TEnum($hxEnums[e]);
		}
		var c = js_Boot.getClass(v);
		if(c != null) {
			return ValueType.TClass(c);
		}
		return ValueType.TObject;
	case "string":
		return ValueType.TClass(String);
	case "undefined":
		return ValueType.TNull;
	default:
		return ValueType.TUnknown;
	}
};
Type.enumParameters = function(e) {
	var enm = $hxEnums[e.__enum__];
	var params = enm.__constructs__[e._hx_index].__params__;
	if(params != null) {
		var _g = [];
		var _g1 = 0;
		while(_g1 < params.length) {
			var p = params[_g1];
			++_g1;
			_g.push(e[p]);
		}
		return _g;
	} else {
		return [];
	}
};
var externs_TippyOptions = {};
externs_TippyOptions.bindClick = function(this1,el) {
	this1["trigger"] = "click";
	var fn = function(e) {
		var tippy = Tippy(el,this1);
		tippy["show"]();
		el.removeEventListener("click",fn);
	};
	el.addEventListener("click",fn);
};
externs_TippyOptions.setLazyContent = function(this1,fn) {
	var ready = false;
	var v = function(tippy) {
		if(!ready) {
			ready = true;
			var content = fn();
			tippy["setContent"](content);
		}
	};
	this1["onShow"] = v;
};
var haxe_Exception = function(message,previous,native) {
	Error.call(this,message);
	this.message = message;
	this.__previousException = previous;
	this.__nativeException = native != null ? native : this;
};
haxe_Exception.__name__ = true;
haxe_Exception.caught = function(value) {
	if(((value) instanceof haxe_Exception)) {
		return value;
	} else if(((value) instanceof Error)) {
		return new haxe_Exception(value.message,null,value);
	} else {
		return new haxe_ValueException(value,null,value);
	}
};
haxe_Exception.thrown = function(value) {
	if(((value) instanceof haxe_Exception)) {
		return value.get_native();
	} else if(((value) instanceof Error)) {
		return value;
	} else {
		var e = new haxe_ValueException(value);
		return e;
	}
};
haxe_Exception.__super__ = Error;
haxe_Exception.prototype = $extend(Error.prototype,{
	__skipStack: null
	,__nativeException: null
	,__previousException: null
	,unwrap: function() {
		return this.__nativeException;
	}
	,get_native: function() {
		return this.__nativeException;
	}
	,__class__: haxe_Exception
});
var haxe_ValueException = function(value,previous,native) {
	haxe_Exception.call(this,String(value),previous,native);
	this.value = value;
};
haxe_ValueException.__name__ = true;
haxe_ValueException.__super__ = haxe_Exception;
haxe_ValueException.prototype = $extend(haxe_Exception.prototype,{
	value: null
	,unwrap: function() {
		return this.value;
	}
	,__class__: haxe_ValueException
});
var haxe_ds_BalancedTree = function() {
};
haxe_ds_BalancedTree.__name__ = true;
haxe_ds_BalancedTree.prototype = {
	root: null
	,set: function(key,value) {
		this.root = this.setLoop(key,value,this.root);
	}
	,get: function(key) {
		var node = this.root;
		while(node != null) {
			var c = this.compare(key,node.key);
			if(c == 0) {
				return node.value;
			}
			if(c < 0) {
				node = node.left;
			} else {
				node = node.right;
			}
		}
		return null;
	}
	,exists: function(key) {
		var node = this.root;
		while(node != null) {
			var c = this.compare(key,node.key);
			if(c == 0) {
				return true;
			} else if(c < 0) {
				node = node.left;
			} else {
				node = node.right;
			}
		}
		return false;
	}
	,setLoop: function(k,v,node) {
		if(node == null) {
			return new haxe_ds_TreeNode(null,k,v,null);
		}
		var c = this.compare(k,node.key);
		if(c == 0) {
			return new haxe_ds_TreeNode(node.left,k,v,node.right,node == null ? 0 : node._height);
		} else if(c < 0) {
			return this.balance(this.setLoop(k,v,node.left),node.key,node.value,node.right);
		} else {
			var nr = this.setLoop(k,v,node.right);
			return this.balance(node.left,node.key,node.value,nr);
		}
	}
	,balance: function(l,k,v,r) {
		var hl = l == null ? 0 : l._height;
		var hr = r == null ? 0 : r._height;
		if(hl > hr + 2) {
			var _this = l.left;
			var _this1 = l.right;
			if((_this == null ? 0 : _this._height) >= (_this1 == null ? 0 : _this1._height)) {
				return new haxe_ds_TreeNode(l.left,l.key,l.value,new haxe_ds_TreeNode(l.right,k,v,r));
			} else {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l.left,l.key,l.value,l.right.left),l.right.key,l.right.value,new haxe_ds_TreeNode(l.right.right,k,v,r));
			}
		} else if(hr > hl + 2) {
			var _this = r.right;
			var _this1 = r.left;
			if((_this == null ? 0 : _this._height) > (_this1 == null ? 0 : _this1._height)) {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left),r.key,r.value,r.right);
			} else {
				return new haxe_ds_TreeNode(new haxe_ds_TreeNode(l,k,v,r.left.left),r.left.key,r.left.value,new haxe_ds_TreeNode(r.left.right,r.key,r.value,r.right));
			}
		} else {
			return new haxe_ds_TreeNode(l,k,v,r,(hl > hr ? hl : hr) + 1);
		}
	}
	,compare: function(k1,k2) {
		return Reflect.compare(k1,k2);
	}
	,__class__: haxe_ds_BalancedTree
};
var haxe_ds_TreeNode = function(l,k,v,r,h) {
	if(h == null) {
		h = -1;
	}
	this.left = l;
	this.key = k;
	this.value = v;
	this.right = r;
	if(h == -1) {
		var tmp;
		var _this = this.left;
		var _this1 = this.right;
		if((_this == null ? 0 : _this._height) > (_this1 == null ? 0 : _this1._height)) {
			var _this = this.left;
			tmp = _this == null ? 0 : _this._height;
		} else {
			var _this = this.right;
			tmp = _this == null ? 0 : _this._height;
		}
		this._height = tmp + 1;
	} else {
		this._height = h;
	}
};
haxe_ds_TreeNode.__name__ = true;
haxe_ds_TreeNode.prototype = {
	left: null
	,right: null
	,key: null
	,value: null
	,_height: null
	,__class__: haxe_ds_TreeNode
};
var haxe_ds_EnumValueMap = function() {
	haxe_ds_BalancedTree.call(this);
};
haxe_ds_EnumValueMap.__name__ = true;
haxe_ds_EnumValueMap.__super__ = haxe_ds_BalancedTree;
haxe_ds_EnumValueMap.prototype = $extend(haxe_ds_BalancedTree.prototype,{
	compare: function(k1,k2) {
		var d = k1._hx_index - k2._hx_index;
		if(d != 0) {
			return d;
		}
		var p1 = Type.enumParameters(k1);
		var p2 = Type.enumParameters(k2);
		if(p1.length == 0 && p2.length == 0) {
			return 0;
		}
		return this.compareArgs(p1,p2);
	}
	,compareArgs: function(a1,a2) {
		var ld = a1.length - a2.length;
		if(ld != 0) {
			return ld;
		}
		var _g = 0;
		var _g1 = a1.length;
		while(_g < _g1) {
			var i = _g++;
			var d = this.compareArg(a1[i],a2[i]);
			if(d != 0) {
				return d;
			}
		}
		return 0;
	}
	,compareArg: function(v1,v2) {
		if(Reflect.isEnumValue(v1) && Reflect.isEnumValue(v2)) {
			return this.compare(v1,v2);
		} else if(((v1) instanceof Array) && ((v2) instanceof Array)) {
			return this.compareArgs(v1,v2);
		} else {
			return Reflect.compare(v1,v2);
		}
	}
	,__class__: haxe_ds_EnumValueMap
});
var haxe_ds_StringMap = function() {
	this.h = Object.create(null);
};
haxe_ds_StringMap.__name__ = true;
haxe_ds_StringMap.prototype = {
	h: null
	,exists: function(key) {
		return Object.prototype.hasOwnProperty.call(this.h,key);
	}
	,set: function(key,value) {
		this.h[key] = value;
	}
	,__class__: haxe_ds_StringMap
};
var haxe_io_Path = function(path) {
	switch(path) {
	case ".":case "..":
		this.dir = path;
		this.file = "";
		return;
	}
	var c1 = path.lastIndexOf("/");
	var c2 = path.lastIndexOf("\\");
	if(c1 < c2) {
		this.dir = HxOverrides.substr(path,0,c2);
		path = HxOverrides.substr(path,c2 + 1,null);
		this.backslash = true;
	} else if(c2 < c1) {
		this.dir = HxOverrides.substr(path,0,c1);
		path = HxOverrides.substr(path,c1 + 1,null);
	} else {
		this.dir = null;
	}
	var cp = path.lastIndexOf(".");
	if(cp != -1) {
		this.ext = HxOverrides.substr(path,cp + 1,null);
		this.file = HxOverrides.substr(path,0,cp);
	} else {
		this.ext = null;
		this.file = path;
	}
};
haxe_io_Path.__name__ = true;
haxe_io_Path.withExtension = function(path,ext) {
	var s = new haxe_io_Path(path);
	s.ext = ext;
	return s.toString();
};
haxe_io_Path.prototype = {
	dir: null
	,file: null
	,ext: null
	,backslash: null
	,toString: function() {
		return (this.dir == null ? "" : this.dir + (this.backslash ? "\\" : "/")) + this.file + (this.ext == null ? "" : "." + this.ext);
	}
	,__class__: haxe_io_Path
};
var haxe_iterators_ArrayIterator = function(array) {
	this.current = 0;
	this.array = array;
};
haxe_iterators_ArrayIterator.__name__ = true;
haxe_iterators_ArrayIterator.prototype = {
	array: null
	,current: null
	,hasNext: function() {
		return this.current < this.array.length;
	}
	,next: function() {
		return this.array[this.current++];
	}
	,__class__: haxe_iterators_ArrayIterator
};
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if(o == null) {
		return null;
	} else if(((o) instanceof Array)) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var con = e.__constructs__[o._hx_index];
			var n = con._hx_name;
			if(con.__params__) {
				s = s + "\t";
				return n + "(" + ((function($this) {
					var $r;
					var _g = [];
					{
						var _g1 = 0;
						var _g2 = con.__params__;
						while(true) {
							if(!(_g1 < _g2.length)) {
								break;
							}
							var p = _g2[_g1];
							_g1 = _g1 + 1;
							_g.push(js_Boot.__string_rec(o[p],s));
						}
					}
					$r = _g;
					return $r;
				}(this))).join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var str = "[";
			s += "\t";
			var _g = 0;
			var _g1 = o.length;
			while(_g < _g1) {
				var i = _g++;
				str += (i > 0 ? "," : "") + js_Boot.__string_rec(o[i],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( _g ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var str = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		var k = null;
		for( k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str.length != 2) {
			str += ", \n";
		}
		str += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str += "\n" + s + "}";
		return str;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var table_FancyColumn = function(name) {
	this.canSort = false;
	this.nullCaption = "";
	this.filterCheckbox = null;
	this.showCheckbox = null;
	this.wantFilter = false;
	this.canEdit = true;
	this.showInFilter = null;
	this.canFilter = true;
	this.canShow = true;
	this.show = false;
	this.onEditorNotes = null;
	this.onNotes = null;
	this.shortName = null;
	this.filterName = null;
	this.table = null;
	this.name = name;
	this.show = table_FancyColumn.defaultShow;
};
table_FancyColumn.__name__ = true;
table_FancyColumn.prototype = {
	table: null
	,name: null
	,filterName: null
	,shortName: null
	,onNotes: null
	,onEditorNotes: null
	,show: null
	,canShow: null
	,canFilter: null
	,showInFilter: null
	,canEdit: null
	,wantFilter: null
	,showCheckbox: null
	,filterCheckbox: null
	,nullCaption: null
	,getId: function() {
		return this.name;
	}
	,buildValue: function(out,kb) {
	}
	,buildFilter: function(out) {
	}
	,buildEditor: function(out,store,restore) {
	}
	,matchesFilter: function(kb) {
		return true;
	}
	,saveFilterParams: function(obj) {
	}
	,loadFilterParams: function(obj) {
		return false;
	}
	,getLegends: function() {
		return [];
	}
	,canSort: null
	,compareValues: function(a,b,ascending) {
		return 0;
	}
	,save: function(kb) {
	}
	,load: function(kb) {
	}
	,__class__: table_FancyColumn
};
var table_FancyColumnLegend = function(short,full) {
	this.short = short;
	this.full = full;
};
table_FancyColumnLegend.__name__ = true;
table_FancyColumnLegend.prototype = {
	short: null
	,full: null
	,__class__: table_FancyColumnLegend
};
var table_FancyField = function(name,access) {
	this.name = name;
	this.access = access;
};
table_FancyField.__name__ = true;
table_FancyField.prototype = {
	name: null
	,access: null
	,__class__: table_FancyField
};
var table_FancyRow = function(ref) {
	this.cells = [];
	this.show = true;
	var _gthis = this;
	this.value = ref;
	this.element = window.document.createElement("tr");
	if(ref != null) {
		this.element.fancyRow = this;
	}
	this.element.addEventListener("click",function(_) {
		var cur = _gthis.element.parentElement.querySelector("tr.latest");
		if(cur != null) {
			cur.classList.remove("latest");
		}
		_gthis.element.classList.add("latest");
	});
};
table_FancyRow.__name__ = true;
table_FancyRow.prototype = {
	value: null
	,element: null
	,show: null
	,cells: null
	,__class__: table_FancyRow
};
var table_FancyTableCellBase = function(col) {
	this.column = col;
};
table_FancyTableCellBase.__name__ = true;
table_FancyTableCellBase.prototype = {
	element: null
	,column: null
	,__class__: table_FancyTableCellBase
};
var table_FancyTableCell = function(col) {
	table_FancyTableCellBase.call(this,col);
	this.element = window.document.createElement("td");
};
table_FancyTableCell.__name__ = true;
table_FancyTableCell.__super__ = table_FancyTableCellBase;
table_FancyTableCell.prototype = $extend(table_FancyTableCellBase.prototype,{
	__class__: table_FancyTableCell
});
var table_FancyTableHeaderCell = function(col) {
	table_FancyTableCellBase.call(this,col);
	this.element = window.document.createElement("th");
};
table_FancyTableHeaderCell.__name__ = true;
table_FancyTableHeaderCell.__super__ = table_FancyTableCellBase;
table_FancyTableHeaderCell.prototype = $extend(table_FancyTableCellBase.prototype,{
	__class__: table_FancyTableHeaderCell
});
var table_FancyTableFilterOrder = $hxEnums["table.FancyTableFilterOrder"] = { __ename__:true,__constructs__:null
	,Column: ($_=function(col) { return {_hx_index:0,col:col,__enum__:"table.FancyTableFilterOrder",toString:$estr}; },$_._hx_name="Column",$_.__params__ = ["col"],$_)
	,Header: ($_=function(h) { return {_hx_index:1,h:h,__enum__:"table.FancyTableFilterOrder",toString:$estr}; },$_._hx_name="Header",$_.__params__ = ["h"],$_)
};
table_FancyTableFilterOrder.__constructs__ = [table_FancyTableFilterOrder.Column,table_FancyTableFilterOrder.Header];
var table_FancyFilterHeader = function(text) {
	this.editorNotes = [];
	this.filterNotes = [];
	this.text = text;
};
table_FancyFilterHeader.__name__ = true;
table_FancyFilterHeader.prototype = {
	text: null
	,filterNotes: null
	,editorNotes: null
	,__class__: table_FancyFilterHeader
};
var table_FancyHeaderNote = function(text,func) {
	this.text = text;
	this.func = func;
};
table_FancyHeaderNote.__name__ = true;
table_FancyHeaderNote.prototype = {
	text: null
	,func: null
	,__class__: table_FancyHeaderNote
};
var table_FancyTableControls = function() { };
table_FancyTableControls.__name__ = true;
table_FancyTableControls.clearFilters = function(table,divFilters) {
	var cbs = tools_HtmlTools.querySelectorAllAutoArr(divFilters,"input.cb-filter");
	var update = false;
	table.canUpdateFilters = false;
	var _g = 0;
	while(_g < cbs.length) {
		var el = cbs[_g];
		++_g;
		if(el.checked) {
			update = true;
			el.checked = false;
			tools_HtmlTools.triggerChange(el);
		}
	}
	table.canUpdateFilters = true;
	if(update) {
		table.updateFilters();
	}
};
table_FancyTableControls.createShareButton = function(table,btShare) {
	var this1 = { };
	this1["theme"] = "translucent";
	var shareOpt = this1;
	shareOpt["trigger"] = "manual";
	shareOpt["content"] = "Copied!";
	var shareTippy = Tippy(btShare,shareOpt);
	var shareTippyHide = 0;
	btShare.onclick = function() {
		var search = table.saveFilters();
		var url = table.baseURL + search;
		var fallback = function() {
			window.prompt("Failed to copy - here's your link:",url);
		};
		try {
			$global.navigator.clipboard.writeText(url).catch(function(e) {
				$global.console.error("Failed to copy",e);
				fallback();
			}).then(function(_) {
				shareTippy["show"]();
				if(shareTippyHide != 0) {
					window.clearTimeout(shareTippyHide);
				}
				shareTippyHide = window.setTimeout(function() {
					shareTippyHide = 0;
					shareTippy["hide"]();
				},1200);
			});
		} catch( _g ) {
			var _g1 = haxe_Exception.caught(_g).unwrap();
			$global.console.error("Failed to copy",_g1);
			fallback();
		}
	};
};
var table_FancyTableDisplayMode = function() { };
table_FancyTableDisplayMode.__name__ = true;
table_FancyTableDisplayMode.set = function(table,flags) {
	if(table.displayFlags == flags) {
		return;
	}
	var hadImages = (table.displayFlags & 1) != 0;
	table.displayFlags = flags;
	var showImages = (flags & 1) != 0;
	tools_HtmlTools.setTokenFlag(table.outElement.classList,"gallery",(flags & 2) != 0);
	if(showImages == hadImages) {
		return;
	}
	var _g = 0;
	var _g1 = table.rows;
	while(_g < _g1.length) {
		var row = _g1[_g];
		++_g;
		var cell = [row.cells[0]];
		if(!showImages) {
			var _g2 = 0;
			var _g3 = tools_HtmlTools.querySelectorAllAutoArr(cell[0].element,"a.preview",HTMLImageElement);
			while(_g2 < _g3.length) _g3[_g2++].remove();
			var _g4 = 0;
			var _g5 = tools_HtmlTools.querySelectorAllAutoArr(cell[0].element,"br.preview",HTMLImageElement);
			while(_g4 < _g5.length) _g5[_g4++].remove();
			continue;
		}
		var _g6 = 0;
		var _g7 = row.value.img;
		while(_g6 < _g7.length) {
			var src = [_g7[_g6]];
			++_g6;
			var small = "img-small/" + haxe_io_Path.withExtension(src[0],"webp");
			var img = window.document.createElement("img");
			img.src = small;
			img.classList.add("small");
			var a = window.document.createElement("a");
			a.href = "img/" + src[0];
			a.target = "_blank";
			a.classList.add("preview");
			a.appendChild(img);
			var this1 = { };
			this1["theme"] = "translucent";
			var opts = this1;
			opts["trigger"] = "click";
			opts["interactive"] = true;
			opts["maxWidth"] = 658;
			opts["placement"] = "top-start";
			opts["appendTo"] = (function(cell) {
				return function() {
					return cell[0].element;
				};
			})(cell);
			externs_TippyOptions.setLazyContent(opts,(function(src) {
				return function() {
					var div = window.document.createElement("div");
					var img = window.document.createElement("img");
					img.src = "img/" + src[0];
					var p = window.document.createElement("p");
					p.classList.add("img");
					p.appendChild(img);
					div.appendChild(p);
					return div;
				};
			})(src));
			a.onclick = (function() {
				return function() {
					return false;
				};
			})();
			Tippy(img,opts);
			var br = window.document.createElement("br");
			br.classList.add("preview");
			cell[0].element.appendChild(br);
			cell[0].element.appendChild(a);
		}
	}
};
var table_FancyTableEditor = function() { };
table_FancyTableEditor.__name__ = true;
table_FancyTableEditor.print = function(table,kb) {
	var buf_b = "";
	buf_b = "{";
	var pretty = { notes : true};
	var _g = 0;
	var _g1 = table.columns;
	while(_g < _g1.length) {
		var col = _g1[_g];
		++_g;
		if(((col) instanceof table_LinkListColumn)) {
			pretty[col.field.name] = true;
		}
	}
	var sep = false;
	var _g = 0;
	var _g1 = Reflect.fields(kb);
	while(_g < _g1.length) {
		var fd = _g1[_g];
		++_g;
		var val = Reflect.field(kb,fd);
		if(((val) === undefined)) {
			continue;
		}
		if(sep) {
			buf_b += ",";
		} else {
			sep = true;
		}
		buf_b += "\n\t";
		var wantPretty = pretty[fd];
		if(!wantPretty && ((val) instanceof Array) && typeof(val[0]) == "string" && val[0].length > 20) {
			wantPretty = true;
		}
		var str;
		if(wantPretty) {
			str = JSON.stringify(val,null,"\t");
			str = StringTools.replace(str,"\n","\n\t");
		} else {
			str = tools_CompactJsonPrinter.print(val,null,"");
		}
		buf_b += Std.string(JSON.stringify(fd) + ": " + str);
	}
	buf_b += "\n}";
	return buf_b;
};
table_FancyTableEditor.build = function(table,out,ddLoad,btReset,btBuild,btTest,fdJSON,btLoadJSON) {
	var dest = out;
	var store = [];
	var restore = [];
	var _g = 0;
	var _g1 = table.filterOrder;
	while(_g < _g1.length) {
		var item = _g1[_g];
		++_g;
		var column;
		switch(item._hx_index) {
		case 0:
			column = item.col;
			break;
		case 1:
			var _g2 = item.h;
			var details = window.document.createElement("details");
			details.open = true;
			var summary = window.document.createElement("summary");
			var text = _g2.text;
			summary.appendChild(window.document.createTextNode(text));
			details.appendChild(summary);
			out.appendChild(details);
			dest = details;
			var _g3 = 0;
			var _g4 = _g2.editorNotes;
			while(_g3 < _g4.length) {
				var note = _g4[_g3];
				++_g3;
				var div = tools_HtmlTools.appendElTextNode(details,"div","");
				div.classList.add("note");
				var notice = tools_HtmlTools.appendElTextNode(div,"span",note.text);
				table_FancyTableFilters.addNotesFor(note.func,notice);
			}
			continue;
		}
		if(!column.canEdit) {
			continue;
		}
		var tr = window.document.createElement("div");
		tr.classList.add("item");
		tr.setAttribute("data-id",column.getId());
		tr.setAttribute("data-name",column.name);
		var divFilters = window.document.createElement("div");
		column.buildEditor(divFilters,store,restore);
		divFilters.classList.add("filters");
		var meta = window.document.createElement("div");
		meta.classList.add("name");
		var tmp = column.filterName;
		var colName = tmp != null ? tmp : column.name;
		var colNameEl = window.document.createElement("span");
		colNameEl.appendChild(window.document.createTextNode(colName));
		colNameEl.classList.add("column-name");
		var tmp1 = column.onEditorNotes;
		table_FancyTableFilters.addNotesFor(tmp1 != null ? tmp1 : column.onNotes,colNameEl);
		meta.appendChild(colNameEl);
		meta.appendChild(divFilters);
		tr.appendChild(meta);
		dest.appendChild(tr);
	}
	var buildKeyboard = function() {
		var kb = { };
		var _g = 0;
		while(_g < store.length) store[_g++](kb);
		var _g = 0;
		var _g1 = table.columns;
		while(_g < _g1.length) _g1[_g++].save(kb);
		return kb;
	};
	btBuild.onclick = function() {
		var kb = buildKeyboard();
		var tmp = table_FancyTableEditor.print(table,kb);
		fdJSON.value = tmp + ",";
	};
	btReset.onclick = function() {
		if(!window.confirm("Are you sure that you want to reset all fields? This cannot be undone!")) {
			return;
		}
		out.reset();
	};
	table_FancyTableEditorShortcuts.bind(out);
	var isKB = ((table) instanceof KeyboardTable);
	var kbs;
	if(isKB) {
		kbs = (isKB ? table : null).rawKeyboards;
	} else {
		kbs = table.values.slice();
	}
	kbs.sort(function(a,b) {
		if(a.name.toUpperCase() < b.name.toUpperCase()) {
			return -1;
		} else {
			return 1;
		}
	});
	var _g = 0;
	while(_g < kbs.length) {
		var kb = kbs[_g++];
		var option = window.document.createElement("option");
		var text = kb.name;
		option.appendChild(window.document.createTextNode(text));
		ddLoad.appendChild(option);
	}
	ddLoad.onchange = function() {
		if(ddLoad.value == "") {
			return;
		}
		var name = ddLoad.value;
		if(!window.confirm("Are you sure that you want to replace fields with those of \"" + name + "\"? This cannot be undone!")) {
			return;
		}
		ddLoad.value = "";
		var _g = [];
		var _g1 = 0;
		var _g2 = kbs;
		while(_g1 < _g2.length) {
			var v = _g2[_g1];
			++_g1;
			if(v.name == name) {
				_g.push(v);
			}
		}
		var kb = _g[0];
		if(kb == null) {
			return;
		}
		var _g = 0;
		while(_g < restore.length) restore[_g++](kb);
	};
	if(btLoadJSON != null) {
		btLoadJSON.onclick = function() {
			if(out.querySelector("input").value != "" && !window.confirm("Are you sure that you want to replace fields with those from JSON? This cannot be undone!")) {
				return;
			}
			var text = fdJSON.value;
			if(StringTools.endsWith(text,",")) {
				text = text.substring(0,text.length - 1);
			}
			var item = JSON.parse(text);
			var _g = 0;
			var _g1 = table.columns;
			while(_g < _g1.length) _g1[_g++].load(item);
			var _g = 0;
			while(_g < restore.length) restore[_g++](item);
			fdJSON.value = "";
		};
	}
	btTest.onclick = function() {
		var kb = buildKeyboard();
		table.loadTest(kb);
	};
};
var table_FancyTableEditorShortcuts = function() { };
table_FancyTableEditorShortcuts.__name__ = true;
table_FancyTableEditorShortcuts.bind = function(out) {
	var inputQuery = "input, textarea, select";
	var shortcutHandler = function(e) {
		var input = e.target;
		var isInput = input.tagName == "INPUT";
		var isCheckbox = isInput && input.type == "checkbox";
		var mode;
		switch(e.code) {
		case "ArrowDown":
			if(e.ctrlKey) {
				mode = table_FancyTableEditorShortcutsAction.Next;
			} else if(isCheckbox) {
				mode = table_FancyTableEditorShortcutsAction.CbDown;
			} else {
				return;
			}
			break;
		case "ArrowLeft":
			if(isCheckbox) {
				mode = table_FancyTableEditorShortcutsAction.CbLeft;
			} else {
				return;
			}
			break;
		case "ArrowRight":
			if(isCheckbox) {
				mode = table_FancyTableEditorShortcutsAction.CbRight;
			} else {
				return;
			}
			break;
		case "ArrowUp":
			if(e.ctrlKey) {
				mode = table_FancyTableEditorShortcutsAction.Prev;
			} else if(isCheckbox) {
				mode = table_FancyTableEditorShortcutsAction.CbUp;
			} else {
				return;
			}
			break;
		case "PageDown":
			mode = table_FancyTableEditorShortcutsAction.Next;
			break;
		case "PageUp":
			mode = table_FancyTableEditorShortcutsAction.Prev;
			break;
		default:
			return;
		}
		var item = input.parentElement;
		var found = false;
		var _g = 0;
		while(_g < 8) {
			++_g;
			if(item.classList.contains("item")) {
				found = true;
				break;
			}
			item = item.parentElement;
		}
		if(!found) {
			return;
		}
		var focusAndScrollIntoView = function(first) {
			first.focus();
			var opt = { };
			opt.behavior = "smooth";
			opt.block = "nearest";
			first.scrollIntoView(opt);
		};
		switch(mode._hx_index) {
		case 0:case 1:
			e.preventDefault();
			var isPrev = mode == table_FancyTableEditorShortcutsAction.Prev;
			var adjItem = isPrev ? item.previousElementSibling : item.nextElementSibling;
			if(adjItem != null && adjItem.classList.contains("item")) {
				var first = adjItem.querySelector(inputQuery);
				if(first != null) {
					focusAndScrollIntoView(first);
				}
				return;
			}
			var details = item.parentElement;
			var adjDetails = isPrev ? details.previousElementSibling : details.nextElementSibling;
			if(adjDetails == null || adjDetails.tagName != "DETAILS") {
				return;
			}
			adjItem = isPrev ? adjDetails.querySelector(".item:last-child") : adjDetails.querySelector(".item");
			if(adjItem != null) {
				var first = adjItem.querySelector(inputQuery);
				if(first != null) {
					focusAndScrollIntoView(first);
				}
				return;
			}
			break;
		case 2:case 3:case 4:case 5:
			if(mode == table_FancyTableEditorShortcutsAction.CbLeft || mode == table_FancyTableEditorShortcutsAction.CbRight) {
				if(item.querySelector(".tag-options[column-count=\"2\"]") == null) {
					return;
				}
			}
			var inputs = tools_HtmlTools.querySelectorAllAutoArr(item,inputQuery,HTMLElement);
			var inputCount = inputs.length;
			var inputHalfC = Math.ceil(inputs.length / 2);
			var inputInd = inputs.indexOf(input);
			if(inputInd == -1) {
				return;
			}
			var adjustInputInd = function(delta) {
				var newInputInd = inputInd + delta;
				if(newInputInd < 0 || newInputInd >= inputCount) {
					return;
				}
				inputInd = newInputInd;
			};
			switch(mode._hx_index) {
			case 2:
				adjustInputInd(-1);
				break;
			case 3:
				adjustInputInd(1);
				break;
			case 4:
				adjustInputInd(-inputHalfC);
				break;
			case 5:
				adjustInputInd(inputHalfC);
				break;
			default:
			}
			if(inputInd < 0) {
				inputInd += inputCount;
			}
			if(inputInd >= inputCount) {
				inputInd -= inputCount;
			}
			focusAndScrollIntoView(inputs[inputInd]);
			e.preventDefault();
			break;
		}
	};
	var _g = 0;
	var _g1 = out.querySelectorAll(inputQuery);
	while(_g < _g1.length) _g1[_g++].addEventListener("keydown",shortcutHandler);
};
var table_FancyTableEditorShortcutsAction = $hxEnums["table.FancyTableEditorShortcutsAction"] = { __ename__:true,__constructs__:null
	,Prev: {_hx_name:"Prev",_hx_index:0,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
	,Next: {_hx_name:"Next",_hx_index:1,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
	,CbUp: {_hx_name:"CbUp",_hx_index:2,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
	,CbDown: {_hx_name:"CbDown",_hx_index:3,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
	,CbLeft: {_hx_name:"CbLeft",_hx_index:4,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
	,CbRight: {_hx_name:"CbRight",_hx_index:5,__enum__:"table.FancyTableEditorShortcutsAction",toString:$estr}
};
table_FancyTableEditorShortcutsAction.__constructs__ = [table_FancyTableEditorShortcutsAction.Prev,table_FancyTableEditorShortcutsAction.Next,table_FancyTableEditorShortcutsAction.CbUp,table_FancyTableEditorShortcutsAction.CbDown,table_FancyTableEditorShortcutsAction.CbLeft,table_FancyTableEditorShortcutsAction.CbRight];
var table_FancyTableFilters = function() { };
table_FancyTableFilters.__name__ = true;
table_FancyTableFilters.addNotesFor = function(onNotes,el) {
	if(onNotes != null) {
		el.classList.add("has-notes");
		el.title = "(click to view notes)";
		var this1 = { };
		this1["theme"] = "translucent";
		var opts = this1;
		opts["trigger"] = "click";
		opts["interactive"] = true;
		var v = function() {
			return el.parentElement;
		};
		opts["appendTo"] = v;
		opts["maxWidth"] = 480;
		externs_TippyOptions.setLazyContent(opts,function() {
			var div = window.document.createElement("div");
			onNotes(div);
			return div;
		});
		Tippy(el,opts);
	}
};
table_FancyTableFilters.addNotes = function(column,el) {
	table_FancyTableFilters.addNotesFor(column.onNotes,el);
};
table_FancyTableFilters.build = function(table,out) {
	var dest = out;
	var _g = 0;
	var _g1 = table.filterOrder;
	while(_g < _g1.length) {
		var item = _g1[_g];
		++_g;
		var column;
		switch(item._hx_index) {
		case 0:
			column = item.col;
			break;
		case 1:
			var _g2 = item.h;
			var text = _g2.text;
			var details = window.document.createElement("details");
			details.open = true;
			var summary = window.document.createElement("summary");
			summary.appendChild(window.document.createTextNode(text));
			details.appendChild(summary);
			out.appendChild(details);
			dest = details;
			var _g3 = 0;
			var _g4 = _g2.filterNotes;
			while(_g3 < _g4.length) {
				var note = _g4[_g3];
				++_g3;
				var div = tools_HtmlTools.appendElTextNode(details,"div","");
				div.classList.add("note");
				var notice = tools_HtmlTools.appendElTextNode(div,"span",note.text);
				table_FancyTableFilters.addNotesFor(note.func,notice);
			}
			continue;
		}
		var column1 = [column];
		var tmp = column1[0].showInFilter;
		if(!(tmp != null ? tmp : column1[0].canFilter)) {
			continue;
		}
		var tmp1 = column1[0].filterName;
		var colName = tmp1 != null ? tmp1 : column1[0].name;
		var tr = window.document.createElement("div");
		tr.classList.add("item");
		tr.setAttribute("data-id",column1[0].getId());
		tr.setAttribute("data-name",column1[0].name);
		var cbShow = [window.document.createElement("input")];
		cbShow[0].disabled = !column1[0].canShow;
		cbShow[0].type = "checkbox";
		cbShow[0].classList.add("cb-show");
		cbShow[0].checked = column1[0].show;
		cbShow[0].onchange = (function(cbShow,column) {
			return function(_) {
				column[0].show = cbShow[0].checked;
				var _g = 0;
				var _this = table.header.cells;
				var _g1 = [];
				var _g2 = 0;
				while(_g2 < _this.length) {
					var v = _this[_g2];
					++_g2;
					if(v.column == column[0]) {
						_g1.push(v);
					}
				}
				while(_g < _g1.length) tools_HtmlTools.setDisplayFlag(_g1[_g++].element,column[0].show);
				var _g = 0;
				var _g1 = table.rows;
				while(_g < _g1.length) {
					var _g2 = 0;
					var _this = _g1[_g++].cells;
					var _g3 = [];
					var _g4 = 0;
					while(_g4 < _this.length) {
						var v = _this[_g4];
						++_g4;
						if(v.column == column[0]) {
							_g3.push(v);
						}
					}
					while(_g2 < _g3.length) tools_HtmlTools.setDisplayFlag(_g3[_g2++].element,column[0].show);
				}
			};
		})(cbShow,column1);
		column1[0].showCheckbox = cbShow[0];
		var lbShow = window.document.createElement("label");
		lbShow.classList.add("visibility-toggle");
		lbShow.appendChild(cbShow[0]);
		var icon = window.document.createElement("span");
		icon.classList.add("material-icons");
		lbShow.appendChild(icon);
		tr.appendChild(lbShow);
		var this1 = { };
		this1["theme"] = "translucent";
		var toShow = this1;
		toShow["content"] = ("Show \"" + colName + "\"");
		Tippy(lbShow,toShow);
		var divFilters = [window.document.createElement("div")];
		column1[0].buildFilter(divFilters[0]);
		tools_HtmlTools.setDisplayFlag(divFilters[0],false);
		divFilters[0].classList.add("filters");
		var cbFilter = [window.document.createElement("input")];
		cbFilter[0].type = "checkbox";
		cbFilter[0].classList.add("cb-filter");
		cbFilter[0].checked = false;
		cbFilter[0].disabled = !column1[0].canFilter;
		cbFilter[0].onchange = (function(cbFilter,divFilters,column) {
			return function(_) {
				column[0].wantFilter = cbFilter[0].checked;
				tools_HtmlTools.setDisplayFlag(divFilters[0],cbFilter[0].checked);
				table.updateFilters();
			};
		})(cbFilter,divFilters,column1);
		column1[0].filterCheckbox = cbFilter[0];
		var lbFilter = window.document.createElement("label");
		lbFilter.appendChild(cbFilter[0]);
		tr.appendChild(lbFilter);
		var this2 = { };
		this2["theme"] = "translucent";
		var toFilter = this2;
		toFilter["content"] = ("Filter \"" + colName + "\"");
		Tippy(cbFilter[0],toFilter);
		var meta = window.document.createElement("div");
		meta.classList.add("name");
		var colNameEl = window.document.createElement("span");
		colNameEl.appendChild(window.document.createTextNode(colName));
		colNameEl.classList.add("column-name");
		table_FancyTableFilters.addNotes(column1[0],colNameEl);
		meta.appendChild(colNameEl);
		meta.appendChild(divFilters[0]);
		tr.appendChild(meta);
		dest.appendChild(tr);
	}
};
var table_FancyTableShuffler = function(name) {
	table_FancyColumn.call(this,name);
};
table_FancyTableShuffler.__name__ = true;
table_FancyTableShuffler.__super__ = table_FancyColumn;
table_FancyTableShuffler.prototype = $extend(table_FancyColumn.prototype,{
	compareValues: function(a,b,ascending) {
		if(Math.random() < 0.5) {
			return -1;
		} else {
			return 1;
		}
	}
	,__class__: table_FancyTableShuffler
});
var table_FancyTableToMD = function() { };
table_FancyTableToMD.__name__ = true;
table_FancyTableToMD.run = function(table) {
	var out_b = "";
	var hasLegend = false;
	var _g = 0;
	var _g1 = table.columns;
	while(_g < _g1.length) {
		var col = _g1[_g];
		++_g;
		if(col.show) {
			var legends = col.getLegends();
			if(legends.length == 0) {
				continue;
			}
			if(!hasLegend) {
				hasLegend = true;
				out_b += "|Column|Value|Explanation|";
				out_b += "\n|-:|:-|:-|";
			}
			var tmp = col.shortName;
			var colName = tmp != null ? tmp : col.name;
			var tmp1 = col.filterName;
			out_b += Std.string("\n|" + colName + "||" + (tmp1 != null ? tmp1 : col.name));
			var _g2 = 0;
			while(_g2 < legends.length) {
				var legend = legends[_g2];
				++_g2;
				out_b += Std.string("\n|" + colName + "|" + legend.short + "|" + legend.full + "|");
			}
		}
	}
	if(hasLegend) {
		out_b += "\n\n";
	}
	var cells = [];
	var _g = 0;
	var _g1 = table.columns;
	while(_g < _g1.length) {
		var col = _g1[_g];
		++_g;
		if(col.show) {
			var tmp = col.shortName;
			cells.push(tmp != null ? tmp : col.name);
		}
	}
	out_b += Std.string("|" + cells.join("|") + "|");
	var result = new Array(cells.length);
	var _g = 0;
	var _g1 = cells.length;
	while(_g < _g1) result[_g++] = ":-";
	out_b += Std.string("\n|" + result.join("|") + "|");
	var _g = 0;
	var _g1 = tools_HtmlTools.querySelectorAllAutoArr(table.outElement,"tr",HTMLTableRowElement);
	while(_g < _g1.length) {
		var row = _g1[_g++].fancyRow;
		if(row == null || !row.show) {
			continue;
		}
		cells = [];
		var _g2 = 0;
		var _g3 = row.cells;
		while(_g2 < _g3.length) {
			var cell = _g3[_g2];
			++_g2;
			if(cell.column.show) {
				var text = cell.element.innerText;
				var a = cell.element.querySelector("a");
				if(a != null && !StringTools.startsWith(a.href,"javascript:")) {
					text = "[" + text + "](" + a.href + ")";
				}
				cells.push(text);
			}
		}
		out_b += Std.string("\n|" + cells.join("|") + "|");
	}
	return out_b;
};
var table_FuncColumn = function(name,refValue,func) {
	table_FancyColumn.call(this,name);
	this.canEdit = false;
	this.canFilter = false;
	this.func = func;
};
table_FuncColumn.__name__ = true;
table_FuncColumn.__super__ = table_FancyColumn;
table_FuncColumn.prototype = $extend(table_FancyColumn.prototype,{
	func: null
	,buildValue: function(out,item) {
		var pair = this.func(out,item);
		if(pair == null) {
			return;
		}
		tools_HtmlTools.setTippyTitle(tools_HtmlTools.appendElTextNode(out,"span",pair.text),pair.tip);
	}
	,__class__: table_FuncColumn
});
var table_LinkListColumn = function(name,field) {
	this.canShowSingle = false;
	table_FancyColumn.call(this,name);
	this.field = field;
};
table_LinkListColumn.__name__ = true;
table_LinkListColumn.createFlagInner = function(code,title) {
	return "<img" + (" src=\"flags/" + code + ".png\"") + " width=\"16\"" + (title != null ? " title=\"" + StringTools.htmlEscape(title,true) + "\"" : "") + " class=\"flag\"" + "/>";
};
table_LinkListColumn.createFlag = function(origin) {
	var html = table_LinkListColumn.countryTags[origin.toUpperCase()];
	if(html == null) {
		return table_LinkListColumn.createFlagInner(origin.toLowerCase(),"Unknown origin \"" + origin + "\"");
	}
	html = html.replace(table_LinkListColumn.rxFlag,function(_,code,title) {
		return table_LinkListColumn.createFlagInner(code,title);
	});
	return html;
};
table_LinkListColumn.__super__ = table_FancyColumn;
table_LinkListColumn.prototype = $extend(table_FancyColumn.prototype,{
	canShowSingle: null
	,field: null
	,getId: function() {
		return this.field.name;
	}
	,matchesFilter: function(kb) {
		var lines = this.field.access(kb);
		if(lines != null) {
			return lines.length != 0;
		} else {
			return false;
		}
	}
	,buildPopup: function(lines,kb) {
		var rows = [];
		var usesVariants = false;
		var _g_current = 0;
		var _g_array = lines;
		while(_g_current < _g_array.length) {
			var href = _g_array[_g_current++];
			var _href = href;
			var official = StringTools.startsWith(href,"!");
			if(official) {
				href = StringTools.ltrim(HxOverrides.substr(href,1,null));
			}
			var origins = [];
			var vendor = null;
			var variant = null;
			var alt = null;
			var _g = 0;
			while(_g < 16) {
				_g++;
				if(!StringTools.startsWith(href,"[")) {
					break;
				}
				var pos = href.indexOf("]");
				if(pos < 0) {
					break;
				}
				var text = href.substring(1,pos);
				href = StringTools.ltrim(href.substring(pos + 1));
				pos = text.indexOf(":");
				var tag = "";
				if(pos >= 0) {
					tag = text.substring(0,pos);
					text = text.substring(pos + 1);
				}
				switch(tag) {
				case "":
					origins.push(text);
					break;
				case "a":case "alt":
					alt = text;
					break;
				case "n":case "name":
					vendor = text;
					break;
				case "v":case "var":case "variant":
					variant = text;
					usesVariants = true;
					break;
				default:
					var name = kb.name;
					$global.console.error("Unknown tag \"" + tag + "\" in \"" + _href + "\" in \"" + name + "\"");
				}
			}
			var pos1 = href.indexOf("@");
			if(pos1 >= 0) {
				alt = StringTools.trim(href.substring(pos1 + 1));
				href = StringTools.trim(href.substring(0,pos1));
			}
			if(href == "?") {
				href = null;
				if(vendor == null) {
					vendor = "?";
				}
			} else {
				var domain = new URL(href).hostname;
				if(StringTools.startsWith(domain,"www.")) {
					domain = HxOverrides.substr(domain,4,null);
				}
				if(StringTools.startsWith(domain,"new.")) {
					domain = HxOverrides.substr(domain,4,null);
				}
				if(origins.length == 0) {
					var origin = table_LinkListColumn.domainCountries[domain];
					if(origin == null) {
						var parts = domain.split(".");
						if(parts.length >= 3) {
							origin = table_LinkListColumn.domainCountries[parts.slice(1).join(".")];
						}
					}
					if(origin == null) {
						var pos2 = domain.lastIndexOf(".");
						if(pos2 >= 0) {
							origin = domain.substring(pos2 + 1).toUpperCase();
							if(table_LinkListColumn.countryTags[origin] == null) {
								origin = null;
							}
						}
					}
					if(origin != null) {
						origins.push(origin);
					}
				}
				if(vendor == null) {
					vendor = domain;
				}
			}
			var addTo = null;
			var _g1 = 0;
			while(_g1 < rows.length) {
				var row = rows[_g1];
				++_g1;
				if(row.label != vendor) {
					continue;
				}
				if(row.official != official) {
					continue;
				}
				if(row.origins.length > 0 && origins.length > 0) {
					if(row.origins.length != origins.length) {
						continue;
					}
					var mismatch = false;
					var _g_current1 = 0;
					var _g_array1 = origins;
					while(_g_current1 < _g_array1.length) {
						var _g_value = _g_array1[_g_current1++];
						if(row.origins[_g_current1 - 1] != _g_value) {
							mismatch = true;
							break;
						}
					}
					if(mismatch) {
						continue;
					}
				}
				addTo = row;
				break;
			}
			if(addTo == null) {
				addTo = new table_LinkListRow(vendor);
				addTo.official = official;
				addTo.origins = origins;
				rows.push(addTo);
			} else {
				usesVariants = true;
			}
			var rowItem = new table_LinkListRowItem();
			rowItem.url = href;
			rowItem.alt = alt;
			rowItem.label = variant;
			addTo.items.push(rowItem);
		}
		rows.sort(function(a,b) {
			if(a.official != b.official) {
				if(a.official) {
					return -1;
				} else {
					return 1;
				}
			}
			if(Math.random() < 0.5) {
				return -1;
			} else {
				return 1;
			}
		});
		var table = window.document.createElement("table");
		table.classList.add("links");
		var sep = String.fromCodePoint(8201);
		var _g = 0;
		while(_g < rows.length) {
			var row = rows[_g];
			++_g;
			var tableRow = tools_HtmlTools.appendElTextNode(table,"tr","");
			var flagCell = tools_HtmlTools.appendElTextNode(tableRow,"td");
			flagCell.classList.add("flags");
			if(row.official) {
				flagCell.insertAdjacentHTML("beforeend",table_LinkListColumn.createFlagInner("star","Official") + sep);
			}
			var _g1 = 0;
			var _g2 = row.origins;
			while(_g1 < _g2.length) flagCell.insertAdjacentHTML("beforeend",table_LinkListColumn.createFlag(_g2[_g1++]) + sep);
			var multi = row.items.length > 1;
			var cell = tools_HtmlTools.appendElTextNode(tableRow,"td");
			if(usesVariants) {
				var text = row.label;
				cell.appendChild(window.document.createTextNode(text));
				cell = tools_HtmlTools.appendElTextNode(tableRow,"td");
				cell.classList.add("variants");
			}
			var _g_current = 0;
			var _g_array = row.items;
			while(_g_current < _g_array.length) {
				var _g_value = _g_array[_g_current++];
				var i = _g_current - 1;
				var rowItem = _g_value;
				if(multi) {
					if(i > 0) {
						cell.appendChild(window.document.createTextNode("," + sep));
					}
				}
				var hasURL = rowItem.url != null;
				var link = hasURL ? window.document.createElement("a") : window.document.createElement("span");
				if(hasURL) {
					link.href = rowItem.url;
				}
				if(multi) {
					var tmp = rowItem.label;
					link.appendChild(window.document.createTextNode(tmp != null ? tmp : "link" + sep + (1 + i)));
				} else if(usesVariants) {
					var tmp1 = rowItem.label;
					link.appendChild(window.document.createTextNode(tmp1 != null ? tmp1 : "open"));
				} else {
					var text1 = row.label;
					link.appendChild(window.document.createTextNode(text1));
				}
				cell.appendChild(link);
				if(rowItem.alt != null) {
					var atLink = window.document.createElement("a");
					atLink.href = rowItem.alt;
					atLink.appendChild(window.document.createTextNode("alt"));
					var atSup = window.document.createElement("span");
					atSup.appendChild(window.document.createTextNode(sep + "("));
					atSup.appendChild(atLink);
					atSup.appendChild(window.document.createTextNode(")"));
					cell.appendChild(atSup);
				}
			}
			table.appendChild(tableRow);
		}
		return table;
	}
	,buildValueExt: function(out,kb,linkText) {
		var _gthis = this;
		var lines = this.field.access(kb);
		var link = null;
		if(!(lines == null || lines.length == 0)) {
			if(lines.length == 1 && this.canShowSingle && !StringTools.startsWith(lines[0],"[")) {
				link = window.document.createElement("a");
				link.appendChild(window.document.createTextNode(linkText));
				link.href = lines[0];
				link.target = "_blank";
				out.appendChild(link);
			} else {
				link = window.document.createElement("a");
				link.appendChild(window.document.createTextNode(linkText));
				link.href = "javascript:void(0)";
				out.appendChild(link);
				var fn = function(_) {
					var this1 = { };
					this1["theme"] = "translucent";
					var opts = this1;
					opts["maxWidth"] = 480;
					opts["trigger"] = "click";
					opts["interactive"] = true;
					opts["appendTo"] = function() {
						return out;
					};
					externs_TippyOptions.setLazyContent(opts,function() {
						return _gthis.buildPopup(lines,kb);
					});
					Tippy(link,opts)["show"]();
					link.removeEventListener("click",fn);
				};
				link.addEventListener("click",fn);
			}
		}
		var tmp = link;
		(tmp != null ? tmp : out).title = [kb.name,this.name + " (" + (lines != null ? lines.length : 0) + ")"].join("\n");
		return link != null;
	}
	,buildValue: function(out,kb) {
		this.buildValueExt(out,kb,"➜");
	}
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		var textarea = window.document.createElement("textarea");
		textarea.placeholder = ["One URL per line"].join("\n");
		out.appendChild(textarea);
		store.push(function(kb) {
			var text = textarea.value;
			if(StringTools.trim(text) == "") {
				return;
			}
			_gthis.field.access(kb,true,text.split("\n"));
		});
		restore.push(function(kb) {
			var arr = _gthis.field.access(kb);
			if(arr == null) {
				textarea.value = "";
			} else {
				textarea.value = arr.join("\n");
			}
		});
	}
	,save: function(kb) {
		var arr = this.field.access(kb);
		if(arr != null && arr.length == 1) {
			arr = arr[0];
			this.field.access(kb,true,arr);
		}
	}
	,load: function(kb) {
		var val = this.field.access(kb);
		if(typeof(val) == "string") {
			this.field.access(kb,true,[val]);
		}
	}
	,saveFilterParams: function(obj) {
		if(this.filterCheckbox.checked) {
			obj[this.field.name] = "";
		}
	}
	,loadFilterParams: function(obj) {
		return obj[this.field.name] != null;
	}
	,__class__: table_LinkListColumn
});
var table_LinkListRow = function(label) {
	this.origins = [];
	this.items = [];
	this.official = false;
	this.label = label;
};
table_LinkListRow.__name__ = true;
table_LinkListRow.prototype = {
	official: null
	,items: null
	,label: null
	,origins: null
	,__class__: table_LinkListRow
};
var table_LinkListRowItem = function() {
	this.alt = null;
	this.url = null;
	this.label = null;
};
table_LinkListRowItem.__name__ = true;
table_LinkListRowItem.prototype = {
	label: null
	,url: null
	,alt: null
	,__class__: table_LinkListRowItem
};
var table_StringColumn = function(name,field) {
	this.filterField = null;
	this.filterWordsText = "";
	this.filterWords = [];
	this.filterModeSelect = null;
	this.filterMode = table_tag_TagFilterMode.AnyOf;
	this.emptyToNull = false;
	table_FancyColumn.call(this,name);
	this.field = field;
	this.canSort = true;
};
table_StringColumn.__name__ = true;
table_StringColumn.__super__ = table_FancyColumn;
table_StringColumn.prototype = $extend(table_FancyColumn.prototype,{
	field: null
	,emptyToNull: null
	,buildValue: function(out,kb) {
		var text = this.field.access(kb);
		out.appendChild(window.document.createTextNode(text));
	}
	,compareValues: function(a,b,ascending) {
		var an = this.field.access(a).toUpperCase();
		var bn = this.field.access(b).toUpperCase();
		var sign = an == bn ? 0 : an < bn ? -1 : 1;
		if(ascending) {
			sign = -sign;
		}
		return sign;
	}
	,filterMode: null
	,filterModeSelect: null
	,filterWords: null
	,filterWordsText: null
	,filterField: null
	,buildFilter: function(out) {
		var _gthis = this;
		var modeSelect = window.document.createElement("select");
		var _g = 0;
		var _this = table_tag_TagFilterMode.__constructs__;
		var result = new Array(_this.length);
		var _g1 = 0;
		var _g2 = _this.length;
		while(_g1 < _g2) {
			var i = _g1++;
			result[i] = _this[i]._hx_name;
		}
		while(_g < result.length) {
			var ctr = result[_g];
			++_g;
			var val = Type.createEnum(table_tag_TagFilterMode,ctr,null);
			var name;
			switch(val._hx_index) {
			case 0:
				name = "Any of these";
				break;
			case 1:
				name = "All of these";
				break;
			case 2:
				name = "None of these";
				break;
			}
			var opt = window.document.createElement("option");
			opt.value = ctr;
			opt.appendChild(window.document.createTextNode(name));
			if(val == table_tag_TagFilterMode.AnyOf) {
				opt.selected = true;
			}
			modeSelect.appendChild(opt);
		}
		modeSelect.onchange = function(_) {
			var old = _gthis.filterMode;
			var tmp = Type.createEnum(table_tag_TagFilterMode,modeSelect.value,null);
			_gthis.filterMode = tmp != null ? tmp : table_tag_TagFilterMode.AnyOf;
			if(old != _gthis.filterMode) {
				_gthis.table.updateFilters();
			}
		};
		this.filterModeSelect = modeSelect;
		out.appendChild(modeSelect);
		this.filterField = window.document.createElement("textarea");
		this.filterField.placeholder = "word1\nword2";
		var syncWords = function() {
			var newWords = _gthis.filterField.value.split("\n");
			var result = new Array(newWords.length);
			var _g = 0;
			var _g1 = newWords.length;
			while(_g < _g1) {
				var i = _g++;
				result[i] = StringTools.trim(newWords[i]).toLowerCase();
			}
			var _g = [];
			var _g1 = 0;
			var _g2 = result;
			while(_g1 < _g2.length) {
				var v = _g2[_g1];
				++_g1;
				if(v != "") {
					_g.push(v);
				}
			}
			var newText = _g.join("\n");
			if(newText == _gthis.filterWordsText) {
				return;
			}
			_gthis.filterWordsText = newText;
			_gthis.filterWords = _g;
			_gthis.table.updateFilters();
		};
		tools_HtmlTools.addFieldChangeEventListener(this.filterField,function(_) {
			syncWords();
		});
		out.appendChild(this.filterField);
	}
	,matchesFilter: function(kb) {
		if(this.filterWords.length == 0) {
			return true;
		}
		var lqn = this.field.access(kb).toLowerCase();
		var _g = 0;
		var _g1 = this.filterWords;
		while(_g < _g1.length) {
			var word = _g1[_g];
			++_g;
			switch(this.filterMode._hx_index) {
			case 0:
				if(lqn.indexOf(word) >= 0) {
					return true;
				}
				break;
			case 1:
				if(lqn.indexOf(word) < 0) {
					return false;
				}
				break;
			case 2:
				if(lqn.indexOf(word) >= 0) {
					return false;
				}
				break;
			}
		}
		return this.filterMode != table_tag_TagFilterMode.AnyOf;
	}
	,editorField: null
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		var fd = window.document.createElement("input");
		fd.type = "text";
		store.push(function(kb) {
			if(_gthis.emptyToNull && StringTools.trim(fd.value) == "") {
				return;
			}
			_gthis.field.access(kb,true,fd.value);
		});
		restore.push(function(kb) {
			var val = _gthis.field.access(kb);
			fd.value = val != null ? val : "";
		});
		fd.placeholder = "Cool Keyboard";
		out.appendChild(fd);
		this.editorField = fd;
	}
	,saveFilterParams: function(obj) {
		var name = this.field.name;
		if(this.filterMode != table_tag_TagFilterMode.AnyOf) {
			var e = this.filterMode;
			obj[name + "-mode"] = $hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name;
		}
		if(this.filterWords.length > 0) {
			var _this = this.filterWords;
			var result = new Array(_this.length);
			var _g = 0;
			var _g1 = _this.length;
			while(_g < _g1) {
				var i = _g++;
				result[i] = StringTools.htmlEscape(_this[i],true);
			}
			obj[name] = result.join("+");
		}
	}
	,loadFilterParams: function(obj) {
		var name = this.field.name;
		var mode = obj[name + "-mode"];
		var ret = false;
		if(mode != null) {
			try {
				this.filterMode = Type.createEnum(table_tag_TagFilterMode,mode,null);
				this.filterModeSelect.value = mode;
				tools_HtmlTools.triggerChange(this.filterModeSelect);
				ret = true;
			} catch( _g ) {
				$global.console.error("Invalid filter mode " + mode + " for " + name);
			}
		}
		var listStr = obj[name];
		if(listStr != null) {
			var list = listStr.split("+");
			var result = new Array(list.length);
			var _g = 0;
			var _g1 = list.length;
			while(_g < _g1) {
				var i = _g++;
				result[i] = StringTools.htmlUnescape(list[i]);
			}
			this.filterWords = result;
			this.filterField.value = this.filterWords.join("\n");
			ret = true;
		}
		return ret;
	}
	,__class__: table_StringColumn
});
var table_NameColumn = function(name,field) {
	table_StringColumn.call(this,name,field);
};
table_NameColumn.__name__ = true;
table_NameColumn.__super__ = table_StringColumn;
table_NameColumn.prototype = $extend(table_StringColumn.prototype,{
	buildValue: function(out,kb) {
		if(kb.img != null || kb.notes != null) {
			var srcs;
			if(kb.img != null) {
				var rxLink = new RegExp("^https?://","");
				var _this = kb.img;
				var result = new Array(_this.length);
				var _g = 0;
				var _g1 = _this.length;
				while(_g < _g1) {
					var i = _g++;
					var s = _this[i];
					result[i] = rxLink.test(s) ? s : "img/" + s;
				}
				srcs = result;
			} else {
				srcs = null;
			}
			var link = window.document.createElement("a");
			var text = this.field.access(kb);
			link.appendChild(window.document.createTextNode(text));
			link.href = srcs != null ? srcs[0] : null;
			link.onclick = function() {
				return false;
			};
			out.appendChild(link);
			var this1 = { };
			this1["theme"] = "translucent";
			var opts = this1;
			opts["placement"] = "top-start";
			opts["interactive"] = true;
			opts["maxWidth"] = 658;
			externs_TippyOptions.setLazyContent(opts,function() {
				var div = window.document.createElement("div");
				if(srcs != null) {
					var _g = 0;
					while(_g < srcs.length) {
						var src = srcs[_g++];
						var img = window.document.createElement("img");
						img.src = src;
						var p = window.document.createElement("p");
						p.classList.add("img");
						p.appendChild(img);
						div.appendChild(p);
					}
				}
				if(kb.notes != null) {
					var list = null;
					var _g = 0;
					var _g1 = kb.notes;
					while(_g < _g1.length) {
						var note = _g1[_g];
						++_g;
						if(StringTools.startsWith(note,"-")) {
							note = StringTools.ltrim(note.substring(1));
							if(list == null) {
								list = tools_HtmlTools.appendElTextNode(div,"ul");
							}
							tools_HtmlTools.appendElTextNode(list,"li",note);
						} else {
							list = null;
							tools_HtmlTools.appendParaTextNode(div,note);
						}
					}
				}
				return div;
			});
			externs_TippyOptions.bindClick(opts,link);
		} else {
			var text = this.field.access(kb);
			out.appendChild(window.document.createTextNode(text));
		}
	}
	,buildEditor: function(out,store,restore) {
		table_StringColumn.prototype.buildEditor.call(this,out,store,restore);
		this.editorField.placeholder = "Cool Keyboard";
		out.appendChild(window.document.createElement("br"));
		var textarea = window.document.createElement("textarea");
		textarea.style.marginTop = "0.25em";
		textarea.placeholder = "One image URL per line";
		out.appendChild(textarea);
		store.push(function(kb) {
			var text = textarea.value;
			if(StringTools.trim(text) == "") {
				return;
			}
			kb.img = text.split("\n");
		});
		restore.push(function(kb) {
			var arr = kb.img;
			if(arr == null) {
				textarea.value = "";
			} else {
				textarea.value = arr.join("\n");
			}
		});
		var notes = window.document.createElement("textarea");
		notes.style.marginTop = "0.25em";
		notes.placeholder = "One paragraph of notes per line";
		out.appendChild(notes);
		store.push(function(kb) {
			var text = notes.value;
			if(StringTools.trim(text) == "") {
				return;
			}
			kb.notes = text.split("\n");
		});
		restore.push(function(kb) {
			var arr = kb.notes;
			if(arr == null) {
				notes.value = "";
			} else {
				notes.value = arr.join("\n");
			}
		});
	}
	,save: function(kb) {
		var arr = kb.img;
		if(arr != null && arr.length == 1) {
			arr = arr[0];
			kb.img = arr;
		}
		arr = kb.notes;
		if(arr != null && arr.length == 1) {
			arr = arr[0];
			kb.notes = arr;
		}
	}
	,load: function(kb) {
		if(typeof(kb.img) == "string") {
			kb.img = [kb.img];
		}
		if(typeof(kb.notes) == "string") {
			kb.notes = [kb.notes];
		}
	}
	,__class__: table_NameColumn
});
var table_ParentColumn = function(name,field) {
	table_StringColumn.call(this,name,field);
	this.emptyToNull = true;
	this.canFilter = false;
};
table_ParentColumn.__name__ = true;
table_ParentColumn.__super__ = table_StringColumn;
table_ParentColumn.prototype = $extend(table_StringColumn.prototype,{
	buildEditor: function(out,store,restore) {
		var _gthis = this;
		table_StringColumn.prototype.buildEditor.call(this,out,store,restore);
		out.appendChild(window.document.createElement("br"));
		var def = "Pick a keyboard?";
		var selector = window.document.createElement("select");
		var _this = this.table.values;
		var result = new Array(_this.length);
		var _g = 0;
		var _g1 = _this.length;
		while(_g < _g1) {
			var i = _g++;
			result[i] = _this[i].name;
		}
		result.sort(function(a,b) {
			if(a.toLowerCase() < b.toLowerCase()) {
				return -1;
			} else {
				return 1;
			}
		});
		result.unshift(def);
		var _g = 0;
		while(_g < result.length) {
			var name = result[_g];
			++_g;
			var opt = window.document.createElement("option");
			opt.value = name;
			opt.text = name;
			selector.appendChild(opt);
		}
		selector.value = def;
		selector.onchange = function(_) {
			if(selector.value == def) {
				return;
			}
			_gthis.editorField.value = selector.value;
			selector.value = def;
		};
		out.appendChild(selector);
	}
	,__class__: table_ParentColumn
});
var table_number_NumberColumnBase = function(name) {
	this.sliderStep = 1;
	this.suffix = "";
	this.filterIncludeNullCheckbox = null;
	this.filterIncludeNullLabel = null;
	this.filterIncludeNull = false;
	this.filterMaxCheckbox = null;
	this.filterMaxSlider = null;
	this.filterMaxField = null;
	this.filterMaxDefault = null;
	this.filterMax = null;
	this.filterMinCheckbox = null;
	this.filterMinSlider = null;
	this.filterMinField = null;
	this.filterMinDefault = null;
	this.filterMin = null;
	table_FancyColumn.call(this,name);
	this.canSort = true;
};
table_number_NumberColumnBase.__name__ = true;
table_number_NumberColumnBase.__super__ = table_FancyColumn;
table_number_NumberColumnBase.prototype = $extend(table_FancyColumn.prototype,{
	field: null
	,getId: function() {
		return this.field.name;
	}
	,filterMin: null
	,filterMinDefault: null
	,filterMinField: null
	,filterMinSlider: null
	,filterMinCheckbox: null
	,filterMax: null
	,filterMaxDefault: null
	,filterMaxField: null
	,filterMaxSlider: null
	,filterMaxCheckbox: null
	,filterIncludeNull: null
	,filterIncludeNullLabel: null
	,filterIncludeNullCheckbox: null
	,suffix: null
	,sliderStep: null
	,parseFilterValue: function(val) {
		return null;
	}
	,getKnownRange: function(keyboards) {
		return null;
	}
	,buildFilter: function(out) {
		var _gthis = this;
		out.classList.add("number");
		var knownRange = this.getKnownRange(this.table.values);
		if(knownRange != null) {
			tools_HtmlTools.appendDivTextNode(out,"Available range: " + type_NumRange.toString(knownRange));
		}
		var setValues = [];
		var _g = 0;
		while(_g < 2) {
			var step = _g++;
			var isMin = [step == 0];
			var startVal = isMin[0] ? _gthis.filterMin : _gthis.filterMax;
			var fd = [window.document.createElement("input")];
			var slider = [window.document.createElement("input")];
			slider[0].type = "range";
			if(isMin[0]) {
				fd[0].id = this.field.name + "-min";
				slider[0].id = this.field.name + "-min-slider";
				this.filterMinField = fd[0];
				this.filterMinSlider = slider[0];
			} else {
				fd[0].id = this.field.name + "-max";
				slider[0].id = this.field.name + "-max-slider";
				this.filterMaxField = fd[0];
				this.filterMaxSlider = slider[0];
			}
			fd[0].type = "number";
			if(knownRange != null) {
				var val;
				if(isMin[0]) {
					var tmp = this.filterMinDefault;
					val = "" + Std.string(tmp != null ? tmp : knownRange.min);
				} else {
					var tmp1 = this.filterMaxDefault;
					val = "" + Std.string(tmp1 != null ? tmp1 : knownRange.max);
				}
				fd[0].value = val;
				fd[0].onkeydown = (function(fd) {
					return function(e) {
						var delta;
						switch(e.code) {
						case "ArrowDown":
							delta = 1;
							break;
						case "ArrowUp":
							delta = -1;
							break;
						default:
							return;
						}
						fd[0].valueAsNumber += delta * _gthis.sliderStep;
						e.preventDefault();
					};
				})(fd);
				slider[0].value = val;
				slider[0].step = Std.string(this.sliderStep);
				slider[0].min = "" + Std.string(knownRange.min);
				slider[0].max = "" + Std.string(knownRange.max);
			}
			slider[0].disabled = fd[0].disabled = startVal == null;
			if(startVal != null) {
				slider[0].value = fd[0].value = "" + Std.string(startVal);
			}
			var setValue = [(function(enforceTimeout,slider,fd,isMin) {
				return function(val,kind) {
					if((isMin[0] ? _gthis.filterMin : _gthis.filterMax) != val) {
						if(val != null) {
							if(kind != 0) {
								fd[0].value = "" + Std.string(val);
							}
							if(kind != 1) {
								slider[0].value = "" + Std.string(val);
							}
						}
						if(isMin[0]) {
							_gthis.filterMin = val;
						} else {
							_gthis.filterMax = val;
						}
						if(val != null && kind != -1) {
							if(enforceTimeout[0] != -1) {
								window.clearTimeout(enforceTimeout[0]);
							}
							enforceTimeout[0] = window.setTimeout((function(isMin) {
								return function() {
									if(isMin[0]) {
										if(_gthis.filterMax != null && _gthis.filterMax < _gthis.filterMin) {
											setValues[1](val,-1);
										}
									} else if(_gthis.filterMin != null && _gthis.filterMin > _gthis.filterMax) {
										setValues[0](val,-1);
									}
								};
							})(isMin),1000);
						}
						_gthis.table.updateFilters();
					}
				};
			})([-1],slider,fd,isMin)];
			setValues[step] = setValue[0];
			var setFdValue = [(function(setValue,fd,isMin) {
				return function(soft) {
					var val = _gthis.parseFilterValue(fd[0].value);
					tools_HtmlTools.setAttributeFlag(fd[0],"invalid",val == null);
					if(soft && val != null) {
						if(isMin[0]) {
							if(_gthis.filterMax != null && val > _gthis.filterMax) {
								setValue[0](_gthis.filterMax,-1);
								return;
							}
						} else if(_gthis.filterMin != null && val < _gthis.filterMin) {
							setValue[0](_gthis.filterMin,-1);
							return;
						}
					}
					setValue[0](val,0);
				};
			})(setValue,fd,isMin)];
			var setSliderValue = [(function(sliderTimeout,setValue,slider,fd) {
				return function() {
					if(sliderTimeout[0] != -1) {
						window.clearTimeout(sliderTimeout[0]);
					}
					fd[0].value = slider[0].value;
					sliderTimeout[0] = window.setTimeout((function(sliderTimeout,setValue,slider,fd) {
						return function() {
							sliderTimeout[0] = -1;
							var val = _gthis.parseFilterValue(slider[0].value);
							tools_HtmlTools.setAttributeFlag(fd[0],"invalid",val == null);
							setValue[0](val,1);
						};
					})(sliderTimeout,setValue,slider,fd),250);
				};
			})([-1],setValue,slider,fd)];
			fd[0].onchange = (function(setFdValue) {
				return function(_) {
					setFdValue[0]();
				};
			})(setFdValue);
			fd[0].onkeydown = (function(setFdValue) {
				return function(_) {
					setFdValue[0]();
				};
			})(setFdValue);
			fd[0].onkeyup = (function(setFdValue) {
				return function(_) {
					setFdValue[0]();
				};
			})(setFdValue);
			slider[0].onchange = (function(setSliderValue) {
				return function(_) {
					setSliderValue[0]();
				};
			})(setSliderValue);
			slider[0].oninput = (function(setSliderValue) {
				return function(_) {
					setSliderValue[0]();
				};
			})(setSliderValue);
			var cb = [tools_HtmlTools.createCheckboxElement(window.document)];
			cb[0].checked = startVal != null;
			cb[0].onchange = (function(cb,setFdValue,setValue,slider,fd) {
				return function(_) {
					fd[0].disabled = !cb[0].checked;
					slider[0].disabled = fd[0].disabled;
					if(cb[0].checked) {
						setFdValue[0](true);
					} else {
						setValue[0](null,-1);
					}
				};
			})(cb,setFdValue,setValue,slider,fd);
			if(isMin[0]) {
				this.filterMinCheckbox = cb[0];
				cb[0].id = this.field.name + "-min-cb";
			} else {
				this.filterMaxCheckbox = cb[0];
				cb[0].id = this.field.name + "-max-cb";
			}
			var lb = window.document.createElement("label");
			lb.appendChild(cb[0]);
			lb.appendChild(window.document.createTextNode((isMin[0] ? "min" : "max") + ": "));
			var div = window.document.createElement("div");
			div.classList.add("numrow");
			div.appendChild(lb);
			div.appendChild(fd[0]);
			div.appendChild(slider[0]);
			out.appendChild(div);
		}
		if(this.filterIncludeNullLabel != null) {
			var cb1 = tools_HtmlTools.createCheckboxElement(window.document);
			cb1.checked = this.filterIncludeNull;
			cb1.id = this.field.name + "-null-cb";
			cb1.onchange = function(_) {
				_gthis.filterIncludeNull = cb1.checked;
				_gthis.table.updateFilters();
			};
			this.filterIncludeNullCheckbox = cb1;
			var lb = window.document.createElement("label");
			lb.appendChild(cb1);
			var text = this.filterIncludeNullLabel;
			lb.appendChild(window.document.createTextNode(text));
			var div = window.document.createElement("div");
			div.appendChild(lb);
			out.appendChild(div);
		}
	}
	,saveFilterParams: function(out) {
		if(this.filterMin != null && this.filterMax != null) {
			out[this.field.name] = Std.string(this.filterMin) + "~" + Std.string(this.filterMax);
		} else {
			if(this.filterMin != null) {
				out[this.field.name + "-min"] = "" + Std.string(this.filterMin);
			}
			if(this.filterMax != null) {
				out[this.field.name + "-max"] = "" + Std.string(this.filterMax);
			}
		}
		if(this.filterIncludeNullLabel != null && this.filterIncludeNull) {
			out[this.field.name + "-null"] = "";
		}
	}
	,loadFilterParams: function(obj) {
		var ret = false;
		var val = obj[this.field.name];
		if(val != null) {
			ret = true;
			var pos = val.indexOf("~");
			var minv;
			var maxv;
			if(pos >= 0) {
				minv = val.substring(0,pos);
				maxv = val.substring(pos + 1);
			} else {
				minv = val;
				maxv = val;
			}
			this.filterMinCheckbox.checked = true;
			tools_HtmlTools.triggerChange(this.filterMinCheckbox);
			this.filterMinField.value = minv;
			tools_HtmlTools.triggerChange(this.filterMinField);
			this.filterMaxCheckbox.checked = true;
			tools_HtmlTools.triggerChange(this.filterMaxCheckbox);
			this.filterMaxField.value = maxv;
			tools_HtmlTools.triggerChange(this.filterMaxField);
		} else {
			val = obj[this.field.name + "-min"];
			this.filterMinCheckbox.checked = val != null;
			tools_HtmlTools.triggerChange(this.filterMinCheckbox);
			if(val != null) {
				ret = true;
				this.filterMinField.value = val;
				tools_HtmlTools.triggerChange(this.filterMinField);
			}
			val = obj[this.field.name + "-max"];
			this.filterMaxCheckbox.checked = val != null;
			tools_HtmlTools.triggerChange(this.filterMaxCheckbox);
			if(val != null) {
				ret = true;
				this.filterMaxField.value = val;
				tools_HtmlTools.triggerChange(this.filterMaxField);
			}
		}
		if(this.filterIncludeNullCheckbox != null) {
			val = obj[this.field.name + "-null"];
			this.filterIncludeNullCheckbox.checked = val != null;
			tools_HtmlTools.triggerChange(this.filterIncludeNullCheckbox);
			if(val != null) {
				ret = true;
			}
		}
		return ret;
	}
	,__class__: table_number_NumberColumnBase
});
var table_number_NumberColumn = function(name,field) {
	this.defaultValue = 0;
	table_number_NumberColumnBase.call(this,name);
	this.field = field;
};
table_number_NumberColumn.__name__ = true;
table_number_NumberColumn.parseIntValue = function(val) {
	if(val == null) {
		return null;
	}
	return Std.parseInt(val);
};
table_number_NumberColumn.parseFloatValue = function(val) {
	if(val == null) {
		return null;
	}
	val = StringTools.replace(val,",",".");
	var f = parseFloat(val);
	if(isNaN(f)) {
		return null;
	}
	return f;
};
table_number_NumberColumn.compareNumbers = function(a,b) {
	if(a < b) {
		return -1;
	}
	if(a > b) {
		return 1;
	}
	return 0;
};
table_number_NumberColumn.__super__ = table_number_NumberColumnBase;
table_number_NumberColumn.prototype = $extend(table_number_NumberColumnBase.prototype,{
	defaultValue: null
	,getKnownRange: function(keyboards) {
		var min = null;
		var max = null;
		var _g = 0;
		while(_g < keyboards.length) {
			var val = this.field.access(keyboards[_g++]);
			if(val == null || !isFinite(val)) {
				continue;
			}
			if(min == null || val < min) {
				min = val;
			}
			if(max == null || val > max) {
				max = val;
			}
		}
		if(min != null) {
			return { min : min, max : max};
		} else {
			return null;
		}
	}
	,buildValue: function(out,kb) {
		var val = this.field.access(kb);
		var text = val != null ? "" + Std.string(val) : this.nullCaption;
		out.appendChild(window.document.createTextNode(text));
	}
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		var fd = window.document.createElement("input");
		fd.type = "number";
		fd.onchange = function() {
			var val = _gthis.parseFilterValue(fd.value);
			tools_HtmlTools.setAttributeFlag(fd,"invalid",fd.value != "" && val == null);
		};
		out.appendChild(fd);
		store.push(function(kb) {
			var val = _gthis.parseFilterValue(fd.value);
			if(val != null) {
				_gthis.field.access(kb,true,val);
			}
		});
		restore.push(function(kb) {
			var val = _gthis.field.access(kb);
			fd.value = val != null ? "" + Std.string(val) : "";
		});
	}
	,matchesFilter: function(kb) {
		var val = this.field.access(kb);
		if(val == null) {
			if(this.filterIncludeNull) {
				return true;
			}
			val = this.defaultValue;
		}
		if(this.filterMin != null && val < this.filterMin) {
			return false;
		}
		if(this.filterMax != null && val > this.filterMax) {
			return false;
		}
		return true;
	}
	,compareValues: function(a,b,ascending) {
		var tmp = this.field.access(a);
		var av = tmp != null ? tmp : this.defaultValue;
		var tmp = this.field.access(b);
		var bv = tmp != null ? tmp : this.defaultValue;
		if(ascending) {
			return table_number_NumberColumn.compareNumbers(av,bv);
		}
		return table_number_NumberColumn.compareNumbers(bv,av);
	}
	,__class__: table_number_NumberColumn
});
var table_number_FloatColumn = function(name,field) {
	table_number_NumberColumn.call(this,name,field);
};
table_number_FloatColumn.__name__ = true;
table_number_FloatColumn.__super__ = table_number_NumberColumn;
table_number_FloatColumn.prototype = $extend(table_number_NumberColumn.prototype,{
	parseFilterValue: function(val) {
		return table_number_NumberColumn.parseFloatValue(val);
	}
	,__class__: table_number_FloatColumn
});
var table_number_NumberRangeColumn = function(name,field) {
	this.defaultValue = { min : 0, max : 0};
	table_number_NumberColumnBase.call(this,name);
	this.field = field;
};
table_number_NumberRangeColumn.__name__ = true;
table_number_NumberRangeColumn.__super__ = table_number_NumberColumnBase;
table_number_NumberRangeColumn.prototype = $extend(table_number_NumberColumnBase.prototype,{
	defaultValue: null
	,getKnownRange: function(keyboards) {
		var min = null;
		var max = null;
		var _g = 0;
		while(_g < keyboards.length) {
			var range = this.field.access(keyboards[_g++]);
			if(range != null) {
				if(min == null || range.min < min) {
					min = range.min;
				}
				if(max == null || range.max > max) {
					max = range.max;
				}
			}
		}
		if(min != null) {
			return { min : min, max : max};
		} else {
			return null;
		}
	}
	,buildFilter: function(out) {
		this.filterIncludeNull = false;
		table_number_NumberColumnBase.prototype.buildFilter.call(this,out);
	}
	,buildValue: function(out,kb) {
		var range = this.field.access(kb);
		var text = range != null ? type_NumRange.toString(range) + this.suffix : this.nullCaption;
		tools_HtmlTools.setTippyTitle(tools_HtmlTools.appendElTextNode(out,"span",text),[kb.name,this.name + ":",text].join("\n"));
	}
	,matchesFilter: function(kb) {
		var tmp = this.field.access(kb);
		var val = tmp != null ? tmp : this.defaultValue;
		if(this.filterMin != null && val.max < this.filterMin) {
			return false;
		}
		if(this.filterMax != null && val.min > this.filterMax) {
			return false;
		}
		return true;
	}
	,compareValues: function(a,b,ascending) {
		var tmp = this.field.access(a);
		var ar = tmp != null ? tmp : this.defaultValue;
		var tmp = this.field.access(b);
		var br = tmp != null ? tmp : this.defaultValue;
		if(ascending) {
			return table_number_NumberColumn.compareNumbers(ar.min,br.min);
		} else {
			return table_number_NumberColumn.compareNumbers(br.max,ar.max);
		}
	}
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		var fds = [];
		out.classList.add("range");
		var fd = window.document.createElement("input");
		fd.type = "number";
		fd.onchange = function() {
			var val = _gthis.parseFilterValue(fd.value);
			tools_HtmlTools.setAttributeFlag(fd,"invalid",fd.value != "" && val == null);
		};
		fd.placeholder = "min";
		fds.push(fd);
		out.appendChild(fd);
		var text = String.fromCodePoint(160) + ".." + String.fromCodePoint(160);
		out.appendChild(window.document.createTextNode(text));
		var fd1 = window.document.createElement("input");
		fd1.type = "number";
		fd1.onchange = function() {
			var val = _gthis.parseFilterValue(fd1.value);
			tools_HtmlTools.setAttributeFlag(fd1,"invalid",fd1.value != "" && val == null);
		};
		fd1.placeholder = "max";
		fds.push(fd1);
		out.appendChild(fd1);
		store.push(function(kb) {
			var min = _gthis.parseFilterValue(fds[0].value);
			var max = _gthis.parseFilterValue(fds[1].value);
			if(min == null && max == null) {
				return;
			}
			if(max == null) {
				max = min;
			} else if(min == null) {
				min = max;
			}
			_gthis.field.access(kb,true,{ min : min, max : max});
		});
		restore.push(function(kb) {
			var range = _gthis.field.access(kb);
			if(range == null) {
				fds[0].value = "";
				fds[1].value = "";
			} else {
				fds[0].value = "" + Std.string(range.min);
				fds[1].value = range.max != range.min ? "" + Std.string(range.max) : "";
			}
		});
	}
	,save: function(kb) {
		var val = this.field.access(kb);
		if(val != null && val.min == val.max) {
			this.field.access(kb,true,val.min);
		}
	}
	,load: function(kb) {
		var val = this.field.access(kb);
		if(((val) instanceof Array)) {
			var arr = val;
			this.field.access(kb,true,{ min : arr[0], max : arr[1]});
		} else if(typeof(val) == "number") {
			var num = val;
			this.field.access(kb,true,{ min : num, max : num});
		}
	}
	,__class__: table_number_NumberRangeColumn
});
var table_number_IntRangeColumn = function(name,field) {
	table_number_NumberRangeColumn.call(this,name,field);
};
table_number_IntRangeColumn.__name__ = true;
table_number_IntRangeColumn.__super__ = table_number_NumberRangeColumn;
table_number_IntRangeColumn.prototype = $extend(table_number_NumberRangeColumn.prototype,{
	parseFilterValue: function(val) {
		return table_number_NumberColumn.parseIntValue(val);
	}
	,__class__: table_number_IntRangeColumn
});
var table_number_NumberRangeListColumn = function(name,field) {
	this.defaultValue = [];
	table_number_NumberColumnBase.call(this,name);
	this.field = field;
};
table_number_NumberRangeListColumn.__name__ = true;
table_number_NumberRangeListColumn.__super__ = table_number_NumberColumnBase;
table_number_NumberRangeListColumn.prototype = $extend(table_number_NumberColumnBase.prototype,{
	defaultValue: null
	,getKnownRange: function(keyboards) {
		var min = null;
		var max = null;
		var _g = 0;
		while(_g < keyboards.length) {
			var ranges = this.field.access(keyboards[_g++]);
			if(ranges != null) {
				var _g1 = 0;
				var _g2 = ranges;
				while(_g1 < _g2.length) {
					var range = _g2[_g1];
					++_g1;
					if(min == null || range.min < min) {
						min = range.min;
					}
					if(max == null || range.max > max) {
						max = range.max;
					}
				}
			}
		}
		if(min != null) {
			return { min : min, max : max};
		} else {
			return null;
		}
	}
	,buildFilter: function(out) {
		this.filterIncludeNull = false;
		table_number_NumberColumnBase.prototype.buildFilter.call(this,out);
	}
	,buildValue: function(out,kb) {
		var range = this.field.access(kb);
		var text = range != null ? type_NumRangeList.toString(range) + this.suffix : this.nullCaption;
		tools_HtmlTools.setTippyTitle(tools_HtmlTools.appendElTextNode(out,"span",text),[kb.name,this.name + ":",text].join("\n"));
	}
	,matchesFilter: function(kb) {
		var tmp = this.field.access(kb);
		var _g = 0;
		var _g1 = tmp != null ? tmp : this.defaultValue;
		while(_g < _g1.length) {
			var val = _g1[_g];
			++_g;
			if(this.filterMin != null && val.max < this.filterMin) {
				continue;
			}
			if(this.filterMax != null && val.min > this.filterMax) {
				continue;
			}
			return true;
		}
		return false;
	}
	,compareValues: function(a,b,ascending) {
		var tmp = this.field.access(a);
		var ar = tmp != null ? tmp : this.defaultValue;
		var tmp = this.field.access(b);
		var br = tmp != null ? tmp : this.defaultValue;
		var av;
		var bv;
		if(ascending) {
			av = type_NumRangeList.calcMin(ar);
			bv = type_NumRangeList.calcMin(br);
			if(av == null) {
				if(bv == null) {
					return 0;
				} else {
					return -1;
				}
			} else if(bv == null) {
				return 1;
			}
			return table_number_NumberColumn.compareNumbers(av,bv);
		} else {
			av = type_NumRangeList.calcMax(ar);
			bv = type_NumRangeList.calcMax(br);
			if(av == null) {
				if(bv == null) {
					return 0;
				} else {
					return -1;
				}
			} else if(bv == null) {
				return 1;
			}
			return table_number_NumberColumn.compareNumbers(bv,av);
		}
	}
	,parseLines: function(text) {
		var lines = StringTools.trim(text).split("\n");
		var ranges = [];
		var _g = 0;
		while(_g < lines.length) {
			var line = lines[_g];
			++_g;
			line = StringTools.trim(line);
			if(line == "") {
				continue;
			}
			var mt = table_number_NumberRangeListColumn.rxRange.exec(line);
			if(mt != null) {
				var a = this.parseFilterValue(mt[1]);
				if(a == null) {
					table_number_NumberRangeListColumn.parseLinesError = "Invalid \"from\" in \"" + line + "\"";
					return null;
				}
				var b = this.parseFilterValue(mt[3]);
				if(b == null) {
					table_number_NumberRangeListColumn.parseLinesError = "Invalid \"to\" in \"" + line + "\"";
					return null;
				}
				ranges.push({ min : a, max : b});
			} else {
				var v = this.parseFilterValue(line);
				if(v == null) {
					table_number_NumberRangeListColumn.parseLinesError = "Invalid value in \"" + line + "\"";
					return null;
				}
				ranges.push(type_NumRange.fromValue(v));
			}
		}
		return ranges;
	}
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		var fd = window.document.createElement("textarea");
		fd.rows = 3;
		fd.placeholder = ["One value/range per line, e.g.","42","42..44"].join("\n");
		fd.onchange = function() {
			var ranges = _gthis.parseLines(fd.value);
			tools_HtmlTools.setAttributeFlag(fd,"invalid",ranges == null);
			if(ranges == null) {
				fd.title = table_number_NumberRangeListColumn.parseLinesError;
			} else {
				fd.removeAttribute("title");
			}
		};
		out.appendChild(fd);
		store.push(function(kb) {
			var ranges = _gthis.parseLines(fd.value);
			if(ranges == null || ranges.length == 0) {
				return;
			}
			_gthis.field.access(kb,true,ranges);
		});
		restore.push(function(kb) {
			var ranges = _gthis.field.access(kb);
			if(ranges == null || ranges.length == 0) {
				fd.value = "";
			} else {
				var result = new Array(ranges.length);
				var _g = 0;
				var _g1 = ranges.length;
				while(_g < _g1) {
					var i = _g++;
					result[i] = type_NumRange.toString(ranges[i]);
				}
				fd.value = result.join("\n");
			}
		});
	}
	,save: function(kb) {
		var ranges = this.field.access(kb);
		if(ranges != null) {
			if(ranges.length == 1) {
				var first = ranges[0];
				if(!((first) instanceof Array)) {
					if(first.min == first.max) {
						this.field.access(kb,true,first.min);
					} else {
						this.field.access(kb,true,first);
					}
				}
			} else {
				var changed = false;
				var _g = 0;
				var _g1 = ranges.length;
				while(_g < _g1) {
					var i = _g++;
					var range = ranges[i];
					if(!((range) instanceof Array)) {
						if(range.min == range.max) {
							if(!changed) {
								changed = true;
								ranges = ranges.slice();
								this.field.access(kb,true,ranges);
							}
							ranges[i] = [range.min];
						}
					}
				}
			}
		}
	}
	,load: function(kb) {
		var val = this.field.access(kb);
		if(((val) instanceof Array)) {
			if(val.length == 2 && typeof(val[0]) == "number" && typeof(val[1]) == "number") {
				var vala = val;
				this.field.access(kb,true,[{ min : vala[0], max : vala[1]}]);
			} else {
				var _g_current = 0;
				var _g_array = val;
				while(_g_current < _g_array.length) {
					var _g_value = _g_array[_g_current];
					var _g_key = _g_current++;
					if(((_g_value) instanceof Array)) {
						var suba = _g_value;
						if(suba.length >= 2) {
							val[_g_key] = { min : suba[0], max : suba[1]};
						} else {
							val[_g_key] = type_NumRange.fromValue(suba[0]);
						}
					} else if(typeof(_g_value) == "number") {
						val[_g_key] = type_NumRange.fromValue(_g_value);
					}
				}
			}
		} else if(Reflect.isObject(val)) {
			this.field.access(kb,true,[val]);
		} else if(typeof(val) == "number") {
			var num = val;
			this.field.access(kb,true,[{ min : num, max : num}]);
		}
	}
	,__class__: table_number_NumberRangeListColumn
});
var table_number_IntRangeListColumn = function(name,field) {
	table_number_NumberRangeListColumn.call(this,name,field);
};
table_number_IntRangeListColumn.__name__ = true;
table_number_IntRangeListColumn.__super__ = table_number_NumberRangeListColumn;
table_number_IntRangeListColumn.prototype = $extend(table_number_NumberRangeListColumn.prototype,{
	parseFilterValue: function(val) {
		return table_number_NumberColumn.parseIntValue(val);
	}
	,__class__: table_number_IntRangeListColumn
});
var table_tag_TagLikeColumnBase = function(name,field) {
	this.filterModeSelect = null;
	this.filterMode = table_tag_TagFilterMode.AnyOf;
	this.isMulti = false;
	this.filterCheckboxes = [];
	this.filterTags = [];
	this.columnCount = 1;
	this.defaultValue = null;
	table_FancyColumn.call(this,name);
	this.field = field;
};
table_tag_TagLikeColumnBase.__name__ = true;
table_tag_TagLikeColumnBase.__super__ = table_FancyColumn;
table_tag_TagLikeColumnBase.prototype = $extend(table_FancyColumn.prototype,{
	field: null
	,defaultValue: null
	,columnCount: null
	,getId: function() {
		return this.field.name;
	}
	,getTagNames: null
	,tagToName: null
	,nameToTag: null
	,getFilterLabel: null
	,getShortLabel: null
	,getShortNotes: function(item,val) {
		return null;
	}
	,showInEditor: function(val) {
		return true;
	}
	,filterTags: null
	,filterCheckboxes: null
	,isMulti: null
	,filterMode: null
	,filterModeSelect: null
	,getValue: function(item) {
		var tmp = this.field.access(item);
		if(tmp != null) {
			return tmp;
		} else {
			return this.defaultValue;
		}
	}
	,tagsContain: function(tags,tag) {
		return tags.indexOf(tag) != -1;
	}
	,showInFilters: function(val) {
		return true;
	}
	,getFilterNotes: function(val) {
		return null;
	}
	,appendFilterNotes: function(out) {
		var ul = null;
		var _g = 0;
		var _g1 = this.getTagNames();
		while(_g < _g1.length) {
			var tag = this.nameToTag(_g1[_g++]);
			if(!this.showInFilters(tag)) {
				continue;
			}
			var notes = this.getFilterNotes(tag);
			if(notes == null) {
				continue;
			}
			if(ul == null) {
				ul = tools_HtmlTools.appendElTextNode(out,"ul");
			}
			var li = tools_HtmlTools.appendElTextNode(ul,"li");
			tools_HtmlTools.appendElTextNode(li,"b",this.getFilterLabel(tag));
			tools_HtmlTools.appendElTextNode(li,"br");
			var sep = false;
			var _g2 = 0;
			var _g3 = notes.split("\n");
			while(_g2 < _g3.length) {
				var line = _g3[_g2++];
				if(sep) {
					li.appendChild(window.document.createElement("br"));
				} else {
					sep = true;
				}
				li.appendChild(window.document.createTextNode(line));
			}
		}
	}
	,buildUsedValues: function() {
	}
	,buildFilter: function(out) {
		var _gthis = this;
		this.buildUsedValues();
		var modeSelect = window.document.createElement("select");
		var _g = 0;
		var _this = table_tag_TagFilterMode.__constructs__;
		var result = new Array(_this.length);
		var _g1 = 0;
		var _g2 = _this.length;
		while(_g1 < _g2) {
			var i = _g1++;
			result[i] = _this[i]._hx_name;
		}
		while(_g < result.length) {
			var ctr = result[_g];
			++_g;
			var val = Type.createEnum(table_tag_TagFilterMode,ctr,null);
			var name;
			switch(val._hx_index) {
			case 0:
				name = "Any of these";
				break;
			case 1:
				if(!this.isMulti) {
					continue;
				}
				name = "All of these";
				break;
			case 2:
				name = "None of these";
				break;
			}
			var opt = window.document.createElement("option");
			opt.value = ctr;
			opt.appendChild(window.document.createTextNode(name));
			if(val == table_tag_TagFilterMode.AnyOf) {
				opt.selected = true;
			}
			modeSelect.appendChild(opt);
		}
		modeSelect.onchange = function(_) {
			var old = _gthis.filterMode;
			var tmp = Type.createEnum(table_tag_TagFilterMode,modeSelect.value,null);
			_gthis.filterMode = tmp != null ? tmp : table_tag_TagFilterMode.AnyOf;
			if(old != _gthis.filterMode) {
				_gthis.table.updateFilters();
			}
		};
		this.filterModeSelect = modeSelect;
		out.appendChild(modeSelect);
		var optCtr = tools_HtmlTools.appendElTextNode(out,"div");
		optCtr.classList.add("tag-options");
		optCtr.setAttribute("column-count","" + this.columnCount);
		var _g = 0;
		var _g1 = this.getTagNames();
		while(_g < _g1.length) {
			var ctr = _g1[_g];
			++_g;
			var val = [this.nameToTag(ctr)];
			if(!this.showInFilters(val[0])) {
				continue;
			}
			var name = this.getFilterLabel(val[0]);
			var cb = [tools_HtmlTools.createCheckboxElement(window.document)];
			cb[0].checked = this.filterTags.indexOf(val[0]) != -1;
			cb[0].id = this.field.name + "-" + ctr;
			cb[0].onchange = (function(cb,val) {
				return function(_) {
					if(cb[0].checked) {
						if(_gthis.filterTags.indexOf(val[0]) == -1) {
							_gthis.filterTags.push(val[0]);
							_gthis.table.updateFilters();
						}
					} else if(HxOverrides.remove(_gthis.filterTags,val[0])) {
						_gthis.table.updateFilters();
					}
				};
			})(cb,val);
			this.filterCheckboxes.push(cb[0]);
			var lb = window.document.createElement("label");
			lb.appendChild(cb[0]);
			lb.appendChild(window.document.createTextNode(name));
			var div = window.document.createElement("div");
			div.appendChild(lb);
			optCtr.appendChild(div);
		}
	}
	,saveFilterParams: function(obj) {
		var name = this.field.name;
		if(this.filterMode != table_tag_TagFilterMode.AnyOf) {
			var e = this.filterMode;
			obj[name + "-mode"] = $hxEnums[e.__enum__].__constructs__[e._hx_index]._hx_name;
		}
		var _this = this.filterTags;
		var result = new Array(_this.length);
		var _g = 0;
		var _g1 = _this.length;
		while(_g < _g1) {
			var i = _g++;
			result[i] = this.tagToName(_this[i]);
		}
		if(result.length > 0) {
			obj[name] = result.join("~");
		}
	}
	,loadFilterParams: function(obj) {
		var name = this.field.name;
		var mode = obj[name + "-mode"];
		var ret = false;
		if(mode != null) {
			try {
				this.filterMode = Type.createEnum(table_tag_TagFilterMode,mode,null);
				this.filterModeSelect.value = mode;
				tools_HtmlTools.triggerChange(this.filterModeSelect);
				ret = true;
			} catch( _g ) {
				$global.console.error("Invalid filter mode " + mode + " for " + name);
			}
		}
		var listStr = obj[name];
		if(listStr != null) {
			var list = listStr.split("~");
			var _g = 0;
			var _g1 = this.filterCheckboxes;
			while(_g < _g1.length) {
				var cb = _g1[_g];
				++_g;
				cb.checked = false;
				tools_HtmlTools.triggerChange(cb);
			}
			var _g = 0;
			while(_g < list.length) {
				var item = list[_g++];
				var _g1 = [];
				var _g2 = 0;
				var _g3 = this.filterCheckboxes;
				while(_g2 < _g3.length) {
					var v = _g3[_g2];
					++_g2;
					if(v.id == name + "-" + item) {
						_g1.push(v);
					}
				}
				var cb = _g1[0];
				if(cb != null) {
					cb.checked = true;
					tools_HtmlTools.triggerChange(cb);
					ret = true;
				}
			}
		}
		return ret;
	}
	,getVisibleTagNamesForLegends: function() {
		return [];
	}
	,getLegends: function() {
		var names = this.getVisibleTagNamesForLegends();
		var arr = [];
		var _g = 0;
		while(_g < names.length) {
			var val = this.nameToTag(names[_g++]);
			var short = this.getShortLabel(val);
			var long = this.getFilterLabel(val);
			if(short == long) {
				continue;
			}
			arr.push(new table_FancyColumnLegend(short,long));
		}
		return arr;
	}
	,__class__: table_tag_TagLikeColumnBase
});
var table_tag_StringTagColumnBase = function(name,field,tags) {
	this.usedValues = new haxe_ds_StringMap();
	this.shortLabels = new haxe_ds_StringMap();
	this.filterLabels = new haxe_ds_StringMap();
	table_tag_TagLikeColumnBase.call(this,name,field);
	this.tags = tags;
};
table_tag_StringTagColumnBase.__name__ = true;
table_tag_StringTagColumnBase.__super__ = table_tag_TagLikeColumnBase;
table_tag_StringTagColumnBase.prototype = $extend(table_tag_TagLikeColumnBase.prototype,{
	tags: null
	,filterLabels: null
	,shortLabels: null
	,getTagNames: function() {
		return this.tags;
	}
	,tagToName: function(val) {
		return val;
	}
	,nameToTag: function(name) {
		if(this.tags.indexOf(name) != -1) {
			return name;
		} else {
			return null;
		}
	}
	,getFilterLabel: function(val) {
		var tmp = this.filterLabels.h[val];
		if(tmp != null) {
			return tmp;
		} else {
			return val;
		}
	}
	,getShortLabel: function(val) {
		var tmp = this.shortLabels.h[val];
		if(tmp != null) {
			return tmp;
		} else {
			return val;
		}
	}
	,usedValues: null
	,showInFilters: function(val) {
		return Object.prototype.hasOwnProperty.call(this.usedValues.h,val);
	}
	,__class__: table_tag_StringTagColumnBase
});
var table_tag_StringTagListColumn = function(name,field,tags) {
	table_tag_StringTagColumnBase.call(this,name,field,tags);
	this.isMulti = true;
};
table_tag_StringTagListColumn.__name__ = true;
table_tag_StringTagListColumn.__super__ = table_tag_StringTagColumnBase;
table_tag_StringTagListColumn.prototype = $extend(table_tag_StringTagColumnBase.prototype,{
	buildValue: function(out,kb) {
		table_tag_TagLikeListColumnTools.buildValue(this,out,kb);
	}
	,buildUsedValues: function() {
		table_tag_TagLikeListColumnTools.buildUsedValues(this,this.usedValues);
	}
	,matchesFilter: function(kb) {
		return table_tag_TagLikeListColumnTools.matchesFilter(this,kb);
	}
	,getVisibleTagNamesForLegends: function() {
		return table_tag_TagLikeListColumnTools.getVisibleTagNamesForLegends(this);
	}
	,buildEditor: function(out,store,restore) {
		table_tag_TagLikeListColumnTools.buildEditor(this,out,store,restore);
	}
	,save: function(kb) {
		table_tag_TagLikeListColumnTools.save(this,kb);
	}
	,load: function(kb) {
		table_tag_TagLikeListColumnTools.load(this,kb);
	}
	,__class__: table_tag_StringTagListColumn
});
var table_tag_TagColumnBase = function(name,field,et) {
	this.filterNotes = new haxe_ds_EnumValueMap();
	this.usedValues = new haxe_ds_EnumValueMap();
	this.hideInEditor = new haxe_ds_EnumValueMap();
	this.shortLabels = new haxe_ds_EnumValueMap();
	this.filterLabels = new haxe_ds_EnumValueMap();
	table_tag_TagLikeColumnBase.call(this,name,field);
	this.type = et;
	var _this = et.__constructs__;
	var result = new Array(_this.length);
	var _g = 0;
	var _g1 = _this.length;
	while(_g < _g1) {
		var i = _g++;
		result[i] = _this[i]._hx_name;
	}
	this.constructors = result;
};
table_tag_TagColumnBase.__name__ = true;
table_tag_TagColumnBase.__super__ = table_tag_TagLikeColumnBase;
table_tag_TagColumnBase.prototype = $extend(table_tag_TagLikeColumnBase.prototype,{
	filterLabels: null
	,shortLabels: null
	,hideInEditor: null
	,showInEditor: function(val) {
		return !this.hideInEditor.exists(val);
	}
	,usedValues: null
	,showInFilters: function(val) {
		return this.usedValues.exists(val);
	}
	,filterNotes: null
	,getFilterNotes: function(val) {
		return this.filterNotes.get(val);
	}
	,getId: function() {
		return this.field.name;
	}
	,type: null
	,constructors: null
	,getTagNames: function() {
		return this.constructors;
	}
	,tagToName: function(val) {
		return $hxEnums[val.__enum__].__constructs__[val._hx_index]._hx_name;
	}
	,nameToTag: function(name) {
		return Type.createEnum(this.type,name,null);
	}
	,getFilterLabel: function(val) {
		var tmp = this.filterLabels.get(val);
		if(tmp != null) {
			return tmp;
		} else {
			return $hxEnums[val.__enum__].__constructs__[val._hx_index]._hx_name;
		}
	}
	,getShortLabel: function(val) {
		var tmp = this.shortLabels.get(val);
		if(tmp != null) {
			return tmp;
		} else {
			return $hxEnums[val.__enum__].__constructs__[val._hx_index]._hx_name;
		}
	}
	,__class__: table_tag_TagColumnBase
});
var table_tag_TagColumn = function(name,field,et) {
	this.sortOrder = [];
	table_tag_TagColumnBase.call(this,name,field,et);
	this.canSort = true;
};
table_tag_TagColumn.__name__ = true;
table_tag_TagColumn.__super__ = table_tag_TagColumnBase;
table_tag_TagColumn.prototype = $extend(table_tag_TagColumnBase.prototype,{
	sortOrder: null
	,buildValue: function(out,kb) {
		table_tag_TagLikeColumnTools.buildSingleValue(this,out,kb);
	}
	,buildUsedValues: function() {
		table_tag_TagLikeColumnTools.buildUsedValues(this,this.usedValues);
	}
	,matchesFilter: function(kb) {
		return table_tag_TagLikeColumnTools.matchesFilters(this,kb);
	}
	,getVisibleTagNamesForLegends: function() {
		return table_tag_TagLikeColumnTools.getVisibleTagNamesForLegends(this);
	}
	,buildEditor: function(out,store,restore) {
		table_tag_TagLikeColumnTools.buildEditor(this,out,store,restore);
	}
	,save: function(kb) {
		table_tag_TagLikeColumnTools.save(this,kb);
	}
	,load: function(kb) {
		table_tag_TagLikeColumnTools.load(this,kb);
	}
	,compareValues: function(a,b,ascending) {
		var av = this.field.access(a);
		var bv = this.field.access(b);
		if(this.sortOrder.length != 0) {
			var ai = this.sortOrder.indexOf(av);
			if(ai < 0) {
				ai = this.sortOrder.length;
			}
			var bi = this.sortOrder.indexOf(bv);
			if(bi < 0) {
				bi = this.sortOrder.length;
			}
			if(ascending) {
				return ai - bi;
			} else {
				return bi - ai;
			}
		} else {
			var ai = av != null ? av._hx_index : this.constructors.length;
			var bi = bv != null ? bv._hx_index : this.constructors.length;
			if(ascending) {
				return ai - bi;
			} else {
				return bi - ai;
			}
		}
	}
	,__class__: table_tag_TagColumn
});
var table_tag_TagFilterMode = $hxEnums["table.tag.TagFilterMode"] = { __ename__:true,__constructs__:null
	,AnyOf: {_hx_name:"AnyOf",_hx_index:0,__enum__:"table.tag.TagFilterMode",toString:$estr}
	,AllOf: {_hx_name:"AllOf",_hx_index:1,__enum__:"table.tag.TagFilterMode",toString:$estr}
	,NoneOf: {_hx_name:"NoneOf",_hx_index:2,__enum__:"table.tag.TagFilterMode",toString:$estr}
};
table_tag_TagFilterMode.__constructs__ = [table_tag_TagFilterMode.AnyOf,table_tag_TagFilterMode.AllOf,table_tag_TagFilterMode.NoneOf];
var table_tag_TagLikeColumnTools = function() { };
table_tag_TagLikeColumnTools.__name__ = true;
table_tag_TagLikeColumnTools.getName = function(val) {
	if(((val) instanceof Array)) {
		return val[0];
	} else {
		return val.name;
	}
};
table_tag_TagLikeColumnTools.buildSingleValue = function(self,out,item,title) {
	if(title == null) {
		title = true;
	}
	var val = self.getValue(item);
	if(val != null) {
		self.tagToName(val);
		var span = tools_HtmlTools.appendElTextNode(out,"span",self.getShortLabel(val));
		if(title) {
			tools_HtmlTools.setTippyTitle(span,[table_tag_TagLikeColumnTools.getName(item),self.name + ":",self.getFilterLabel(val)].join("\n"));
		}
	} else {
		tools_HtmlTools.appendElTextNode(out,"span",self.nullCaption);
	}
};
table_tag_TagLikeColumnTools.buildUsedValues = function(column,usedValues) {
	var _g = 0;
	var _g1 = column.table.values;
	while(_g < _g1.length) {
		var val = column.getValue(_g1[_g++]);
		if(val == null) {
			continue;
		}
		if(!usedValues.exists(val)) {
			usedValues.set(val,true);
		}
	}
};
table_tag_TagLikeColumnTools.matchesFilters = function(column,item) {
	if(column.filterTags.length == 0) {
		return true;
	}
	var val = column.getValue(item);
	switch(column.filterMode._hx_index) {
	case 0:
		return column.tagsContain(column.filterTags,val);
	case 2:
		return !column.tagsContain(column.filterTags,val);
	default:
		return true;
	}
};
table_tag_TagLikeColumnTools.buildEditor = function(column,out,store,restore) {
	var select = window.document.createElement("select");
	var ctrs = [""].concat(column.getTagNames());
	select.size = ctrs.length;
	var _g = 0;
	while(_g < ctrs.length) {
		var ctr = ctrs[_g];
		++_g;
		var name;
		if(ctr != "") {
			var val = column.nameToTag(ctr);
			name = column.getFilterLabel(val);
		} else {
			name = "";
		}
		var option = window.document.createElement("option");
		option.appendChild(window.document.createTextNode(name));
		option.value = ctr;
		select.appendChild(option);
	}
	store.push(function(kb) {
		var name = select.value;
		if(name != "") {
			column.field.access(kb,true,column.nameToTag(name));
		}
	});
	restore.push(function(kb) {
		var tag = column.field.access(kb);
		if(tag != null) {
			select.value = column.tagToName(tag);
		} else {
			select.value = "";
		}
	});
	out.appendChild(select);
};
table_tag_TagLikeColumnTools.save = function(column,item) {
	var val = column.field.access(item);
	if(val == null) {
		return;
	}
	column.field.access(item,true,column.tagToName(val));
};
table_tag_TagLikeColumnTools.load = function(column,item) {
	var val = column.field.access(item);
	if(val == null) {
		return;
	}
	column.field.access(item,true,column.nameToTag(val));
};
table_tag_TagLikeColumnTools.getVisibleTagNamesForLegends = function(column) {
	var visible = [];
	var arr = [];
	var _g = 0;
	var _g1 = column.table.rows;
	while(_g < _g1.length) {
		var row = _g1[_g];
		++_g;
		if(row.show) {
			var val = column.getValue(row.value);
			if(val == null) {
				continue;
			}
			if(visible.indexOf(val) == -1) {
				visible.push(val);
				arr.push(column.tagToName(val));
			}
		}
	}
	return arr;
};
var table_tag_TagLikeListColumnTools = function() { };
table_tag_TagLikeListColumnTools.__name__ = true;
table_tag_TagLikeListColumnTools.matchesFilter = function(column,item) {
	var filterTags = column.filterTags;
	if(filterTags.length == 0) {
		return true;
	}
	var tmp = column.field.access(item);
	var tmp1 = tmp != null ? tmp : column.defaultValue;
	var vals = tmp1 != null ? tmp1 : [];
	switch(column.filterMode._hx_index) {
	case 0:
		var _g = 0;
		while(_g < filterTags.length) if(column.tagsContain(vals,filterTags[_g++])) {
			return true;
		}
		return false;
	case 1:
		var _g = 0;
		while(_g < filterTags.length) if(!column.tagsContain(vals,filterTags[_g++])) {
			return false;
		}
		return true;
	case 2:
		var _g = 0;
		while(_g < filterTags.length) if(column.tagsContain(vals,filterTags[_g++])) {
			return false;
		}
		return true;
	}
};
table_tag_TagLikeListColumnTools.getValueTip = function(column,item,header) {
	if(header == null) {
		header = true;
	}
	var tags = column.getValue(item);
	var lines = [column.name + ":"];
	if(header) {
		var itemName = item.name;
		if(itemName != null) {
			lines.unshift(itemName);
		}
	}
	var _g = 0;
	while(_g < tags.length) lines.push("·" + " " + column.getFilterLabel(tags[_g++]));
	return lines.join("\n");
};
table_tag_TagLikeListColumnTools.buildValue = function(column,out,item) {
	var tags = column.getValue(item);
	if(tags == null) {
		var text = column.nullCaption;
		out.appendChild(window.document.createTextNode(text));
		return;
	}
	var _g_current = 0;
	while(_g_current < tags.length) {
		var _g_value = tags[_g_current];
		if(_g_current++ > 0) {
			out.appendChild(window.document.createTextNode(", "));
		}
		var span = tools_HtmlTools.appendElTextNode(out,"span",column.getShortLabel(_g_value));
		var notes = [column.getShortNotes(item,_g_value)];
		if(notes[0] != null) {
			table_FancyTableFilters.addNotesFor((function(notes) {
				return function(ne) {
					ne.appendChild(window.document.createTextNode(notes[0]));
				};
			})(notes),span);
		}
	}
	tools_HtmlTools.setTippyTitle(out,table_tag_TagLikeListColumnTools.getValueTip(column,item));
};
table_tag_TagLikeListColumnTools.buildUsedValues = function(column,usedValues) {
	var _g = 0;
	var _g1 = column.table.values;
	while(_g < _g1.length) {
		var vals = column.getValue(_g1[_g++]);
		if(vals == null) {
			continue;
		}
		var _g2 = 0;
		while(_g2 < vals.length) {
			var val = vals[_g2];
			++_g2;
			if(usedValues.exists(val)) {
				continue;
			}
			usedValues.set(val,true);
		}
	}
};
table_tag_TagLikeListColumnTools.getVisibleTagNamesForLegends = function(column) {
	var visible = [];
	var arr = [];
	var _g = 0;
	var _g1 = column.table.rows;
	while(_g < _g1.length) {
		var row = _g1[_g];
		++_g;
		if(row.show) {
			var vals = column.getValue(row.value);
			if(vals == null) {
				continue;
			}
			var _g2 = 0;
			while(_g2 < vals.length) {
				var val = vals[_g2];
				++_g2;
				if(visible.indexOf(val) == -1) {
					visible.push(val);
					arr.push(column.tagToName(val));
				}
			}
		}
	}
	return arr;
};
table_tag_TagLikeListColumnTools.save = function(column,item) {
	var arr = column.field.access(item);
	if(arr == null) {
		return;
	}
	var result = new Array(arr.length);
	var _g = 0;
	var _g1 = arr.length;
	while(_g < _g1) {
		var i = _g++;
		result[i] = column.tagToName(arr[i]);
	}
	var names = result;
	if(result.length == 1) {
		names = result[0];
	}
	column.field.access(item,true,names);
};
table_tag_TagLikeListColumnTools.load = function(column,item) {
	var names = column.field.access(item);
	if(names == null) {
		return;
	}
	if(!((names) instanceof Array)) {
		names = [names];
	}
	var tags = [];
	var _g = 0;
	while(_g < names.length) {
		var name = names[_g];
		++_g;
		if(typeof(name) == "boolean") {
			name = name ? "Yes" : "No";
		}
		tags.push(column.nameToTag(name));
	}
	column.field.access(item,true,tags);
};
table_tag_TagLikeListColumnTools.buildEditor = function(column,out,store,restore) {
	var optCtr = tools_HtmlTools.appendElTextNode(out,"div");
	optCtr.classList.add("tag-options");
	optCtr.setAttribute("column-count","" + column.columnCount);
	var _g = 0;
	var _g1 = column.getTagNames();
	while(_g < _g1.length) {
		var val = [column.nameToTag(_g1[_g++])];
		if(!column.showInEditor(val[0])) {
			continue;
		}
		var name = column.getFilterLabel(val[0]);
		var cb = [tools_HtmlTools.createCheckboxElement(window.document)];
		store.push((function(cb,val) {
			return function(kb) {
				if(!cb[0].checked) {
					return;
				}
				var arr = column.field.access(kb);
				if(arr == null) {
					arr = [];
					column.field.access(kb,true,arr);
				}
				arr.push(val[0]);
			};
		})(cb,val));
		restore.push((function(cb,val) {
			return function(kb) {
				var arr = column.field.access(kb);
				cb[0].checked = arr != null && arr.indexOf(val[0]) != -1;
			};
		})(cb,val));
		var label = window.document.createElement("label");
		var row = window.document.createElement("div");
		label.appendChild(cb[0]);
		label.appendChild(window.document.createTextNode(name));
		row.appendChild(label);
		optCtr.appendChild(row);
	}
};
var table_tag_TagListColumn = function(name,field,et) {
	table_tag_TagColumnBase.call(this,name,field,et);
	this.defaultValue = type_ValList.fromValue(Type.createEnumIndex(et,0,null));
	this.isMulti = true;
};
table_tag_TagListColumn.__name__ = true;
table_tag_TagListColumn.__super__ = table_tag_TagColumnBase;
table_tag_TagListColumn.prototype = $extend(table_tag_TagColumnBase.prototype,{
	buildValue: function(out,kb) {
		table_tag_TagLikeListColumnTools.buildValue(this,out,kb);
	}
	,buildUsedValues: function() {
		table_tag_TagLikeListColumnTools.buildUsedValues(this,this.usedValues);
	}
	,matchesFilter: function(kb) {
		return table_tag_TagLikeListColumnTools.matchesFilter(this,kb);
	}
	,getVisibleTagNamesForLegends: function() {
		return table_tag_TagLikeListColumnTools.getVisibleTagNamesForLegends(this);
	}
	,buildEditor: function(out,store,restore) {
		table_tag_TagLikeListColumnTools.buildEditor(this,out,store,restore);
	}
	,save: function(kb) {
		table_tag_TagLikeListColumnTools.save(this,kb);
	}
	,load: function(kb) {
		table_tag_TagLikeListColumnTools.load(this,kb);
	}
	,__class__: table_tag_TagListColumn
});
var tools_CompactJsonPrinter = function(replacer,space) {
	this.replacer = replacer;
	this.indent = space;
	this.pretty = space != null;
	this.nind = 0;
	this.buf = new StringBuf();
};
tools_CompactJsonPrinter.__name__ = true;
tools_CompactJsonPrinter.print = function(o,replacer,space) {
	var printer = new tools_CompactJsonPrinter(replacer,space);
	printer.write("",o);
	return printer.buf.b;
};
tools_CompactJsonPrinter.prototype = {
	buf: null
	,replacer: null
	,indent: null
	,pretty: null
	,nind: null
	,write: function(k,v) {
		if(this.replacer != null) {
			v = this.replacer(k,v);
		}
		var _g = Type.typeof(v);
		switch(_g._hx_index) {
		case 0:
			this.buf.b += "null";
			break;
		case 1:
			this.buf.b += Std.string(v);
			break;
		case 2:
			var v1 = isFinite(v) ? Std.string(v) : "null";
			this.buf.b += Std.string(v1);
			break;
		case 3:
			this.buf.b += Std.string(v);
			break;
		case 4:
			this.fieldsString(v,Reflect.fields(v));
			break;
		case 5:
			this.buf.b += "\"<fun>\"";
			break;
		case 6:
			var c = _g.c;
			if(c == String) {
				this.quote(v);
			} else if(c == Array) {
				var v1 = v;
				this.buf.b += String.fromCodePoint(91);
				var len = v1.length;
				var last = len - 1;
				var _g = 0;
				var _g1 = len;
				while(_g < _g1) {
					var i = _g++;
					if(i > 0) {
						this.buf.b += ", ";
					} else {
						this.nind++;
					}
					this.write(i,v1[i]);
					if(i == last) {
						this.nind--;
					}
				}
				this.buf.b += String.fromCodePoint(93);
			} else if(c == haxe_ds_StringMap) {
				var v1 = v;
				var o = { };
				var _g_keys = Object.keys(v1.h);
				var _g_length = _g_keys.length;
				var _g_current = 0;
				while(_g_current < _g_length) {
					var k = _g_keys[_g_current++];
					o[k] = v1.h[k];
				}
				var v1 = o;
				this.fieldsString(v1,Reflect.fields(v1));
			} else if(c == Date) {
				this.quote(HxOverrides.dateStr(v));
			} else {
				this.classString(v);
			}
			break;
		case 7:
			var i = v._hx_index;
			this.buf.b += Std.string(i == null ? "null" : "" + i);
			break;
		case 8:
			this.buf.b += "\"???\"";
			break;
		}
	}
	,classString: function(v) {
		this.fieldsString(v,Type.getInstanceFields(js_Boot.getClass(v)));
	}
	,fieldsString: function(v,fields) {
		this.buf.b += String.fromCodePoint(123);
		var len = fields.length;
		var last = len - 1;
		var first = true;
		var _g = 0;
		var _g1 = len;
		while(_g < _g1) {
			var i = _g++;
			var f = fields[i];
			var value = Reflect.field(v,f);
			if(Reflect.isFunction(value)) {
				continue;
			}
			if(first) {
				this.nind++;
				first = false;
			} else {
				this.buf.b += ", ";
			}
			this.quote(f);
			this.buf.b += String.fromCodePoint(58);
			if(this.pretty) {
				this.buf.b += String.fromCodePoint(32);
			}
			this.write(f,value);
			if(i == last) {
				this.nind--;
			}
		}
		this.buf.b += String.fromCodePoint(125);
	}
	,quote: function(s) {
		this.buf.b += String.fromCodePoint(34);
		var i = 0;
		var length = s.length;
		while(i < length) {
			var c = s.charCodeAt(i++);
			switch(c) {
			case 8:
				this.buf.b += "\\b";
				break;
			case 9:
				this.buf.b += "\\t";
				break;
			case 10:
				this.buf.b += "\\n";
				break;
			case 12:
				this.buf.b += "\\f";
				break;
			case 13:
				this.buf.b += "\\r";
				break;
			case 34:
				this.buf.b += "\\\"";
				break;
			case 92:
				this.buf.b += "\\\\";
				break;
			default:
				this.buf.b += String.fromCodePoint(c);
			}
		}
		this.buf.b += String.fromCodePoint(34);
	}
	,__class__: tools_CompactJsonPrinter
};
var tools_CsvParser = function() { };
tools_CsvParser.__name__ = true;
tools_CsvParser.parse = function(str) {
	str = StringTools.replace(str,"\r","");
	var row = [];
	var table = [row];
	var quote = false;
	var pos = 0;
	var len = str.length;
	var buf = new StringBuf();
	var start = 0;
	var __flush_till;
	while(pos < len) switch(str.charCodeAt(pos++)) {
	case 10:
		if(!quote) {
			__flush_till = pos - 1;
			if(__flush_till > start) {
				var len1 = __flush_till - start;
				buf.b += len1 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len1);
			}
			row.push(buf.b);
			buf = new StringBuf();
			row = [];
			table.push(row);
			start = pos;
		}
		break;
	case 34:
		__flush_till = pos - 1;
		if(__flush_till > start) {
			var len2 = __flush_till - start;
			buf.b += len2 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len2);
		}
		if(quote) {
			if(pos < len && str.charCodeAt(pos) == 34) {
				buf.b += String.fromCodePoint(34);
				++pos;
			} else {
				quote = false;
			}
		} else {
			quote = true;
		}
		start = pos;
		break;
	case 44:
		if(!quote) {
			__flush_till = pos - 1;
			if(__flush_till > start) {
				var len3 = __flush_till - start;
				buf.b += len3 == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len3);
			}
			row.push(buf.b);
			buf = new StringBuf();
			start = pos;
		}
		break;
	}
	__flush_till = pos;
	if(__flush_till > start) {
		var len = __flush_till - start;
		buf.b += len == null ? HxOverrides.substr(str,start,null) : HxOverrides.substr(str,start,len);
	}
	row.push(buf.b);
	var last = table.length - 1;
	if(table[last].length == 1 && table[last][0] == "") {
		table.pop();
	}
	return table;
};
var tools_HaxeBugs = function() { };
tools_HaxeBugs.__name__ = true;
tools_HaxeBugs.dceEnthusiasm_1 = function() {
	return new haxe_ds_StringMap();
};
tools_HaxeBugs.dceEnthusiasm_2 = function() {
	return new haxe_ds_EnumValueMap();
};
tools_HaxeBugs.dceEnthusiasm = function() {
	var a = tools_HaxeBugs.dceEnthusiasm_1();
	a.h[""] = "";
	Object.prototype.hasOwnProperty.call(a.h,"");
	var b = tools_HaxeBugs.dceEnthusiasm_2();
	var e = type_StaggerType.Column;
	b.get(e);
	b.set(e,"");
	b.exists(e);
};
tools_HaxeBugs.ref = function() {
};
var tools_HtmlTools = function() { };
tools_HtmlTools.__name__ = true;
tools_HtmlTools.querySelectorAllAutoArr = function(el,selectors,c) {
	var elist = el.querySelectorAll(selectors);
	var _g = [];
	var _g1 = 0;
	while(_g1 < elist.length) _g.push(elist[_g1++]);
	return _g;
};
tools_HtmlTools.appendDivTextNode = function(e,text) {
	var div = window.document.createElement("div");
	div.appendChild(window.document.createTextNode(text));
	e.appendChild(div);
	return div;
};
tools_HtmlTools.appendParaTextNode = function(e) {
	var $l=arguments.length;
	var paras = new Array($l>1?$l-1:0);
	for(var $i=1;$i<$l;++$i){paras[$i-1]=arguments[$i];}
	var result = null;
	var _g_current = 0;
	while(_g_current < paras.length) {
		var text = paras[_g_current++];
		var p = window.document.createElement("p");
		p.appendChild(window.document.createTextNode(text));
		e.appendChild(p);
		if(result == null) {
			result = p;
		}
	}
	return result;
};
tools_HtmlTools.appendElTextNode = function(e,tag,text) {
	var p = window.document.createElement(tag);
	if(text != null) {
		p.appendChild(window.document.createTextNode(text));
	}
	e.appendChild(p);
	return p;
};
tools_HtmlTools.appendExplainer = function(e,name,desc) {
	var li = window.document.createElement("li");
	tools_HtmlTools.appendElTextNode(li,"b",name);
	li.appendChild(window.document.createTextNode(" " + desc));
	e.appendChild(li);
	return li;
};
tools_HtmlTools.addFieldChangeEventListener = function(e,f) {
	e.addEventListener("change",f);
	e.addEventListener("keydown",function(e) {
		window.setTimeout(function() {
			f(e);
		});
	});
	e.addEventListener("keyup",f);
};
tools_HtmlTools.createCheckboxElement = function(doc) {
	var cb = doc.createElement("input");
	cb.type = "checkbox";
	return cb;
};
tools_HtmlTools.setAttributeFlag = function(el,attr,val) {
	if(val) {
		if(!el.hasAttribute(attr)) {
			el.setAttribute(attr,"");
		}
	} else if(el.hasAttribute(attr)) {
		el.removeAttribute(attr);
	}
};
tools_HtmlTools.setTokenFlag = function(tl,name,val) {
	if(tl.contains(name) != val) {
		tl.toggle(name);
	}
};
tools_HtmlTools.setDisplayFlag = function(el,visible) {
	el.style.display = visible ? "" : "none";
};
tools_HtmlTools.triggerChange = function(el) {
	el.dispatchEvent(new CustomEvent("change"));
};
tools_HtmlTools.setTippyTitle = function(el,tip) {
	el.title = tip;
	el.classList.add("has-notes");
	var fn = function(e) {
		var this1 = { };
		this1["theme"] = "translucent";
		var opts = this1;
		opts["trigger"] = "click";
		opts["interactive"] = true;
		var v = function() {
			return el.parentElement;
		};
		opts["appendTo"] = v;
		opts["maxWidth"] = 480;
		externs_TippyOptions.setLazyContent(opts,function() {
			var div = window.document.createElement("div");
			var sep = false;
			var _g = 0;
			var _g1 = tip.split("\n");
			while(_g < _g1.length) {
				var line = _g1[_g++];
				if(sep) {
					div.appendChild(window.document.createElement("br"));
				} else {
					sep = true;
				}
				div.appendChild(window.document.createTextNode(line));
			}
			return div;
		});
		var tippy = Tippy(el,opts);
		el.removeEventListener("click",fn);
		tippy["show"]();
	};
	el.addEventListener("click",fn);
};
var tools_Symbols = function() { };
tools_Symbols.__name__ = true;
var tools_ValueTools = function() { };
tools_ValueTools.__name__ = true;
tools_ValueTools.copy = function(val,depth) {
	if(depth == null) {
		depth = 0;
	} else {
		++depth;
	}
	if(val == null) {
		return val;
	}
	if(Reflect.isEnumValue(val)) {
		if(Type.enumParameters(val).length > 0) {
			throw haxe_Exception.thrown("todo!");
		}
		return val;
	}
	if(typeof(val) == "string" || typeof(val) == "number" || typeof(val) == "boolean") {
		return val;
	}
	if(((val) instanceof Array)) {
		var _g = [];
		var _g_current = 0;
		var _g_array = val;
		while(_g_current < _g_array.length) _g.push(tools_ValueTools.copy(_g_array[_g_current++],depth));
		return _g;
	}
	if(Reflect.isObject(val)) {
		var obj = { };
		var _g = 0;
		var _g1 = Reflect.fields(val);
		while(_g < _g1.length) {
			var fd = _g1[_g];
			++_g;
			var sub = Reflect.field(val,fd);
			sub = tools_ValueTools.copy(sub,depth);
			obj[fd] = sub;
		}
		return obj;
	}
	throw haxe_Exception.thrown("todo!");
};
var type_Assembly = $hxEnums["type.Assembly"] = { __ename__:true,__constructs__:null
	,Unspecified: {_hx_name:"Unspecified",_hx_index:0,__enum__:"type.Assembly",toString:$estr}
	,PCB: {_hx_name:"PCB",_hx_index:1,__enum__:"type.Assembly",toString:$estr}
	,ThroughHole: {_hx_name:"ThroughHole",_hx_index:2,__enum__:"type.Assembly",toString:$estr}
	,Diodeless: {_hx_name:"Diodeless",_hx_index:3,__enum__:"type.Assembly",toString:$estr}
	,Handwired: {_hx_name:"Handwired",_hx_index:4,__enum__:"type.Assembly",toString:$estr}
	,Adjustable: {_hx_name:"Adjustable",_hx_index:5,__enum__:"type.Assembly",toString:$estr}
	,Reversible: {_hx_name:"Reversible",_hx_index:6,__enum__:"type.Assembly",toString:$estr}
};
type_Assembly.__constructs__ = [type_Assembly.Unspecified,type_Assembly.PCB,type_Assembly.ThroughHole,type_Assembly.Diodeless,type_Assembly.Handwired,type_Assembly.Adjustable,type_Assembly.Reversible];
var type_Availability = $hxEnums["type.Availability"] = { __ename__:true,__constructs__:null
	,OpenSource: {_hx_name:"OpenSource",_hx_index:0,__enum__:"type.Availability",toString:$estr}
	,Kit: {_hx_name:"Kit",_hx_index:1,__enum__:"type.Availability",toString:$estr}
	,PreBuilt: {_hx_name:"PreBuilt",_hx_index:2,__enum__:"type.Availability",toString:$estr}
	,BuildGuide: {_hx_name:"BuildGuide",_hx_index:3,__enum__:"type.Availability",toString:$estr}
	,LayoutRef: {_hx_name:"LayoutRef",_hx_index:4,__enum__:"type.Availability",toString:$estr}
};
type_Availability.__constructs__ = [type_Availability.OpenSource,type_Availability.Kit,type_Availability.PreBuilt,type_Availability.BuildGuide,type_Availability.LayoutRef];
var type_AvailabilityColumn = function(name,field,et) {
	table_tag_TagListColumn.call(this,name,field,et);
};
type_AvailabilityColumn.__name__ = true;
type_AvailabilityColumn.__super__ = table_tag_TagListColumn;
type_AvailabilityColumn.prototype = $extend(table_tag_TagListColumn.prototype,{
	onBuildValue: null
	,buildValue: function(out,item) {
		this.onBuildValue(out,item);
	}
	,__class__: type_AvailabilityColumn
});
var type_CaseType = $hxEnums["type.CaseType"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.CaseType",toString:$estr}
	,None: {_hx_name:"None",_hx_index:1,__enum__:"type.CaseType",toString:$estr}
	,Included: {_hx_name:"Included",_hx_index:2,__enum__:"type.CaseType",toString:$estr}
	,ThirdParty: {_hx_name:"ThirdParty",_hx_index:3,__enum__:"type.CaseType",toString:$estr}
};
type_CaseType.__constructs__ = [type_CaseType.Unknown,type_CaseType.None,type_CaseType.Included,type_CaseType.ThirdParty];
var type_Connection = $hxEnums["type.Connection"] = { __ename__:true,__constructs__:null
	,Wired: {_hx_name:"Wired",_hx_index:0,__enum__:"type.Connection",toString:$estr}
	,Bluetooth: {_hx_name:"Bluetooth",_hx_index:1,__enum__:"type.Connection",toString:$estr}
	,Wireless: {_hx_name:"Wireless",_hx_index:2,__enum__:"type.Connection",toString:$estr}
	,WiredHalf: {_hx_name:"WiredHalf",_hx_index:3,__enum__:"type.Connection",toString:$estr}
};
type_Connection.__constructs__ = [type_Connection.Wired,type_Connection.Bluetooth,type_Connection.Wireless,type_Connection.WiredHalf];
var type_ControllerColumn = function(name,field,tags) {
	table_tag_StringTagListColumn.call(this,name,field,tags);
};
type_ControllerColumn.__name__ = true;
type_ControllerColumn.parseCsvItem = function(str) {
	if(StringTools.trim(str) == "") {
		return null;
	}
	if(StringTools.startsWith(str,type_ControllerColumn.otherPrefix)) {
		return [str];
	}
	var vals = [];
	var mt = type_ControllerColumn.otherMatcher.exec(str);
	var other = null;
	if(mt != null) {
		other = mt[2];
		str = mt[1];
	}
	var _g = 0;
	var _g1 = str.split(",");
	while(_g < _g1.length) {
		var part = _g1[_g];
		++_g;
		part = StringTools.trim(part);
		if(part != "") {
			vals.push(part);
		}
	}
	if(other != null) {
		vals.push(other);
	}
	return vals;
};
type_ControllerColumn.parseIntPlus = function(str) {
	var add = 0;
	var mt = type_ControllerColumn.parseIntPlus_rx.exec(str);
	while(mt != null) {
		add += Std.parseInt(mt[2]);
		str = mt[1];
		mt = type_ControllerColumn.parseIntPlus_rx.exec(str);
	}
	var min = Std.parseInt(str);
	if(min == null) {
		return null;
	}
	return { min : min, max : min + add};
};
type_ControllerColumn.initKeyboards = function(table) {
	var csv = tools_CsvParser.parse(window.mcuData);
	csv.shift();
	var _g = 0;
	while(_g < csv.length) {
		var row = csv[_g];
		++_g;
		var name = row[0];
		var _this = table.values;
		var _g1 = [];
		var _g2 = 0;
		while(_g2 < _this.length) {
			var v = _this[_g2];
			++_g2;
			if(v.name == name) {
				_g1.push(v);
			}
		}
		var kb = _g1[0];
		if(kb == null) {
			continue;
		}
		if(row[1] != "" && kb.ctlCount == null) {
			var range = type_NumRange.parseInt(row[1]);
			if(range != null) {
				kb.ctlCount = range;
			}
		}
		if(row[3] != "" && kb.ctlPinCount == null) {
			var range1 = type_ControllerColumn.parseIntPlus(row[3]);
			if(range1 != null) {
				kb.ctlPinCount = range1;
			}
		}
		var _g3 = 0;
		var _g4 = [2,4];
		while(_g3 < _g4.length) {
			var col = _g4[_g3];
			++_g3;
			var vals = type_ControllerColumn.parseCsvItem(row[col]);
			if(vals == null) {
				continue;
			}
			switch(col) {
			case 2:
				kb.ctlFootprint = kb.ctlFootprint != null ? kb.ctlFootprint : vals;
				break;
			case 4:
				kb.ctlName = kb.ctlName != null ? kb.ctlName : vals;
				break;
			}
		}
	}
};
type_ControllerColumn.__super__ = table_tag_StringTagListColumn;
type_ControllerColumn.prototype = $extend(table_tag_StringTagListColumn.prototype,{
	showInFilters: function(val) {
		return !StringTools.startsWith(val,type_ControllerColumn.otherPrefix);
	}
	,buildUsedValues: function() {
		if(this.tags != null) {
			return;
		}
		this.tags = [];
		var found_h = Object.create(null);
		var hasOther = false;
		var _g = 0;
		var _g1 = this.table.values;
		while(_g < _g1.length) {
			var vals = this.field.access(_g1[_g++]);
			if(vals == null) {
				continue;
			}
			var _g2 = 0;
			while(_g2 < vals.length) {
				var val = vals[_g2];
				++_g2;
				if(StringTools.startsWith(val,type_ControllerColumn.otherPrefix)) {
					hasOther = true;
					continue;
				}
				var vlq = val.toLowerCase();
				if(Object.prototype.hasOwnProperty.call(found_h,vlq)) {
					continue;
				}
				found_h[vlq] = true;
				this.tags.push(val);
			}
		}
		if(hasOther && this.tags.indexOf("Other") == -1) {
			this.tags.push("Other");
		}
	}
	,nameToTag: function(name) {
		return name;
	}
	,tagsContain: function(tags,tag) {
		if(tag == "Other") {
			var _g = 0;
			while(_g < tags.length) if(StringTools.startsWith(tags[_g++],type_ControllerColumn.otherPrefix)) {
				return true;
			}
			return false;
		}
		return table_tag_StringTagListColumn.prototype.tagsContain.call(this,tags,tag);
	}
	,getShortLabel: function(val) {
		if(StringTools.startsWith(val,type_ControllerColumn.otherPrefix)) {
			return "Other";
		}
		return table_tag_StringTagListColumn.prototype.getShortLabel.call(this,val);
	}
	,getFilterLabel: function(val) {
		if(StringTools.startsWith(val,type_ControllerColumn.otherPrefix)) {
			return val.substring(type_ControllerColumn.otherPrefix.length);
		}
		return table_tag_StringTagListColumn.prototype.getFilterLabel.call(this,val);
	}
	,getShortNotes: function(item,val) {
		if(StringTools.startsWith(val,type_ControllerColumn.otherPrefix)) {
			return val.substring(type_ControllerColumn.otherPrefix.length);
		}
		return null;
	}
	,buildEditor: function(out,store,restore) {
		var _gthis = this;
		table_tag_StringTagListColumn.prototype.buildEditor.call(this,out,store,restore);
		var otherFd = window.document.createElement("input");
		otherFd.placeholder = "Other";
		out.appendChild(otherFd);
		store.push(function(kb) {
			var val = otherFd.value;
			var arr = _gthis.field.access(kb);
			if(arr != null) {
				HxOverrides.remove(arr,"Other");
			}
			if(StringTools.trim(val) == "") {
				return;
			}
			if(arr == null) {
				arr = [];
				_gthis.field.access(kb,true,arr);
			}
			arr.push("!" + val);
		});
		restore.push(function(kb) {
			var arr = _gthis.field.access(kb);
			if(arr != null) {
				var _g = 0;
				while(_g < arr.length) {
					var item = arr[_g];
					++_g;
					if(StringTools.startsWith(item,"!")) {
						otherFd.value = item.substring(1);
					}
				}
			}
		});
	}
	,__class__: type_ControllerColumn
});
var type_EncoderType = $hxEnums["type.EncoderType"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.EncoderType",toString:$estr}
	,Knob: {_hx_name:"Knob",_hx_index:1,__enum__:"type.EncoderType",toString:$estr}
	,Wheel: {_hx_name:"Wheel",_hx_index:2,__enum__:"type.EncoderType",toString:$estr}
	,Other: {_hx_name:"Other",_hx_index:3,__enum__:"type.EncoderType",toString:$estr}
};
type_EncoderType.__constructs__ = [type_EncoderType.Unknown,type_EncoderType.Knob,type_EncoderType.Wheel,type_EncoderType.Other];
var type_Firmware = $hxEnums["type.Firmware"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.Firmware",toString:$estr}
	,Simple: {_hx_name:"Simple",_hx_index:1,__enum__:"type.Firmware",toString:$estr}
	,QMK: {_hx_name:"QMK",_hx_index:2,__enum__:"type.Firmware",toString:$estr}
	,ZMK: {_hx_name:"ZMK",_hx_index:3,__enum__:"type.Firmware",toString:$estr}
	,KMK: {_hx_name:"KMK",_hx_index:4,__enum__:"type.Firmware",toString:$estr}
	,PRK: {_hx_name:"PRK",_hx_index:5,__enum__:"type.Firmware",toString:$estr}
	,FAK: {_hx_name:"FAK",_hx_index:6,__enum__:"type.Firmware",toString:$estr}
	,Custom: {_hx_name:"Custom",_hx_index:7,__enum__:"type.Firmware",toString:$estr}
};
type_Firmware.__constructs__ = [type_Firmware.Unknown,type_Firmware.Simple,type_Firmware.QMK,type_Firmware.ZMK,type_Firmware.KMK,type_Firmware.PRK,type_Firmware.FAK,type_Firmware.Custom];
var type_HotSwap = $hxEnums["type.HotSwap"] = { __ename__:true,__constructs__:null
	,Unspecified: {_hx_name:"Unspecified",_hx_index:0,__enum__:"type.HotSwap",toString:$estr}
	,No: {_hx_name:"No",_hx_index:1,__enum__:"type.HotSwap",toString:$estr}
	,Yes: {_hx_name:"Yes",_hx_index:2,__enum__:"type.HotSwap",toString:$estr}
	,Special: {_hx_name:"Special",_hx_index:3,__enum__:"type.HotSwap",toString:$estr}
};
type_HotSwap.__constructs__ = [type_HotSwap.Unspecified,type_HotSwap.No,type_HotSwap.Yes,type_HotSwap.Special];
var type_HotSwapColumn = function(name,field,et) {
	table_tag_TagListColumn.call(this,name,field,et);
};
type_HotSwapColumn.__name__ = true;
type_HotSwapColumn.__super__ = table_tag_TagListColumn;
type_HotSwapColumn.prototype = $extend(table_tag_TagListColumn.prototype,{
	getShortValue: function(item) {
		var tags = this.getValue(item);
		if(tags == null) {
			return null;
		}
		var out = "";
		if(tags.indexOf(type_HotSwap.Yes) != -1) {
			if(tags.indexOf(type_HotSwap.No) != -1) {
				out = String.fromCodePoint(177);
			} else {
				out = "+";
			}
		} else if(tags.indexOf(type_HotSwap.No) != -1) {
			out = "-";
		}
		if(tags.indexOf(type_HotSwap.Special) != -1) {
			out += "*";
		}
		return out;
	}
	,buildValue: function(out,item) {
		var short = this.getShortValue(item);
		if(short == null) {
			var text = this.nullCaption;
			out.appendChild(window.document.createTextNode(text));
			return;
		}
		out.appendChild(window.document.createTextNode(short));
		tools_HtmlTools.setTippyTitle(out,table_tag_TagLikeListColumnTools.getValueTip(this,item));
	}
	,__class__: type_HotSwapColumn
});
var type_KeySpacing = $hxEnums["type.KeySpacing"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.KeySpacing",toString:$estr}
	,MX: {_hx_name:"MX",_hx_index:1,__enum__:"type.KeySpacing",toString:$estr}
	,MinMX: {_hx_name:"MinMX",_hx_index:2,__enum__:"type.KeySpacing",toString:$estr}
	,Choc: {_hx_name:"Choc",_hx_index:3,__enum__:"type.KeySpacing",toString:$estr}
	,CFX: {_hx_name:"CFX",_hx_index:4,__enum__:"type.KeySpacing",toString:$estr}
	,MinChoc: {_hx_name:"MinChoc",_hx_index:5,__enum__:"type.KeySpacing",toString:$estr}
	,Other: {_hx_name:"Other",_hx_index:6,__enum__:"type.KeySpacing",toString:$estr}
};
type_KeySpacing.__constructs__ = [type_KeySpacing.Unknown,type_KeySpacing.MX,type_KeySpacing.MinMX,type_KeySpacing.Choc,type_KeySpacing.CFX,type_KeySpacing.MinChoc,type_KeySpacing.Other];
var type_Lighting = $hxEnums["type.Lighting"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.Lighting",toString:$estr}
	,None: {_hx_name:"None",_hx_index:1,__enum__:"type.Lighting",toString:$estr}
	,Simple: {_hx_name:"Simple",_hx_index:2,__enum__:"type.Lighting",toString:$estr}
	,RGB: {_hx_name:"RGB",_hx_index:3,__enum__:"type.Lighting",toString:$estr}
	,Underglow: {_hx_name:"Underglow",_hx_index:4,__enum__:"type.Lighting",toString:$estr}
};
type_Lighting.__constructs__ = [type_Lighting.Unknown,type_Lighting.None,type_Lighting.Simple,type_Lighting.RGB,type_Lighting.Underglow];
var type_NavCluster = $hxEnums["type.NavCluster"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.NavCluster",toString:$estr}
	,Arrows: {_hx_name:"Arrows",_hx_index:1,__enum__:"type.NavCluster",toString:$estr}
	,Squished: {_hx_name:"Squished",_hx_index:2,__enum__:"type.NavCluster",toString:$estr}
	,Inline: {_hx_name:"Inline",_hx_index:3,__enum__:"type.NavCluster",toString:$estr}
	,Duo: {_hx_name:"Duo",_hx_index:4,__enum__:"type.NavCluster",toString:$estr}
	,Full: {_hx_name:"Full",_hx_index:5,__enum__:"type.NavCluster",toString:$estr}
};
type_NavCluster.__constructs__ = [type_NavCluster.None,type_NavCluster.Arrows,type_NavCluster.Squished,type_NavCluster.Inline,type_NavCluster.Duo,type_NavCluster.Full];
var type_NumRange = {};
type_NumRange.fromValue = function(val) {
	return { min : val, max : val};
};
type_NumRange.fromArray = function(arr) {
	if(arr.length != 2) {
		throw haxe_Exception.thrown("Expected [min, max]");
	}
	return { min : arr[0], max : arr[1]};
};
type_NumRange.parseInt = function(str) {
	var mt = type_NumRange.parseInt_rxRange.exec(str);
	if(mt != null) {
		return { min : Std.parseInt(mt[1]), max : Std.parseInt(mt[2])};
	} else {
		return type_NumRange.fromValue(Std.parseInt(str));
	}
};
type_NumRange.toString = function(this1) {
	if(this1 == null) {
		return "";
	}
	if(this1.min == this1.max) {
		return "" + Std.string(this1.min);
	}
	return Std.string(this1.min) + ".." + Std.string(this1.max);
};
var type_NumRangeList = {};
type_NumRangeList.fromSimpleArray = function(arr) {
	if(arr.length != 2) {
		throw haxe_Exception.thrown("Expected [min, max]");
	}
	return [{ min : arr[0], max : arr[1]}];
};
type_NumRangeList.either = function() {
	var $l=arguments.length;
	var vals = new Array($l>0?$l-0:0);
	for(var $i=0;$i<$l;++$i){vals[$i-0]=arguments[$i];}
	var ranges = [];
	var _g_current = 0;
	while(_g_current < vals.length) ranges.push(type_NumRange.fromValue(vals[_g_current++]));
	return ranges;
};
type_NumRangeList.calcMin = function(this1,def) {
	if(def == null) {
		def = 0;
	}
	var result = null;
	var _g = 0;
	while(_g < this1.length) {
		var range = this1[_g];
		++_g;
		if(result == null || table_number_NumberColumn.compareNumbers(range.min,result) < 0) {
			result = range.min;
		}
	}
	var tmp = result;
	if(tmp != null) {
		return tmp;
	} else {
		return def;
	}
};
type_NumRangeList.calcMax = function(this1,def) {
	if(def == null) {
		def = 0;
	}
	var result = null;
	var _g = 0;
	while(_g < this1.length) {
		var range = this1[_g];
		++_g;
		if(result == null || table_number_NumberColumn.compareNumbers(range.max,result) > 0) {
			result = range.max;
		}
	}
	var tmp = result;
	if(tmp != null) {
		return tmp;
	} else {
		return def;
	}
};
type_NumRangeList.toString = function(this1) {
	var result = new Array(this1.length);
	var _g = 0;
	var _g1 = this1.length;
	while(_g < _g1) {
		var i = _g++;
		result[i] = type_NumRange.toString(this1[i]);
	}
	return result.join(", ");
};
var type_Numpad = $hxEnums["type.Numpad"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.Numpad",toString:$estr}
	,Mini: {_hx_name:"Mini",_hx_index:1,__enum__:"type.Numpad",toString:$estr}
	,Full: {_hx_name:"Full",_hx_index:2,__enum__:"type.Numpad",toString:$estr}
};
type_Numpad.__constructs__ = [type_Numpad.None,type_Numpad.Mini,type_Numpad.Full];
var type_Shape = $hxEnums["type.Shape"] = { __ename__:true,__constructs__:null
	,Monoblock: {_hx_name:"Monoblock",_hx_index:0,__enum__:"type.Shape",toString:$estr}
	,Unibody: {_hx_name:"Unibody",_hx_index:1,__enum__:"type.Shape",toString:$estr}
	,Split: {_hx_name:"Split",_hx_index:2,__enum__:"type.Shape",toString:$estr}
	,Keywell: {_hx_name:"Keywell",_hx_index:3,__enum__:"type.Shape",toString:$estr}
	,Half: {_hx_name:"Half",_hx_index:4,__enum__:"type.Shape",toString:$estr}
	,Special: {_hx_name:"Special",_hx_index:5,__enum__:"type.Shape",toString:$estr}
};
type_Shape.__constructs__ = [type_Shape.Monoblock,type_Shape.Unibody,type_Shape.Split,type_Shape.Keywell,type_Shape.Half,type_Shape.Special];
var type_Software = $hxEnums["type.Software"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.Software",toString:$estr}
	,VIA: {_hx_name:"VIA",_hx_index:1,__enum__:"type.Software",toString:$estr}
	,Vial: {_hx_name:"Vial",_hx_index:2,__enum__:"type.Software",toString:$estr}
	,Remap: {_hx_name:"Remap",_hx_index:3,__enum__:"type.Software",toString:$estr}
	,Custom: {_hx_name:"Custom",_hx_index:4,__enum__:"type.Software",toString:$estr}
};
type_Software.__constructs__ = [type_Software.Unknown,type_Software.VIA,type_Software.Vial,type_Software.Remap,type_Software.Custom];
var type_SplayBase = $hxEnums["type.SplayBase"] = { __ename__:true,__constructs__:null
	,No: {_hx_name:"No",_hx_index:0,__enum__:"type.SplayBase",toString:$estr}
	,Yes: {_hx_name:"Yes",_hx_index:1,__enum__:"type.SplayBase",toString:$estr}
	,PinkyOnly: {_hx_name:"PinkyOnly",_hx_index:2,__enum__:"type.SplayBase",toString:$estr}
	,Optional: {_hx_name:"Optional",_hx_index:3,__enum__:"type.SplayBase",toString:$estr}
};
type_SplayBase.__constructs__ = [type_SplayBase.No,type_SplayBase.Yes,type_SplayBase.PinkyOnly,type_SplayBase.Optional];
var type_StaggerType = $hxEnums["type.StaggerType"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.StaggerType",toString:$estr}
	,Row: {_hx_name:"Row",_hx_index:1,__enum__:"type.StaggerType",toString:$estr}
	,Column: {_hx_name:"Column",_hx_index:2,__enum__:"type.StaggerType",toString:$estr}
	,Ortho: {_hx_name:"Ortho",_hx_index:3,__enum__:"type.StaggerType",toString:$estr}
};
type_StaggerType.__constructs__ = [type_StaggerType.Unknown,type_StaggerType.Row,type_StaggerType.Column,type_StaggerType.Ortho];
var type_SwitchProfile = $hxEnums["type.SwitchProfile"] = { __ename__:true,__constructs__:null
	,Unknown: {_hx_name:"Unknown",_hx_index:0,__enum__:"type.SwitchProfile",toString:$estr}
	,AnyHP: {_hx_name:"AnyHP",_hx_index:1,__enum__:"type.SwitchProfile",toString:$estr}
	,AnyLP: {_hx_name:"AnyLP",_hx_index:2,__enum__:"type.SwitchProfile",toString:$estr}
	,AnyMechanical: {_hx_name:"AnyMechanical",_hx_index:3,__enum__:"type.SwitchProfile",toString:$estr}
	,AnySimple: {_hx_name:"AnySimple",_hx_index:4,__enum__:"type.SwitchProfile",toString:$estr}
	,MX: {_hx_name:"MX",_hx_index:5,__enum__:"type.SwitchProfile",toString:$estr}
	,Choc: {_hx_name:"Choc",_hx_index:6,__enum__:"type.SwitchProfile",toString:$estr}
	,ChocV2: {_hx_name:"ChocV2",_hx_index:7,__enum__:"type.SwitchProfile",toString:$estr}
	,ChocMini: {_hx_name:"ChocMini",_hx_index:8,__enum__:"type.SwitchProfile",toString:$estr}
	,KXSwitch: {_hx_name:"KXSwitch",_hx_index:9,__enum__:"type.SwitchProfile",toString:$estr}
	,Alps: {_hx_name:"Alps",_hx_index:10,__enum__:"type.SwitchProfile",toString:$estr}
	,GateronLP: {_hx_name:"GateronLP",_hx_index:11,__enum__:"type.SwitchProfile",toString:$estr}
	,OutemuLP: {_hx_name:"OutemuLP",_hx_index:12,__enum__:"type.SwitchProfile",toString:$estr}
	,CherryULP: {_hx_name:"CherryULP",_hx_index:13,__enum__:"type.SwitchProfile",toString:$estr}
	,Optical: {_hx_name:"Optical",_hx_index:14,__enum__:"type.SwitchProfile",toString:$estr}
	,Simple: {_hx_name:"Simple",_hx_index:15,__enum__:"type.SwitchProfile",toString:$estr}
	,SimpleLP: {_hx_name:"SimpleLP",_hx_index:16,__enum__:"type.SwitchProfile",toString:$estr}
	,Topre: {_hx_name:"Topre",_hx_index:17,__enum__:"type.SwitchProfile",toString:$estr}
	,HallEffect: {_hx_name:"HallEffect",_hx_index:18,__enum__:"type.SwitchProfile",toString:$estr}
	,Other: {_hx_name:"Other",_hx_index:19,__enum__:"type.SwitchProfile",toString:$estr}
};
type_SwitchProfile.__constructs__ = [type_SwitchProfile.Unknown,type_SwitchProfile.AnyHP,type_SwitchProfile.AnyLP,type_SwitchProfile.AnyMechanical,type_SwitchProfile.AnySimple,type_SwitchProfile.MX,type_SwitchProfile.Choc,type_SwitchProfile.ChocV2,type_SwitchProfile.ChocMini,type_SwitchProfile.KXSwitch,type_SwitchProfile.Alps,type_SwitchProfile.GateronLP,type_SwitchProfile.OutemuLP,type_SwitchProfile.CherryULP,type_SwitchProfile.Optical,type_SwitchProfile.Simple,type_SwitchProfile.SimpleLP,type_SwitchProfile.Topre,type_SwitchProfile.HallEffect,type_SwitchProfile.Other];
var type_SwitchProfileTools = function() { };
type_SwitchProfileTools.__name__ = true;
type_SwitchProfileTools.isHP = function(p) {
	switch(p._hx_index) {
	case 1:
		return true;
	case 5:
		return true;
	case 10:
		return true;
	case 14:
		return true;
	case 15:
		return true;
	case 17:
		return true;
	default:
		return false;
	}
};
type_SwitchProfileTools.isLP = function(p) {
	switch(p._hx_index) {
	case 2:
		return true;
	case 6:
		return true;
	case 7:
		return true;
	case 8:
		return true;
	case 9:
		return true;
	case 11:
		return true;
	case 12:
		return true;
	case 13:
		return true;
	case 16:
		return true;
	default:
		return false;
	}
};
type_SwitchProfileTools.isMech = function(p) {
	switch(p._hx_index) {
	case 15:
		return false;
	case 16:
		return false;
	default:
		return true;
	}
};
var type_SwitchProfileColumn = function(name,field,et) {
	table_tag_TagListColumn.call(this,name,field,et);
};
type_SwitchProfileColumn.__name__ = true;
type_SwitchProfileColumn.__super__ = table_tag_TagListColumn;
type_SwitchProfileColumn.prototype = $extend(table_tag_TagListColumn.prototype,{
	showInFilters: function(val) {
		switch(val._hx_index) {
		case 1:case 2:
			return true;
		case 3:case 4:
			if(!table_tag_TagListColumn.prototype.showInFilters.call(this,type_SwitchProfile.Simple)) {
				return table_tag_TagListColumn.prototype.showInFilters.call(this,type_SwitchProfile.SimpleLP);
			} else {
				return true;
			}
			break;
		default:
			return table_tag_TagListColumn.prototype.showInFilters.call(this,val);
		}
	}
	,tagsContain: function(tags,tag) {
		switch(tag._hx_index) {
		case 1:
			var fn = type_SwitchProfileTools.isHP;
			var ret = false;
			var _g = 0;
			while(_g < tags.length) if(fn(tags[_g++])) {
				ret = true;
				break;
			}
			return ret;
		case 2:
			var fn = type_SwitchProfileTools.isLP;
			var ret = false;
			var _g = 0;
			while(_g < tags.length) if(fn(tags[_g++])) {
				ret = true;
				break;
			}
			return ret;
		case 3:
			var fn = type_SwitchProfileTools.isMech;
			var ret = false;
			var _g = 0;
			while(_g < tags.length) if(fn(tags[_g++])) {
				ret = true;
				break;
			}
			return ret;
		case 4:
			var fn = type_SwitchProfileTools.isMech;
			var ret = false;
			var _g = 0;
			while(_g < tags.length) if(fn(tags[_g++])) {
				ret = true;
				break;
			}
			return !ret;
		default:
			return table_tag_TagListColumn.prototype.tagsContain.call(this,tags,tag);
		}
	}
	,__class__: type_SwitchProfileColumn
});
var type_Tenting = $hxEnums["type.Tenting"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.Tenting",toString:$estr}
	,Fixed: {_hx_name:"Fixed",_hx_index:1,__enum__:"type.Tenting",toString:$estr}
	,Legs: {_hx_name:"Legs",_hx_index:2,__enum__:"type.Tenting",toString:$estr}
	,Mount: {_hx_name:"Mount",_hx_index:3,__enum__:"type.Tenting",toString:$estr}
};
type_Tenting.__constructs__ = [type_Tenting.None,type_Tenting.Fixed,type_Tenting.Legs,type_Tenting.Mount];
var type_ValList = {};
type_ValList.fromValue = function(val) {
	if(val == null) {
		return [];
	}
	return [val];
};
type_ValList.safeContains = function(this1,v) {
	if(this1 == null) {
		return false;
	}
	return this1.indexOf(v) != -1;
};
var type_WristPads = $hxEnums["type.WristPads"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.WristPads",toString:$estr}
	,Integrated: {_hx_name:"Integrated",_hx_index:1,__enum__:"type.WristPads",toString:$estr}
	,Detachable: {_hx_name:"Detachable",_hx_index:2,__enum__:"type.WristPads",toString:$estr}
};
type_WristPads.__constructs__ = [type_WristPads.None,type_WristPads.Integrated,type_WristPads.Detachable];
var type_row_BkspShape = $hxEnums["type.row.BkspShape"] = { __ename__:true,__constructs__:null
	,Wide: {_hx_name:"Wide",_hx_index:0,__enum__:"type.row.BkspShape",toString:$estr}
	,Split: {_hx_name:"Split",_hx_index:1,__enum__:"type.row.BkspShape",toString:$estr}
	,Short: {_hx_name:"Short",_hx_index:2,__enum__:"type.row.BkspShape",toString:$estr}
};
type_row_BkspShape.__constructs__ = [type_row_BkspShape.Wide,type_row_BkspShape.Split,type_row_BkspShape.Short];
var type_row_EnterShape = $hxEnums["type.row.EnterShape"] = { __ename__:true,__constructs__:null
	,ANSI: {_hx_name:"ANSI",_hx_index:0,__enum__:"type.row.EnterShape",toString:$estr}
	,ISO: {_hx_name:"ISO",_hx_index:1,__enum__:"type.row.EnterShape",toString:$estr}
	,Mini: {_hx_name:"Mini",_hx_index:2,__enum__:"type.row.EnterShape",toString:$estr}
};
type_row_EnterShape.__constructs__ = [type_row_EnterShape.ANSI,type_row_EnterShape.ISO,type_row_EnterShape.Mini];
var type_row_ExtraRowKeys = $hxEnums["type.row.ExtraRowKeys"] = { __ename__:true,__constructs__:null
	,ExtraB: {_hx_name:"ExtraB",_hx_index:0,__enum__:"type.row.ExtraRowKeys",toString:$estr}
	,ExtraY: {_hx_name:"ExtraY",_hx_index:1,__enum__:"type.row.ExtraRowKeys",toString:$estr}
	,Extra6: {_hx_name:"Extra6",_hx_index:2,__enum__:"type.row.ExtraRowKeys",toString:$estr}
	,Other: {_hx_name:"Other",_hx_index:3,__enum__:"type.row.ExtraRowKeys",toString:$estr}
};
type_row_ExtraRowKeys.__constructs__ = [type_row_ExtraRowKeys.ExtraB,type_row_ExtraRowKeys.ExtraY,type_row_ExtraRowKeys.Extra6,type_row_ExtraRowKeys.Other];
var type_row_FnPos = $hxEnums["type.row.FnPos"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.row.FnPos",toString:$estr}
	,LeftMost: {_hx_name:"LeftMost",_hx_index:1,__enum__:"type.row.FnPos",toString:$estr}
	,AfterLCtl: {_hx_name:"AfterLCtl",_hx_index:2,__enum__:"type.row.FnPos",toString:$estr}
	,AfterLGui: {_hx_name:"AfterLGui",_hx_index:3,__enum__:"type.row.FnPos",toString:$estr}
	,ReplaceLGui: {_hx_name:"ReplaceLGui",_hx_index:4,__enum__:"type.row.FnPos",toString:$estr}
	,AfterLAlt: {_hx_name:"AfterLAlt",_hx_index:5,__enum__:"type.row.FnPos",toString:$estr}
	,BeforeRAlt: {_hx_name:"BeforeRAlt",_hx_index:6,__enum__:"type.row.FnPos",toString:$estr}
	,BeforeMenu: {_hx_name:"BeforeMenu",_hx_index:7,__enum__:"type.row.FnPos",toString:$estr}
	,BeforeRGui: {_hx_name:"BeforeRGui",_hx_index:8,__enum__:"type.row.FnPos",toString:$estr}
	,ReplaceRGui: {_hx_name:"ReplaceRGui",_hx_index:9,__enum__:"type.row.FnPos",toString:$estr}
	,BeforeRCtl: {_hx_name:"BeforeRCtl",_hx_index:10,__enum__:"type.row.FnPos",toString:$estr}
	,RightMost: {_hx_name:"RightMost",_hx_index:11,__enum__:"type.row.FnPos",toString:$estr}
	,Elsewhere: {_hx_name:"Elsewhere",_hx_index:12,__enum__:"type.row.FnPos",toString:$estr}
};
type_row_FnPos.__constructs__ = [type_row_FnPos.None,type_row_FnPos.LeftMost,type_row_FnPos.AfterLCtl,type_row_FnPos.AfterLGui,type_row_FnPos.ReplaceLGui,type_row_FnPos.AfterLAlt,type_row_FnPos.BeforeRAlt,type_row_FnPos.BeforeMenu,type_row_FnPos.BeforeRGui,type_row_FnPos.ReplaceRGui,type_row_FnPos.BeforeRCtl,type_row_FnPos.RightMost,type_row_FnPos.Elsewhere];
var type_row_LShiftShape = $hxEnums["type.row.LShiftShape"] = { __ename__:true,__constructs__:null
	,ANSI: {_hx_name:"ANSI",_hx_index:0,__enum__:"type.row.LShiftShape",toString:$estr}
	,ISO: {_hx_name:"ISO",_hx_index:1,__enum__:"type.row.LShiftShape",toString:$estr}
	,Mini: {_hx_name:"Mini",_hx_index:2,__enum__:"type.row.LShiftShape",toString:$estr}
};
type_row_LShiftShape.__constructs__ = [type_row_LShiftShape.ANSI,type_row_LShiftShape.ISO,type_row_LShiftShape.Mini];
var type_row_MouseWheel = $hxEnums["type.row.MouseWheel"] = { __ename__:true,__constructs__:null
	,None: {_hx_name:"None",_hx_index:0,__enum__:"type.row.MouseWheel",toString:$estr}
	,Vertical: {_hx_name:"Vertical",_hx_index:1,__enum__:"type.row.MouseWheel",toString:$estr}
	,VerticalLR: {_hx_name:"VerticalLR",_hx_index:2,__enum__:"type.row.MouseWheel",toString:$estr}
};
type_row_MouseWheel.__constructs__ = [type_row_MouseWheel.None,type_row_MouseWheel.Vertical,type_row_MouseWheel.VerticalLR];
var type_row_RShiftShape = $hxEnums["type.row.RShiftShape"] = { __ename__:true,__constructs__:null
	,Normal: {_hx_name:"Normal",_hx_index:0,__enum__:"type.row.RShiftShape",toString:$estr}
	,LeftCut: {_hx_name:"LeftCut",_hx_index:1,__enum__:"type.row.RShiftShape",toString:$estr}
	,RightCut: {_hx_name:"RightCut",_hx_index:2,__enum__:"type.row.RShiftShape",toString:$estr}
	,Wide: {_hx_name:"Wide",_hx_index:3,__enum__:"type.row.RShiftShape",toString:$estr}
	,Mini: {_hx_name:"Mini",_hx_index:4,__enum__:"type.row.RShiftShape",toString:$estr}
	,None: {_hx_name:"None",_hx_index:5,__enum__:"type.row.RShiftShape",toString:$estr}
};
type_row_RShiftShape.__constructs__ = [type_row_RShiftShape.Normal,type_row_RShiftShape.LeftCut,type_row_RShiftShape.RightCut,type_row_RShiftShape.Wide,type_row_RShiftShape.Mini,type_row_RShiftShape.None];
var type_row_SpaceShape = $hxEnums["type.row.SpaceShape"] = { __ename__:true,__constructs__:null
	,Normal: {_hx_name:"Normal",_hx_index:0,__enum__:"type.row.SpaceShape",toString:$estr}
	,Split: {_hx_name:"Split",_hx_index:1,__enum__:"type.row.SpaceShape",toString:$estr}
	,SplitDistinct: {_hx_name:"SplitDistinct",_hx_index:2,__enum__:"type.row.SpaceShape",toString:$estr}
	,SplitDistinctFn: {_hx_name:"SplitDistinctFn",_hx_index:3,__enum__:"type.row.SpaceShape",toString:$estr}
	,Multi: {_hx_name:"Multi",_hx_index:4,__enum__:"type.row.SpaceShape",toString:$estr}
};
type_row_SpaceShape.__constructs__ = [type_row_SpaceShape.Normal,type_row_SpaceShape.Split,type_row_SpaceShape.SplitDistinct,type_row_SpaceShape.SplitDistinctFn,type_row_SpaceShape.Multi];
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
if(typeof(performance) != "undefined" ? typeof(performance.now) == "function" : false) {
	HxOverrides.now = performance.now.bind(performance);
}
if( String.fromCodePoint == null ) String.fromCodePoint = function(c) { return c < 0x10000 ? String.fromCharCode(c) : String.fromCharCode((c>>10)+0xD7C0)+String.fromCharCode((c&0x3FF)+0xDC00); }
Object.defineProperty(String.prototype,"__class__",{ value : String, enumerable : false, writable : true});
String.__name__ = true;
Array.__name__ = true;
Date.prototype.__class__ = Date;
Date.__name__ = "Date";
var Tippy = window["tippy"];
js_Boot.__toStr = ({ }).toString;
table_FancyColumn.defaultShow = false;
table_LinkListColumn.domainCountries = { };
table_LinkListColumn.countryTags = { };
table_LinkListColumn.rxFlag = new RegExp("\\[flag:\\s*(\\w+)(?:\\|(.+?))\\]","g");
table_number_NumberRangeListColumn.rxRange = new RegExp("^(.+?)(-|\\.{2,3})(.+?)$");
tools_Symbols.hairSpace = String.fromCodePoint(8202);
type_ControllerColumn.parseIntPlus_rx = new RegExp("^(.+)\\s*\\+\\s*(\\d+)\\s*$");
type_ControllerColumn.otherPrefix = "!";
type_ControllerColumn.otherMatcher = new RegExp("^(.+),\\s*(!.+)$");
type_NumRange.parseInt_rxRange = new RegExp("^\\s*" + "(\\d+)" + "\\s*" + "(?:\\.\\.|-)" + "\\s*" + "(\\d+)" + "\\s*" + "$");
Main.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
